(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const f of l)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function o(l){const f={};return l.integrity&&(f.integrity=l.integrity),l.referrerPolicy&&(f.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?f.credentials="include":l.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function r(l){if(l.ep)return;l.ep=!0;const f=o(l);fetch(l.href,f)}})();function ny(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var uf={exports:{}},jr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ng;function Z_(){if(ng)return jr;ng=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function o(r,l,f){var h=null;if(f!==void 0&&(h=""+f),l.key!==void 0&&(h=""+l.key),"key"in l){f={};for(var _ in l)_!=="key"&&(f[_]=l[_])}else f=l;return l=f.ref,{$$typeof:n,type:r,key:h,ref:l!==void 0?l:null,props:f}}return jr.Fragment=t,jr.jsx=o,jr.jsxs=o,jr}var ig;function Y_(){return ig||(ig=1,uf.exports=Z_()),uf.exports}var v=Y_(),cf={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var og;function J_(){if(og)return Re;og=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),C=Symbol.iterator;function R(B){return B===null||typeof B!="object"?null:(B=C&&B[C]||B["@@iterator"],typeof B=="function"?B:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,I={};function H(B,Q,re){this.props=B,this.context=Q,this.refs=I,this.updater=re||k}H.prototype.isReactComponent={},H.prototype.setState=function(B,Q){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,Q,"setState")},H.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function X(){}X.prototype=H.prototype;function O(B,Q,re){this.props=B,this.context=Q,this.refs=I,this.updater=re||k}var ie=O.prototype=new X;ie.constructor=O,D(ie,H.prototype),ie.isPureReactComponent=!0;var le=Array.isArray;function pe(){}var oe={H:null,A:null,T:null,S:null},Ae=Object.prototype.hasOwnProperty;function fe(B,Q,re){var ue=re.ref;return{$$typeof:n,type:B,key:Q,ref:ue!==void 0?ue:null,props:re}}function Ee(B,Q){return fe(B.type,Q,B.props)}function be(B){return typeof B=="object"&&B!==null&&B.$$typeof===n}function Le(B){var Q={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(re){return Q[re]})}var ze=/\/+/g;function ee(B,Q){return typeof B=="object"&&B!==null&&B.key!=null?Le(""+B.key):Q.toString(36)}function Qe(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(pe,pe):(B.status="pending",B.then(function(Q){B.status==="pending"&&(B.status="fulfilled",B.value=Q)},function(Q){B.status==="pending"&&(B.status="rejected",B.reason=Q)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function j(B,Q,re,ue,ge){var me=typeof B;(me==="undefined"||me==="boolean")&&(B=null);var ke=!1;if(B===null)ke=!0;else switch(me){case"bigint":case"string":case"number":ke=!0;break;case"object":switch(B.$$typeof){case n:case t:ke=!0;break;case E:return ke=B._init,j(ke(B._payload),Q,re,ue,ge)}}if(ke)return ge=ge(B),ke=ue===""?"."+ee(B,0):ue,le(ge)?(re="",ke!=null&&(re=ke.replace(ze,"$&/")+"/"),j(ge,Q,re,"",function(_i){return _i})):ge!=null&&(be(ge)&&(ge=Ee(ge,re+(ge.key==null||B&&B.key===ge.key?"":(""+ge.key).replace(ze,"$&/")+"/")+ke)),Q.push(ge)),1;ke=0;var ht=ue===""?".":ue+":";if(le(B))for(var mt=0;mt<B.length;mt++)ue=B[mt],me=ht+ee(ue,mt),ke+=j(ue,Q,re,me,ge);else if(mt=R(B),typeof mt=="function")for(B=mt.call(B),mt=0;!(ue=B.next()).done;)ue=ue.value,me=ht+ee(ue,mt++),ke+=j(ue,Q,re,me,ge);else if(me==="object"){if(typeof B.then=="function")return j(Qe(B),Q,re,ue,ge);throw Q=String(B),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return ke}function ae(B,Q,re){if(B==null)return B;var ue=[],ge=0;return j(B,ue,"","",function(me){return Q.call(re,me,ge++)}),ue}function se(B){if(B._status===-1){var Q=B._result;Q=Q(),Q.then(function(re){(B._status===0||B._status===-1)&&(B._status=1,B._result=re)},function(re){(B._status===0||B._status===-1)&&(B._status=2,B._result=re)}),B._status===-1&&(B._status=0,B._result=Q)}if(B._status===1)return B._result.default;throw B._result}var $e=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)},he={map:ae,forEach:function(B,Q,re){ae(B,function(){Q.apply(this,arguments)},re)},count:function(B){var Q=0;return ae(B,function(){Q++}),Q},toArray:function(B){return ae(B,function(Q){return Q})||[]},only:function(B){if(!be(B))throw Error("React.Children.only expected to receive a single React element child.");return B}};return Re.Activity=b,Re.Children=he,Re.Component=H,Re.Fragment=o,Re.Profiler=l,Re.PureComponent=O,Re.StrictMode=r,Re.Suspense=x,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=oe,Re.__COMPILER_RUNTIME={__proto__:null,c:function(B){return oe.H.useMemoCache(B)}},Re.cache=function(B){return function(){return B.apply(null,arguments)}},Re.cacheSignal=function(){return null},Re.cloneElement=function(B,Q,re){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var ue=D({},B.props),ge=B.key;if(Q!=null)for(me in Q.key!==void 0&&(ge=""+Q.key),Q)!Ae.call(Q,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&Q.ref===void 0||(ue[me]=Q[me]);var me=arguments.length-2;if(me===1)ue.children=re;else if(1<me){for(var ke=Array(me),ht=0;ht<me;ht++)ke[ht]=arguments[ht+2];ue.children=ke}return fe(B.type,ge,ue)},Re.createContext=function(B){return B={$$typeof:h,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:f,_context:B},B},Re.createElement=function(B,Q,re){var ue,ge={},me=null;if(Q!=null)for(ue in Q.key!==void 0&&(me=""+Q.key),Q)Ae.call(Q,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(ge[ue]=Q[ue]);var ke=arguments.length-2;if(ke===1)ge.children=re;else if(1<ke){for(var ht=Array(ke),mt=0;mt<ke;mt++)ht[mt]=arguments[mt+2];ge.children=ht}if(B&&B.defaultProps)for(ue in ke=B.defaultProps,ke)ge[ue]===void 0&&(ge[ue]=ke[ue]);return fe(B,me,ge)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(B){return{$$typeof:_,render:B}},Re.isValidElement=be,Re.lazy=function(B){return{$$typeof:E,_payload:{_status:-1,_result:B},_init:se}},Re.memo=function(B,Q){return{$$typeof:y,type:B,compare:Q===void 0?null:Q}},Re.startTransition=function(B){var Q=oe.T,re={};oe.T=re;try{var ue=B(),ge=oe.S;ge!==null&&ge(re,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(pe,$e)}catch(me){$e(me)}finally{Q!==null&&re.types!==null&&(Q.types=re.types),oe.T=Q}},Re.unstable_useCacheRefresh=function(){return oe.H.useCacheRefresh()},Re.use=function(B){return oe.H.use(B)},Re.useActionState=function(B,Q,re){return oe.H.useActionState(B,Q,re)},Re.useCallback=function(B,Q){return oe.H.useCallback(B,Q)},Re.useContext=function(B){return oe.H.useContext(B)},Re.useDebugValue=function(){},Re.useDeferredValue=function(B,Q){return oe.H.useDeferredValue(B,Q)},Re.useEffect=function(B,Q){return oe.H.useEffect(B,Q)},Re.useEffectEvent=function(B){return oe.H.useEffectEvent(B)},Re.useId=function(){return oe.H.useId()},Re.useImperativeHandle=function(B,Q,re){return oe.H.useImperativeHandle(B,Q,re)},Re.useInsertionEffect=function(B,Q){return oe.H.useInsertionEffect(B,Q)},Re.useLayoutEffect=function(B,Q){return oe.H.useLayoutEffect(B,Q)},Re.useMemo=function(B,Q){return oe.H.useMemo(B,Q)},Re.useOptimistic=function(B,Q){return oe.H.useOptimistic(B,Q)},Re.useReducer=function(B,Q,re){return oe.H.useReducer(B,Q,re)},Re.useRef=function(B){return oe.H.useRef(B)},Re.useState=function(B){return oe.H.useState(B)},Re.useSyncExternalStore=function(B,Q,re){return oe.H.useSyncExternalStore(B,Q,re)},Re.useTransition=function(){return oe.H.useTransition()},Re.version="19.2.3",Re}var sg;function Of(){return sg||(sg=1,cf.exports=J_()),cf.exports}var z=Of();const j_=ny(z);var df={exports:{}},Kr={},ff={exports:{}},hf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ag;function K_(){return ag||(ag=1,(function(n){function t(j,ae){var se=j.length;j.push(ae);e:for(;0<se;){var $e=se-1>>>1,he=j[$e];if(0<l(he,ae))j[$e]=ae,j[se]=he,se=$e;else break e}}function o(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var ae=j[0],se=j.pop();if(se!==ae){j[0]=se;e:for(var $e=0,he=j.length,B=he>>>1;$e<B;){var Q=2*($e+1)-1,re=j[Q],ue=Q+1,ge=j[ue];if(0>l(re,se))ue<he&&0>l(ge,re)?(j[$e]=ge,j[ue]=se,$e=ue):(j[$e]=re,j[Q]=se,$e=Q);else if(ue<he&&0>l(ge,se))j[$e]=ge,j[ue]=se,$e=ue;else break e}}return ae}function l(j,ae){var se=j.sortIndex-ae.sortIndex;return se!==0?se:j.id-ae.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;n.unstable_now=function(){return f.now()}}else{var h=Date,_=h.now();n.unstable_now=function(){return h.now()-_}}var x=[],y=[],E=1,b=null,C=3,R=!1,k=!1,D=!1,I=!1,H=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function ie(j){for(var ae=o(y);ae!==null;){if(ae.callback===null)r(y);else if(ae.startTime<=j)r(y),ae.sortIndex=ae.expirationTime,t(x,ae);else break;ae=o(y)}}function le(j){if(D=!1,ie(j),!k)if(o(x)!==null)k=!0,pe||(pe=!0,Le());else{var ae=o(y);ae!==null&&Qe(le,ae.startTime-j)}}var pe=!1,oe=-1,Ae=5,fe=-1;function Ee(){return I?!0:!(n.unstable_now()-fe<Ae)}function be(){if(I=!1,pe){var j=n.unstable_now();fe=j;var ae=!0;try{e:{k=!1,D&&(D=!1,X(oe),oe=-1),R=!0;var se=C;try{t:{for(ie(j),b=o(x);b!==null&&!(b.expirationTime>j&&Ee());){var $e=b.callback;if(typeof $e=="function"){b.callback=null,C=b.priorityLevel;var he=$e(b.expirationTime<=j);if(j=n.unstable_now(),typeof he=="function"){b.callback=he,ie(j),ae=!0;break t}b===o(x)&&r(x),ie(j)}else r(x);b=o(x)}if(b!==null)ae=!0;else{var B=o(y);B!==null&&Qe(le,B.startTime-j),ae=!1}}break e}finally{b=null,C=se,R=!1}ae=void 0}}finally{ae?Le():pe=!1}}}var Le;if(typeof O=="function")Le=function(){O(be)};else if(typeof MessageChannel<"u"){var ze=new MessageChannel,ee=ze.port2;ze.port1.onmessage=be,Le=function(){ee.postMessage(null)}}else Le=function(){H(be,0)};function Qe(j,ae){oe=H(function(){j(n.unstable_now())},ae)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(j){j.callback=null},n.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ae=0<j?Math.floor(1e3/j):5},n.unstable_getCurrentPriorityLevel=function(){return C},n.unstable_next=function(j){switch(C){case 1:case 2:case 3:var ae=3;break;default:ae=C}var se=C;C=ae;try{return j()}finally{C=se}},n.unstable_requestPaint=function(){I=!0},n.unstable_runWithPriority=function(j,ae){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var se=C;C=j;try{return ae()}finally{C=se}},n.unstable_scheduleCallback=function(j,ae,se){var $e=n.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?$e+se:$e):se=$e,j){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=se+he,j={id:E++,callback:ae,priorityLevel:j,startTime:se,expirationTime:he,sortIndex:-1},se>$e?(j.sortIndex=se,t(y,j),o(x)===null&&j===o(y)&&(D?(X(oe),oe=-1):D=!0,Qe(le,se-$e))):(j.sortIndex=he,t(x,j),k||R||(k=!0,pe||(pe=!0,Le()))),j},n.unstable_shouldYield=Ee,n.unstable_wrapCallback=function(j){var ae=C;return function(){var se=C;C=ae;try{return j.apply(this,arguments)}finally{C=se}}}})(hf)),hf}var rg;function X_(){return rg||(rg=1,ff.exports=K_()),ff.exports}var mf={exports:{}},jt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lg;function Q_(){if(lg)return jt;lg=1;var n=Of();function t(x){var y="https://react.dev/errors/"+x;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+x+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var r={d:{f:o,r:function(){throw Error(t(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},l=Symbol.for("react.portal");function f(x,y,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:x,containerInfo:y,implementation:E}}var h=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function _(x,y){if(x==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return jt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,jt.createPortal=function(x,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return f(x,y,null,E)},jt.flushSync=function(x){var y=h.T,E=r.p;try{if(h.T=null,r.p=2,x)return x()}finally{h.T=y,r.p=E,r.d.f()}},jt.preconnect=function(x,y){typeof x=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(x,y))},jt.prefetchDNS=function(x){typeof x=="string"&&r.d.D(x)},jt.preinit=function(x,y){if(typeof x=="string"&&y&&typeof y.as=="string"){var E=y.as,b=_(E,y.crossOrigin),C=typeof y.integrity=="string"?y.integrity:void 0,R=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?r.d.S(x,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:C,fetchPriority:R}):E==="script"&&r.d.X(x,{crossOrigin:b,integrity:C,fetchPriority:R,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},jt.preinitModule=function(x,y){if(typeof x=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=_(y.as,y.crossOrigin);r.d.M(x,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(x)},jt.preload=function(x,y){if(typeof x=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,b=_(E,y.crossOrigin);r.d.L(x,E,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},jt.preloadModule=function(x,y){if(typeof x=="string")if(y){var E=_(y.as,y.crossOrigin);r.d.m(x,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(x)},jt.requestFormReset=function(x){r.d.r(x)},jt.unstable_batchedUpdates=function(x,y){return x(y)},jt.useFormState=function(x,y,E){return h.H.useFormState(x,y,E)},jt.useFormStatus=function(){return h.H.useHostTransitionStatus()},jt.version="19.2.3",jt}var ug;function $_(){if(ug)return mf.exports;ug=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),mf.exports=Q_(),mf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cg;function W_(){if(cg)return Kr;cg=1;var n=X_(),t=Of(),o=$_();function r(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function h(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function _(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function x(e){if(f(e)!==e)throw Error(r(188))}function y(e){var i=e.alternate;if(!i){if(i=f(e),i===null)throw Error(r(188));return i!==e?null:e}for(var a=e,c=i;;){var g=a.return;if(g===null)break;var S=g.alternate;if(S===null){if(c=g.return,c!==null){a=c;continue}break}if(g.child===S.child){for(S=g.child;S;){if(S===a)return x(g),e;if(S===c)return x(g),i;S=S.sibling}throw Error(r(188))}if(a.return!==c.return)a=g,c=S;else{for(var N=!1,M=g.child;M;){if(M===a){N=!0,a=g,c=S;break}if(M===c){N=!0,c=g,a=S;break}M=M.sibling}if(!N){for(M=S.child;M;){if(M===a){N=!0,a=S,c=g;break}if(M===c){N=!0,c=S,a=g;break}M=M.sibling}if(!N)throw Error(r(189))}}if(a.alternate!==c)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:i}function E(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=E(e),i!==null)return i;e=e.sibling}return null}var b=Object.assign,C=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),X=Symbol.for("react.consumer"),O=Symbol.for("react.context"),ie=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),pe=Symbol.for("react.suspense_list"),oe=Symbol.for("react.memo"),Ae=Symbol.for("react.lazy"),fe=Symbol.for("react.activity"),Ee=Symbol.for("react.memo_cache_sentinel"),be=Symbol.iterator;function Le(e){return e===null||typeof e!="object"?null:(e=be&&e[be]||e["@@iterator"],typeof e=="function"?e:null)}var ze=Symbol.for("react.client.reference");function ee(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ze?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case D:return"Fragment";case H:return"Profiler";case I:return"StrictMode";case le:return"Suspense";case pe:return"SuspenseList";case fe:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case k:return"Portal";case O:return e.displayName||"Context";case X:return(e._context.displayName||"Context")+".Consumer";case ie:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case oe:return i=e.displayName||null,i!==null?i:ee(e.type)||"Memo";case Ae:i=e._payload,e=e._init;try{return ee(e(i))}catch{}}return null}var Qe=Array.isArray,j=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},$e=[],he=-1;function B(e){return{current:e}}function Q(e){0>he||(e.current=$e[he],$e[he]=null,he--)}function re(e,i){he++,$e[he]=e.current,e.current=i}var ue=B(null),ge=B(null),me=B(null),ke=B(null);function ht(e,i){switch(re(me,i),re(ge,e),re(ue,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?Cp(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=Cp(i),e=wp(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Q(ue),re(ue,e)}function mt(){Q(ue),Q(ge),Q(me)}function _i(e){e.memoizedState!==null&&re(ke,e);var i=ue.current,a=wp(i,e.type);i!==a&&(re(ge,e),re(ue,a))}function $i(e){ge.current===e&&(Q(ue),Q(ge)),ke.current===e&&(Q(ke),Fr._currentValue=se)}var xi,ks;function Si(e){if(xi===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);xi=i&&i[1]||"",ks=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xi+e+ks}var Us=!1;function zs(e,i){if(!e||Us)return"";Us=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(i){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(K){var J=K}Reflect.construct(e,[],ne)}else{try{ne.call()}catch(K){J=K}e.call(ne.prototype)}}else{try{throw Error()}catch(K){J=K}(ne=e())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(K){if(K&&J&&typeof K.stack=="string")return[K.stack,J.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=c.DetermineComponentFrameRoot(),N=S[0],M=S[1];if(N&&M){var U=N.split(`
`),Z=M.split(`
`);for(g=c=0;c<U.length&&!U[c].includes("DetermineComponentFrameRoot");)c++;for(;g<Z.length&&!Z[g].includes("DetermineComponentFrameRoot");)g++;if(c===U.length||g===Z.length)for(c=U.length-1,g=Z.length-1;1<=c&&0<=g&&U[c]!==Z[g];)g--;for(;1<=c&&0<=g;c--,g--)if(U[c]!==Z[g]){if(c!==1||g!==1)do if(c--,g--,0>g||U[c]!==Z[g]){var $=`
`+U[c].replace(" at new "," at ");return e.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",e.displayName)),$}while(1<=c&&0<=g);break}}}finally{Us=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Si(a):""}function Va(e,i){switch(e.tag){case 26:case 27:case 5:return Si(e.type);case 16:return Si("Lazy");case 13:return e.child!==i&&i!==null?Si("Suspense Fallback"):Si("Suspense");case 19:return Si("SuspenseList");case 0:case 15:return zs(e.type,!1);case 11:return zs(e.type.render,!1);case 1:return zs(e.type,!0);case 31:return Si("Activity");default:return""}}function Go(e){try{var i="",a=null;do i+=Va(e,a),a=e,e=e.return;while(e);return i}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var qa=Object.prototype.hasOwnProperty,Bs=n.unstable_scheduleCallback,Vo=n.unstable_cancelCallback,al=n.unstable_shouldYield,rl=n.unstable_requestPaint,Xt=n.unstable_now,cc=n.unstable_getCurrentPriorityLevel,Hs=n.unstable_ImmediatePriority,Fa=n.unstable_UserBlockingPriority,qo=n.unstable_NormalPriority,dc=n.unstable_LowPriority,Za=n.unstable_IdlePriority,ll=n.log,fc=n.unstable_setDisableYieldValue,Wi=null,Gt=null;function On(e){if(typeof ll=="function"&&fc(e),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(Wi,e)}catch{}}var Qt=Math.clz32?Math.clz32:mc,Fo=Math.log,hc=Math.LN2;function mc(e){return e>>>=0,e===0?32:31-(Fo(e)/hc|0)|0}var Zo=256,Yo=262144,Jo=4194304;function Ti(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Os(e,i,a){var c=e.pendingLanes;if(c===0)return 0;var g=0,S=e.suspendedLanes,N=e.pingedLanes;e=e.warmLanes;var M=c&134217727;return M!==0?(c=M&~S,c!==0?g=Ti(c):(N&=M,N!==0?g=Ti(N):a||(a=M&~e,a!==0&&(g=Ti(a))))):(M=c&~S,M!==0?g=Ti(M):N!==0?g=Ti(N):a||(a=c&~e,a!==0&&(g=Ti(a)))),g===0?0:i!==0&&i!==g&&(i&S)===0&&(S=g&-g,a=i&-i,S>=a||S===32&&(a&4194048)!==0)?i:g}function jo(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function pc(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ul(){var e=Jo;return Jo<<=1,(Jo&62914560)===0&&(Jo=4194304),e}function Ya(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function Ei(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function gc(e,i,a,c,g,S){var N=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var M=e.entanglements,U=e.expirationTimes,Z=e.hiddenUpdates;for(a=N&~a;0<a;){var $=31-Qt(a),ne=1<<$;M[$]=0,U[$]=-1;var J=Z[$];if(J!==null)for(Z[$]=null,$=0;$<J.length;$++){var K=J[$];K!==null&&(K.lane&=-536870913)}a&=~ne}c!==0&&cl(e,c,0),S!==0&&g===0&&e.tag!==0&&(e.suspendedLanes|=S&~(N&~i))}function cl(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var c=31-Qt(i);e.entangledLanes|=i,e.entanglements[c]=e.entanglements[c]|1073741824|a&261930}function dl(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var c=31-Qt(a),g=1<<c;g&i|e[c]&i&&(e[c]|=i),a&=~g}}function fl(e,i){var a=i&-i;return a=(a&42)!==0?1:on(a),(a&(e.suspendedLanes|i))!==0?0:a}function on(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function _e(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ja(){var e=ae.p;return e!==0?e:(e=window.event,e===void 0?32:Kp(e.type))}function ja(e,i){var a=ae.p;try{return ae.p=e,i()}finally{ae.p=a}}var Gn=Math.random().toString(36).slice(2),Nt="__reactFiber$"+Gn,Ut="__reactProps$"+Gn,bi="__reactContainer$"+Gn,ni="__reactEvents$"+Gn,hl="__reactListeners$"+Gn,vc="__reactHandles$"+Gn,ml="__reactResources$"+Gn,Ko="__reactMarker$"+Gn;function Ka(e){delete e[Nt],delete e[Ut],delete e[ni],delete e[hl],delete e[vc]}function Ci(e){var i=e[Nt];if(i)return i;for(var a=e.parentNode;a;){if(i=a[bi]||a[Nt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=Dp(e);e!==null;){if(a=e[Nt])return a;e=Dp(e)}return i}e=a,a=e.parentNode}return null}function eo(e){if(e=e[Nt]||e[bi]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function ii(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(r(33))}function to(e){var i=e[ml];return i||(i=e[ml]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function At(e){e[Ko]=!0}var pl=new Set,gl={};function wi(e,i){oi(e,i),oi(e+"Capture",i)}function oi(e,i){for(gl[e]=i,e=0;e<i.length;e++)pl.add(i[e])}var Xo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xa={},Qa={};function Qo(e){return qa.call(Qa,e)?!0:qa.call(Xa,e)?!1:Xo.test(e)?Qa[e]=!0:(Xa[e]=!0,!1)}function Be(e,i,a){if(Qo(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var c=i.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function it(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function sn(e,i,a,c){if(c===null)e.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+c)}}function Dt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ni(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function $a(e,i,a){var c=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,S=c.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return g.call(this)},set:function(N){a=""+N,S.call(this,N)}}),Object.defineProperty(e,i,{enumerable:c.enumerable}),{getValue:function(){return a},setValue:function(N){a=""+N},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Me(e){if(!e._valueTracker){var i=Ni(e)?"checked":"value";e._valueTracker=$a(e,i,""+e[i])}}function pt(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),c="";return e&&(c=Ni(e)?e.checked?"true":"false":e.value),e=c,e!==a?(i.setValue(e),!0):!1}function no(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Gs=/[\n"\\]/g;function dt(e){return e.replace(Gs,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Wa(e,i,a,c,g,S,N,M){e.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?e.type=N:e.removeAttribute("type"),i!=null?N==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Dt(i)):e.value!==""+Dt(i)&&(e.value=""+Dt(i)):N!=="submit"&&N!=="reset"||e.removeAttribute("value"),i!=null?Vn(e,N,Dt(i)):a!=null?Vn(e,N,Dt(a)):c!=null&&e.removeAttribute("value"),g==null&&S!=null&&(e.defaultChecked=!!S),g!=null&&(e.checked=g&&typeof g!="function"&&typeof g!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?e.name=""+Dt(M):e.removeAttribute("name")}function $o(e,i,a,c,g,S,N,M){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(e.type=S),i!=null||a!=null){if(!(S!=="submit"&&S!=="reset"||i!=null)){Me(e);return}a=a!=null?""+Dt(a):"",i=i!=null?""+Dt(i):a,M||i===e.value||(e.value=i),e.defaultValue=i}c=c??g,c=typeof c!="function"&&typeof c!="symbol"&&!!c,e.checked=M?e.checked:!!c,e.defaultChecked=!!c,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(e.name=N),Me(e)}function Vn(e,i,a){i==="number"&&no(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function ut(e,i,a,c){if(e=e.options,i){i={};for(var g=0;g<a.length;g++)i["$"+a[g]]=!0;for(a=0;a<e.length;a++)g=i.hasOwnProperty("$"+e[a].value),e[a].selected!==g&&(e[a].selected=g),g&&c&&(e[a].defaultSelected=!0)}else{for(a=""+Dt(a),i=null,g=0;g<e.length;g++){if(e[g].value===a){e[g].selected=!0,c&&(e[g].defaultSelected=!0);return}i!==null||e[g].disabled||(i=e[g])}i!==null&&(i.selected=!0)}}function si(e,i,a){if(i!=null&&(i=""+Dt(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+Dt(a):""}function io(e,i,a,c){if(i==null){if(c!=null){if(a!=null)throw Error(r(92));if(Qe(c)){if(1<c.length)throw Error(r(93));c=c[0]}a=c}a==null&&(a=""),i=a}a=Dt(i),e.defaultValue=a,c=e.textContent,c===a&&c!==""&&c!==null&&(e.value=c),Me(e)}function wn(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var er=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function oo(e,i,a){var c=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?c?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":c?e.setProperty(i,a):typeof a!="number"||a===0||er.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Vs(e,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(e=e.style,a!=null){for(var c in a)!a.hasOwnProperty(c)||i!=null&&i.hasOwnProperty(c)||(c.indexOf("--")===0?e.setProperty(c,""):c==="float"?e.cssFloat="":e[c]="");for(var g in i)c=i[g],i.hasOwnProperty(g)&&a[g]!==c&&oo(e,g,c)}else for(var S in i)i.hasOwnProperty(S)&&oo(e,S,i[S])}function Wo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qs=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),tr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function so(e){return tr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function an(){}var Fs=null;function es(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ao=null,we=null;function vn(e){var i=eo(e);if(i&&(e=i.stateNode)){var a=e[Ut]||null;e:switch(e=i.stateNode,i.type){case"input":if(Wa(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+dt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var c=a[i];if(c!==e&&c.form===e.form){var g=c[Ut]||null;if(!g)throw Error(r(90));Wa(c,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(i=0;i<a.length;i++)c=a[i],c.form===e.form&&pt(c)}break e;case"textarea":si(e,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&ut(e,!!a.multiple,i,!1)}}}var et=!1;function nr(e,i,a){if(et)return e(i,a);et=!0;try{var c=e(i);return c}finally{if(et=!1,(ao!==null||we!==null)&&(fu(),ao&&(i=ao,e=we,we=ao=null,vn(i),e)))for(i=0;i<e.length;i++)vn(e[i])}}function Ai(e,i){var a=e.stateNode;if(a===null)return null;var c=a[Ut]||null;if(c===null)return null;a=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ts=!1;if(yn)try{var _n={};Object.defineProperty(_n,"passive",{get:function(){ts=!0}}),window.addEventListener("test",_n,_n),window.removeEventListener("test",_n,_n)}catch{ts=!1}var Nn=null,Mi=null,xt=null;function ai(){if(xt)return xt;var e,i=Mi,a=i.length,c,g="value"in Nn?Nn.value:Nn.textContent,S=g.length;for(e=0;e<a&&i[e]===g[e];e++);var N=a-e;for(c=1;c<=N&&i[a-c]===g[S-c];c++);return xt=g.slice(e,1<c?1-c:void 0)}function ns(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function is(){return!0}function vl(){return!1}function Vt(e){function i(a,c,g,S,N){this._reactName=a,this._targetInst=g,this.type=c,this.nativeEvent=S,this.target=N,this.currentTarget=null;for(var M in e)e.hasOwnProperty(M)&&(a=e[M],this[M]=a?a(S):S[M]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?is:vl,this.isPropagationStopped=vl,this}return b(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=is)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=is)},persist:function(){},isPersistent:is}),i}var qn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zs=Vt(qn),ro=b({},qn,{view:0,detail:0}),Ve=Vt(ro),ir,$t,Fn,os=b({},ro,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ur,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fn&&(Fn&&e.type==="mousemove"?(ir=e.screenX-Fn.screenX,$t=e.screenY-Fn.screenY):$t=ir=0,Fn=e),ir)},movementY:function(e){return"movementY"in e?e.movementY:$t}}),yl=Vt(os),or=b({},os,{dataTransfer:0}),yc=Vt(or),_l=b({},ro,{relatedTarget:0}),sr=Vt(_l),_c=b({},qn,{animationName:0,elapsedTime:0,pseudoElement:0}),ar=Vt(_c),xc=b({},qn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),An=Vt(xc),Sc=b({},qn,{data:0}),rr=Vt(Sc),ri={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lr(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Sl[e])?!!i[e]:!1}function ur(){return lr}var Tl=b({},ro,{key:function(e){if(e.key){var i=ri[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=ns(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?xl[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ur,charCode:function(e){return e.type==="keypress"?ns(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ns(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),El=Vt(Tl),Tc=b({},os,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bl=Vt(Tc),cr=b({},ro,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ur}),Ec=Vt(cr),Cl=b({},qn,{propertyName:0,elapsedTime:0,pseudoElement:0}),wl=Vt(Cl),Ys=b({},os,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ri=Vt(Ys),bc=b({},qn,{newState:0,oldState:0}),ss=Vt(bc),rn=[9,13,27,32],Js=yn&&"CompositionEvent"in window,lo=null;yn&&"documentMode"in document&&(lo=document.documentMode);var Cc=yn&&"TextEvent"in window&&!lo,js=yn&&(!Js||lo&&8<lo&&11>=lo),Ks=" ",Nl=!1;function Al(e,i){switch(e){case"keyup":return rn.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dr(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var uo=!1;function xn(e,i){switch(e){case"compositionend":return dr(i);case"keypress":return i.which!==32?null:(Nl=!0,Ks);case"textInput":return e=i.data,e===Ks&&Nl?null:e;default:return null}}function co(e,i){if(uo)return e==="compositionend"||!Js&&Al(e,i)?(e=ai(),xt=Mi=Nn=null,uo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return js&&i.locale!=="ko"?null:i.data;default:return null}}var wc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mn(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!wc[e.type]:i==="textarea"}function Ml(e,i,a,c){ao?we?we.push(c):we=[c]:ao=c,i=_u(i,"onChange"),0<i.length&&(a=new Zs("onChange","change",null,a,c),e.push({event:a,listeners:i}))}var Rn=null,as=null;function rs(e){_p(e,0)}function ls(e){var i=ii(e);if(pt(i))return e}function us(e,i){if(e==="change")return i}var Rl=!1;if(yn){var In;if(yn){var fo="oninput"in document;if(!fo){var Il=document.createElement("div");Il.setAttribute("oninput","return;"),fo=typeof Il.oninput=="function"}In=fo}else In=!1;Rl=In&&(!document.documentMode||9<document.documentMode)}function Xs(){Rn&&(Rn.detachEvent("onpropertychange",Ll),as=Rn=null)}function Ll(e){if(e.propertyName==="value"&&ls(as)){var i=[];Ml(i,as,e,es(e)),nr(rs,i)}}function Zn(e,i,a){e==="focusin"?(Xs(),Rn=i,as=a,Rn.attachEvent("onpropertychange",Ll)):e==="focusout"&&Xs()}function Nc(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ls(as)}function ho(e,i){if(e==="click")return ls(i)}function Ac(e,i){if(e==="input"||e==="change")return ls(i)}function Yn(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var zt=typeof Object.is=="function"?Object.is:Yn;function mo(e,i){if(zt(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),c=Object.keys(i);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var g=a[c];if(!qa.call(i,g)||!zt(e[g],i[g]))return!1}return!0}function Qs(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cs(e,i){var a=Qs(e);e=0;for(var c;a;){if(a.nodeType===3){if(c=e+a.textContent.length,e<=i&&c>=i)return{node:a,offset:i-e};e=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Qs(a)}}function $s(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?$s(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function ds(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=no(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=no(e.document)}return i}function li(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var Ws=yn&&"documentMode"in document&&11>=document.documentMode,ui=null,ea=null,fs=null,po=!1;function Dl(e,i,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;po||ui==null||ui!==no(c)||(c=ui,"selectionStart"in c&&li(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),fs&&mo(fs,c)||(fs=c,c=_u(ea,"onSelect"),0<c.length&&(i=new Zs("onSelect","select",null,i,a),e.push({event:i,listeners:c}),i.target=ui)))}function ci(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var go={animationend:ci("Animation","AnimationEnd"),animationiteration:ci("Animation","AnimationIteration"),animationstart:ci("Animation","AnimationStart"),transitionrun:ci("Transition","TransitionRun"),transitionstart:ci("Transition","TransitionStart"),transitioncancel:ci("Transition","TransitionCancel"),transitionend:ci("Transition","TransitionEnd")},ta={},Pl={};yn&&(Pl=document.createElement("div").style,"AnimationEvent"in window||(delete go.animationend.animation,delete go.animationiteration.animation,delete go.animationstart.animation),"TransitionEvent"in window||delete go.transitionend.transition);function Bt(e){if(ta[e])return ta[e];if(!go[e])return e;var i=go[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in Pl)return ta[e]=i[a];return e}var hs=Bt("animationend"),kl=Bt("animationiteration"),ms=Bt("animationstart"),Mc=Bt("transitionrun"),Ul=Bt("transitionstart"),Rc=Bt("transitioncancel"),vo=Bt("transitionend"),zl=new Map,di="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");di.push("scrollEnd");function ln(e,i){zl.set(e,i),wi(i,[e])}var ps=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},un=[],Yt=0,na=0;function gs(){for(var e=Yt,i=na=Yt=0;i<e;){var a=un[i];un[i++]=null;var c=un[i];un[i++]=null;var g=un[i];un[i++]=null;var S=un[i];if(un[i++]=null,c!==null&&g!==null){var N=c.pending;N===null?g.next=g:(g.next=N.next,N.next=g),c.pending=g}S!==0&&yo(a,g,S)}}function fi(e,i,a,c){un[Yt++]=e,un[Yt++]=i,un[Yt++]=a,un[Yt++]=c,na|=c,e.lanes|=c,e=e.alternate,e!==null&&(e.lanes|=c)}function fr(e,i,a,c){return fi(e,i,a,c),vs(e)}function Ln(e,i){return fi(e,null,null,i),vs(e)}function yo(e,i,a){e.lanes|=a;var c=e.alternate;c!==null&&(c.lanes|=a);for(var g=!1,S=e.return;S!==null;)S.childLanes|=a,c=S.alternate,c!==null&&(c.childLanes|=a),S.tag===22&&(e=S.stateNode,e===null||e._visibility&1||(g=!0)),e=S,S=S.return;return e.tag===3?(S=e.stateNode,g&&i!==null&&(g=31-Qt(a),e=S.hiddenUpdates,c=e[g],c===null?e[g]=[i]:c.push(i),i.lane=a|536870912),S):null}function vs(e){if(50<zr)throw zr=0,Ld=null,Error(r(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var Ii={};function Ic(e,i,a,c){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jt(e,i,a,c){return new Ic(e,i,a,c)}function ia(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Dn(e,i){var a=e.alternate;return a===null?(a=Jt(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function hr(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function ys(e,i,a,c,g,S){var N=0;if(c=e,typeof e=="function")ia(e)&&(N=1);else if(typeof e=="string")N=D_(e,a,ue.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case fe:return e=Jt(31,a,i,g),e.elementType=fe,e.lanes=S,e;case D:return Li(a.children,g,S,i);case I:N=8,g|=24;break;case H:return e=Jt(12,a,i,g|2),e.elementType=H,e.lanes=S,e;case le:return e=Jt(13,a,i,g),e.elementType=le,e.lanes=S,e;case pe:return e=Jt(19,a,i,g),e.elementType=pe,e.lanes=S,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case O:N=10;break e;case X:N=9;break e;case ie:N=11;break e;case oe:N=14;break e;case Ae:N=16,c=null;break e}N=29,a=Error(r(130,e===null?"null":typeof e,"")),c=null}return i=Jt(N,a,i,g),i.elementType=e,i.type=c,i.lanes=S,i}function Li(e,i,a,c){return e=Jt(7,e,c,i),e.lanes=a,e}function oa(e,i,a){return e=Jt(6,e,null,i),e.lanes=a,e}function mr(e){var i=Jt(18,null,null,0);return i.stateNode=e,i}function pr(e,i,a){return i=Jt(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var s=new WeakMap;function u(e,i){if(typeof e=="object"&&e!==null){var a=s.get(e);return a!==void 0?a:(i={value:e,source:i,stack:Go(i)},s.set(e,i),i)}return{value:e,source:i,stack:Go(i)}}var p=[],T=0,w=null,A=0,P=[],q=0,Y=null,te=1,ce="";function xe(e,i){p[T++]=A,p[T++]=w,w=e,A=i}function De(e,i,a){P[q++]=te,P[q++]=ce,P[q++]=Y,Y=e;var c=te;e=ce;var g=32-Qt(c)-1;c&=~(1<<g),a+=1;var S=32-Qt(i)+g;if(30<S){var N=g-g%5;S=(c&(1<<N)-1).toString(32),c>>=N,g-=N,te=1<<32-Qt(i)+g|a<<g|c,ce=S+e}else te=1<<S|a<<g|c,ce=e}function Pt(e){e.return!==null&&(xe(e,1),De(e,1,0))}function St(e){for(;e===w;)w=p[--T],p[T]=null,A=p[--T],p[T]=null;for(;e===Y;)Y=P[--q],P[q]=null,ce=P[--q],P[q]=null,te=P[--q],P[q]=null}function Wt(e,i){P[q++]=te,P[q++]=ce,P[q++]=Y,te=i.id,ce=i.overflow,Y=e}var Ze=null,Ye=null,He=!1,hi=null,cn=!1,sa=Error(r(519));function mi(e){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw _s(u(i,e)),sa}function gr(e){var i=e.stateNode,a=e.type,c=e.memoizedProps;switch(i[Nt]=e,i[Ut]=c,a){case"dialog":Ge("cancel",i),Ge("close",i);break;case"iframe":case"object":case"embed":Ge("load",i);break;case"video":case"audio":for(a=0;a<Hr.length;a++)Ge(Hr[a],i);break;case"source":Ge("error",i);break;case"img":case"image":case"link":Ge("error",i),Ge("load",i);break;case"details":Ge("toggle",i);break;case"input":Ge("invalid",i),$o(i,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Ge("invalid",i);break;case"textarea":Ge("invalid",i),io(i,c.value,c.defaultValue,c.children)}a=c.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||c.suppressHydrationWarning===!0||Ep(i.textContent,a)?(c.popover!=null&&(Ge("beforetoggle",i),Ge("toggle",i)),c.onScroll!=null&&Ge("scroll",i),c.onScrollEnd!=null&&Ge("scrollend",i),c.onClick!=null&&(i.onclick=an),i=!0):i=!1,i||mi(e,!0)}function _t(e){for(Ze=e.return;Ze;)switch(Ze.tag){case 5:case 31:case 13:cn=!1;return;case 27:case 3:cn=!0;return;default:Ze=Ze.return}}function Jn(e){if(e!==Ze)return!1;if(!He)return _t(e),He=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Jd(e.type,e.memoizedProps)),a=!a),a&&Ye&&mi(e),_t(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Ye=Lp(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Ye=Lp(e)}else i===27?(i=Ye,Lo(e.type)?(e=$d,$d=null,Ye=e):Ye=i):Ye=Ze?kn(e.stateNode.nextSibling):null;return!0}function Di(){Ye=Ze=null,He=!1}function vr(){var e=hi;return e!==null&&(mn===null?mn=e:mn.push.apply(mn,e),hi=null),e}function _s(e){hi===null?hi=[e]:hi.push(e)}var xs=B(null),pi=null,jn=null;function _o(e,i,a){re(xs,i._currentValue),i._currentValue=a}function Pi(e){e._currentValue=xs.current,Q(xs)}function Lc(e,i,a){for(;e!==null;){var c=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),e===a)break;e=e.return}}function Dc(e,i,a,c){var g=e.child;for(g!==null&&(g.return=e);g!==null;){var S=g.dependencies;if(S!==null){var N=g.child;S=S.firstContext;e:for(;S!==null;){var M=S;S=g;for(var U=0;U<i.length;U++)if(M.context===i[U]){S.lanes|=a,M=S.alternate,M!==null&&(M.lanes|=a),Lc(S.return,a,e),c||(N=null);break e}S=M.next}}else if(g.tag===18){if(N=g.return,N===null)throw Error(r(341));N.lanes|=a,S=N.alternate,S!==null&&(S.lanes|=a),Lc(N,a,e),N=null}else N=g.child;if(N!==null)N.return=g;else for(N=g;N!==null;){if(N===e){N=null;break}if(g=N.sibling,g!==null){g.return=N.return,N=g;break}N=N.return}g=N}}function aa(e,i,a,c){e=null;for(var g=i,S=!1;g!==null;){if(!S){if((g.flags&524288)!==0)S=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var N=g.alternate;if(N===null)throw Error(r(387));if(N=N.memoizedProps,N!==null){var M=g.type;zt(g.pendingProps.value,N.value)||(e!==null?e.push(M):e=[M])}}else if(g===ke.current){if(N=g.alternate,N===null)throw Error(r(387));N.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(e!==null?e.push(Fr):e=[Fr])}g=g.return}e!==null&&Dc(i,e,a,c),i.flags|=262144}function Bl(e){for(e=e.firstContext;e!==null;){if(!zt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ss(e){pi=e,jn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function qt(e){return lh(pi,e)}function Hl(e,i){return pi===null&&Ss(e),lh(e,i)}function lh(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},jn===null){if(e===null)throw Error(r(308));jn=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else jn=jn.next=i;return a}var M0=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,c){e.push(c)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},R0=n.unstable_scheduleCallback,I0=n.unstable_NormalPriority,Mt={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pc(){return{controller:new M0,data:new Map,refCount:0}}function yr(e){e.refCount--,e.refCount===0&&R0(I0,function(){e.controller.abort()})}var _r=null,kc=0,ra=0,la=null;function L0(e,i){if(_r===null){var a=_r=[];kc=0,ra=Bd(),la={status:"pending",value:void 0,then:function(c){a.push(c)}}}return kc++,i.then(uh,uh),i}function uh(){if(--kc===0&&_r!==null){la!==null&&(la.status="fulfilled");var e=_r;_r=null,ra=0,la=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function D0(e,i){var a=[],c={status:"pending",value:null,reason:null,then:function(g){a.push(g)}};return e.then(function(){c.status="fulfilled",c.value=i;for(var g=0;g<a.length;g++)(0,a[g])(i)},function(g){for(c.status="rejected",c.reason=g,g=0;g<a.length;g++)(0,a[g])(void 0)}),c}var ch=j.S;j.S=function(e,i){Jm=Xt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&L0(e,i),ch!==null&&ch(e,i)};var Ts=B(null);function Uc(){var e=Ts.current;return e!==null?e:ct.pooledCache}function Ol(e,i){i===null?re(Ts,Ts.current):re(Ts,i.pool)}function dh(){var e=Uc();return e===null?null:{parent:Mt._currentValue,pool:e}}var ua=Error(r(460)),zc=Error(r(474)),Gl=Error(r(542)),Vl={then:function(){}};function fh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function hh(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(an,an),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,ph(e),e;default:if(typeof i.status=="string")i.then(an,an);else{if(e=ct,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=i,e.status="pending",e.then(function(c){if(i.status==="pending"){var g=i;g.status="fulfilled",g.value=c}},function(c){if(i.status==="pending"){var g=i;g.status="rejected",g.reason=c}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,ph(e),e}throw bs=i,ua}}function Es(e){try{var i=e._init;return i(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(bs=a,ua):a}}var bs=null;function mh(){if(bs===null)throw Error(r(459));var e=bs;return bs=null,e}function ph(e){if(e===ua||e===Gl)throw Error(r(483))}var ca=null,xr=0;function ql(e){var i=xr;return xr+=1,ca===null&&(ca=[]),hh(ca,e,i)}function Sr(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Fl(e,i){throw i.$$typeof===C?Error(r(525)):(e=Object.prototype.toString.call(i),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function gh(e){function i(V,G){if(e){var F=V.deletions;F===null?(V.deletions=[G],V.flags|=16):F.push(G)}}function a(V,G){if(!e)return null;for(;G!==null;)i(V,G),G=G.sibling;return null}function c(V){for(var G=new Map;V!==null;)V.key!==null?G.set(V.key,V):G.set(V.index,V),V=V.sibling;return G}function g(V,G){return V=Dn(V,G),V.index=0,V.sibling=null,V}function S(V,G,F){return V.index=F,e?(F=V.alternate,F!==null?(F=F.index,F<G?(V.flags|=67108866,G):F):(V.flags|=67108866,G)):(V.flags|=1048576,G)}function N(V){return e&&V.alternate===null&&(V.flags|=67108866),V}function M(V,G,F,W){return G===null||G.tag!==6?(G=oa(F,V.mode,W),G.return=V,G):(G=g(G,F),G.return=V,G)}function U(V,G,F,W){var Te=F.type;return Te===D?$(V,G,F.props.children,W,F.key):G!==null&&(G.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===Ae&&Es(Te)===G.type)?(G=g(G,F.props),Sr(G,F),G.return=V,G):(G=ys(F.type,F.key,F.props,null,V.mode,W),Sr(G,F),G.return=V,G)}function Z(V,G,F,W){return G===null||G.tag!==4||G.stateNode.containerInfo!==F.containerInfo||G.stateNode.implementation!==F.implementation?(G=pr(F,V.mode,W),G.return=V,G):(G=g(G,F.children||[]),G.return=V,G)}function $(V,G,F,W,Te){return G===null||G.tag!==7?(G=Li(F,V.mode,W,Te),G.return=V,G):(G=g(G,F),G.return=V,G)}function ne(V,G,F){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=oa(""+G,V.mode,F),G.return=V,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case R:return F=ys(G.type,G.key,G.props,null,V.mode,F),Sr(F,G),F.return=V,F;case k:return G=pr(G,V.mode,F),G.return=V,G;case Ae:return G=Es(G),ne(V,G,F)}if(Qe(G)||Le(G))return G=Li(G,V.mode,F,null),G.return=V,G;if(typeof G.then=="function")return ne(V,ql(G),F);if(G.$$typeof===O)return ne(V,Hl(V,G),F);Fl(V,G)}return null}function J(V,G,F,W){var Te=G!==null?G.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return Te!==null?null:M(V,G,""+F,W);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case R:return F.key===Te?U(V,G,F,W):null;case k:return F.key===Te?Z(V,G,F,W):null;case Ae:return F=Es(F),J(V,G,F,W)}if(Qe(F)||Le(F))return Te!==null?null:$(V,G,F,W,null);if(typeof F.then=="function")return J(V,G,ql(F),W);if(F.$$typeof===O)return J(V,G,Hl(V,F),W);Fl(V,F)}return null}function K(V,G,F,W,Te){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return V=V.get(F)||null,M(G,V,""+W,Te);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case R:return V=V.get(W.key===null?F:W.key)||null,U(G,V,W,Te);case k:return V=V.get(W.key===null?F:W.key)||null,Z(G,V,W,Te);case Ae:return W=Es(W),K(V,G,F,W,Te)}if(Qe(W)||Le(W))return V=V.get(F)||null,$(G,V,W,Te,null);if(typeof W.then=="function")return K(V,G,F,ql(W),Te);if(W.$$typeof===O)return K(V,G,F,Hl(G,W),Te);Fl(G,W)}return null}function ve(V,G,F,W){for(var Te=null,Je=null,ye=G,Pe=G=0,Fe=null;ye!==null&&Pe<F.length;Pe++){ye.index>Pe?(Fe=ye,ye=null):Fe=ye.sibling;var je=J(V,ye,F[Pe],W);if(je===null){ye===null&&(ye=Fe);break}e&&ye&&je.alternate===null&&i(V,ye),G=S(je,G,Pe),Je===null?Te=je:Je.sibling=je,Je=je,ye=Fe}if(Pe===F.length)return a(V,ye),He&&xe(V,Pe),Te;if(ye===null){for(;Pe<F.length;Pe++)ye=ne(V,F[Pe],W),ye!==null&&(G=S(ye,G,Pe),Je===null?Te=ye:Je.sibling=ye,Je=ye);return He&&xe(V,Pe),Te}for(ye=c(ye);Pe<F.length;Pe++)Fe=K(ye,V,Pe,F[Pe],W),Fe!==null&&(e&&Fe.alternate!==null&&ye.delete(Fe.key===null?Pe:Fe.key),G=S(Fe,G,Pe),Je===null?Te=Fe:Je.sibling=Fe,Je=Fe);return e&&ye.forEach(function(zo){return i(V,zo)}),He&&xe(V,Pe),Te}function Ce(V,G,F,W){if(F==null)throw Error(r(151));for(var Te=null,Je=null,ye=G,Pe=G=0,Fe=null,je=F.next();ye!==null&&!je.done;Pe++,je=F.next()){ye.index>Pe?(Fe=ye,ye=null):Fe=ye.sibling;var zo=J(V,ye,je.value,W);if(zo===null){ye===null&&(ye=Fe);break}e&&ye&&zo.alternate===null&&i(V,ye),G=S(zo,G,Pe),Je===null?Te=zo:Je.sibling=zo,Je=zo,ye=Fe}if(je.done)return a(V,ye),He&&xe(V,Pe),Te;if(ye===null){for(;!je.done;Pe++,je=F.next())je=ne(V,je.value,W),je!==null&&(G=S(je,G,Pe),Je===null?Te=je:Je.sibling=je,Je=je);return He&&xe(V,Pe),Te}for(ye=c(ye);!je.done;Pe++,je=F.next())je=K(ye,V,Pe,je.value,W),je!==null&&(e&&je.alternate!==null&&ye.delete(je.key===null?Pe:je.key),G=S(je,G,Pe),Je===null?Te=je:Je.sibling=je,Je=je);return e&&ye.forEach(function(F_){return i(V,F_)}),He&&xe(V,Pe),Te}function at(V,G,F,W){if(typeof F=="object"&&F!==null&&F.type===D&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case R:e:{for(var Te=F.key;G!==null;){if(G.key===Te){if(Te=F.type,Te===D){if(G.tag===7){a(V,G.sibling),W=g(G,F.props.children),W.return=V,V=W;break e}}else if(G.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===Ae&&Es(Te)===G.type){a(V,G.sibling),W=g(G,F.props),Sr(W,F),W.return=V,V=W;break e}a(V,G);break}else i(V,G);G=G.sibling}F.type===D?(W=Li(F.props.children,V.mode,W,F.key),W.return=V,V=W):(W=ys(F.type,F.key,F.props,null,V.mode,W),Sr(W,F),W.return=V,V=W)}return N(V);case k:e:{for(Te=F.key;G!==null;){if(G.key===Te)if(G.tag===4&&G.stateNode.containerInfo===F.containerInfo&&G.stateNode.implementation===F.implementation){a(V,G.sibling),W=g(G,F.children||[]),W.return=V,V=W;break e}else{a(V,G);break}else i(V,G);G=G.sibling}W=pr(F,V.mode,W),W.return=V,V=W}return N(V);case Ae:return F=Es(F),at(V,G,F,W)}if(Qe(F))return ve(V,G,F,W);if(Le(F)){if(Te=Le(F),typeof Te!="function")throw Error(r(150));return F=Te.call(F),Ce(V,G,F,W)}if(typeof F.then=="function")return at(V,G,ql(F),W);if(F.$$typeof===O)return at(V,G,Hl(V,F),W);Fl(V,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,G!==null&&G.tag===6?(a(V,G.sibling),W=g(G,F),W.return=V,V=W):(a(V,G),W=oa(F,V.mode,W),W.return=V,V=W),N(V)):a(V,G)}return function(V,G,F,W){try{xr=0;var Te=at(V,G,F,W);return ca=null,Te}catch(ye){if(ye===ua||ye===Gl)throw ye;var Je=Jt(29,ye,null,V.mode);return Je.lanes=W,Je.return=V,Je}finally{}}}var Cs=gh(!0),vh=gh(!1),xo=!1;function Bc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hc(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function So(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function To(e,i,a){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,(We&2)!==0){var g=c.pending;return g===null?i.next=i:(i.next=g.next,g.next=i),c.pending=i,i=vs(e),yo(e,null,a),i}return fi(e,c,i,a),vs(e)}function Tr(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var c=i.lanes;c&=e.pendingLanes,a|=c,i.lanes=a,dl(e,a)}}function Oc(e,i){var a=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var g=null,S=null;if(a=a.firstBaseUpdate,a!==null){do{var N={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};S===null?g=S=N:S=S.next=N,a=a.next}while(a!==null);S===null?g=S=i:S=S.next=i}else g=S=i;a={baseState:c.baseState,firstBaseUpdate:g,lastBaseUpdate:S,shared:c.shared,callbacks:c.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var Gc=!1;function Er(){if(Gc){var e=la;if(e!==null)throw e}}function br(e,i,a,c){Gc=!1;var g=e.updateQueue;xo=!1;var S=g.firstBaseUpdate,N=g.lastBaseUpdate,M=g.shared.pending;if(M!==null){g.shared.pending=null;var U=M,Z=U.next;U.next=null,N===null?S=Z:N.next=Z,N=U;var $=e.alternate;$!==null&&($=$.updateQueue,M=$.lastBaseUpdate,M!==N&&(M===null?$.firstBaseUpdate=Z:M.next=Z,$.lastBaseUpdate=U))}if(S!==null){var ne=g.baseState;N=0,$=Z=U=null,M=S;do{var J=M.lane&-536870913,K=J!==M.lane;if(K?(qe&J)===J:(c&J)===J){J!==0&&J===ra&&(Gc=!0),$!==null&&($=$.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var ve=e,Ce=M;J=i;var at=a;switch(Ce.tag){case 1:if(ve=Ce.payload,typeof ve=="function"){ne=ve.call(at,ne,J);break e}ne=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=Ce.payload,J=typeof ve=="function"?ve.call(at,ne,J):ve,J==null)break e;ne=b({},ne,J);break e;case 2:xo=!0}}J=M.callback,J!==null&&(e.flags|=64,K&&(e.flags|=8192),K=g.callbacks,K===null?g.callbacks=[J]:K.push(J))}else K={lane:J,tag:M.tag,payload:M.payload,callback:M.callback,next:null},$===null?(Z=$=K,U=ne):$=$.next=K,N|=J;if(M=M.next,M===null){if(M=g.shared.pending,M===null)break;K=M,M=K.next,K.next=null,g.lastBaseUpdate=K,g.shared.pending=null}}while(!0);$===null&&(U=ne),g.baseState=U,g.firstBaseUpdate=Z,g.lastBaseUpdate=$,S===null&&(g.shared.lanes=0),No|=N,e.lanes=N,e.memoizedState=ne}}function yh(e,i){if(typeof e!="function")throw Error(r(191,e));e.call(i)}function _h(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)yh(a[e],i)}var da=B(null),Zl=B(0);function xh(e,i){e=qi,re(Zl,e),re(da,i),qi=e|i.baseLanes}function Vc(){re(Zl,qi),re(da,da.current)}function qc(){qi=Zl.current,Q(da),Q(Zl)}var Sn=B(null),Pn=null;function Eo(e){var i=e.alternate;re(bt,bt.current&1),re(Sn,e),Pn===null&&(i===null||da.current!==null||i.memoizedState!==null)&&(Pn=e)}function Fc(e){re(bt,bt.current),re(Sn,e),Pn===null&&(Pn=e)}function Sh(e){e.tag===22?(re(bt,bt.current),re(Sn,e),Pn===null&&(Pn=e)):bo()}function bo(){re(bt,bt.current),re(Sn,Sn.current)}function Tn(e){Q(Sn),Pn===e&&(Pn=null),Q(bt)}var bt=B(0);function Yl(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Xd(a)||Qd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var ki=0,Ie=null,ot=null,Rt=null,Jl=!1,fa=!1,ws=!1,jl=0,Cr=0,ha=null,P0=0;function Tt(){throw Error(r(321))}function Zc(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!zt(e[a],i[a]))return!1;return!0}function Yc(e,i,a,c,g,S){return ki=S,Ie=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,j.H=e===null||e.memoizedState===null?om:rd,ws=!1,S=a(c,g),ws=!1,fa&&(S=Eh(i,a,c,g)),Th(e),S}function Th(e){j.H=Ar;var i=ot!==null&&ot.next!==null;if(ki=0,Rt=ot=Ie=null,Jl=!1,Cr=0,ha=null,i)throw Error(r(300));e===null||It||(e=e.dependencies,e!==null&&Bl(e)&&(It=!0))}function Eh(e,i,a,c){Ie=e;var g=0;do{if(fa&&(ha=null),Cr=0,fa=!1,25<=g)throw Error(r(301));if(g+=1,Rt=ot=null,e.updateQueue!=null){var S=e.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}j.H=sm,S=i(a,c)}while(fa);return S}function k0(){var e=j.H,i=e.useState()[0];return i=typeof i.then=="function"?wr(i):i,e=e.useState()[0],(ot!==null?ot.memoizedState:null)!==e&&(Ie.flags|=1024),i}function Jc(){var e=jl!==0;return jl=0,e}function jc(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function Kc(e){if(Jl){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Jl=!1}ki=0,Rt=ot=Ie=null,fa=!1,Cr=jl=0,ha=null}function en(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?Ie.memoizedState=Rt=e:Rt=Rt.next=e,Rt}function Ct(){if(ot===null){var e=Ie.alternate;e=e!==null?e.memoizedState:null}else e=ot.next;var i=Rt===null?Ie.memoizedState:Rt.next;if(i!==null)Rt=i,ot=e;else{if(e===null)throw Ie.alternate===null?Error(r(467)):Error(r(310));ot=e,e={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},Rt===null?Ie.memoizedState=Rt=e:Rt=Rt.next=e}return Rt}function Kl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wr(e){var i=Cr;return Cr+=1,ha===null&&(ha=[]),e=hh(ha,e,i),i=Ie,(Rt===null?i.memoizedState:Rt.next)===null&&(i=i.alternate,j.H=i===null||i.memoizedState===null?om:rd),e}function Xl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return wr(e);if(e.$$typeof===O)return qt(e)}throw Error(r(438,String(e)))}function Xc(e){var i=null,a=Ie.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var c=Ie.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(i={data:c.data.map(function(g){return g.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Kl(),Ie.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),c=0;c<e;c++)a[c]=Ee;return i.index++,a}function Ui(e,i){return typeof i=="function"?i(e):i}function Ql(e){var i=Ct();return Qc(i,ot,e)}function Qc(e,i,a){var c=e.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=a;var g=e.baseQueue,S=c.pending;if(S!==null){if(g!==null){var N=g.next;g.next=S.next,S.next=N}i.baseQueue=g=S,c.pending=null}if(S=e.baseState,g===null)e.memoizedState=S;else{i=g.next;var M=N=null,U=null,Z=i,$=!1;do{var ne=Z.lane&-536870913;if(ne!==Z.lane?(qe&ne)===ne:(ki&ne)===ne){var J=Z.revertLane;if(J===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),ne===ra&&($=!0);else if((ki&J)===J){Z=Z.next,J===ra&&($=!0);continue}else ne={lane:0,revertLane:Z.revertLane,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},U===null?(M=U=ne,N=S):U=U.next=ne,Ie.lanes|=J,No|=J;ne=Z.action,ws&&a(S,ne),S=Z.hasEagerState?Z.eagerState:a(S,ne)}else J={lane:ne,revertLane:Z.revertLane,gesture:Z.gesture,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},U===null?(M=U=J,N=S):U=U.next=J,Ie.lanes|=ne,No|=ne;Z=Z.next}while(Z!==null&&Z!==i);if(U===null?N=S:U.next=M,!zt(S,e.memoizedState)&&(It=!0,$&&(a=la,a!==null)))throw a;e.memoizedState=S,e.baseState=N,e.baseQueue=U,c.lastRenderedState=S}return g===null&&(c.lanes=0),[e.memoizedState,c.dispatch]}function $c(e){var i=Ct(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var c=a.dispatch,g=a.pending,S=i.memoizedState;if(g!==null){a.pending=null;var N=g=g.next;do S=e(S,N.action),N=N.next;while(N!==g);zt(S,i.memoizedState)||(It=!0),i.memoizedState=S,i.baseQueue===null&&(i.baseState=S),a.lastRenderedState=S}return[S,c]}function bh(e,i,a){var c=Ie,g=Ct(),S=He;if(S){if(a===void 0)throw Error(r(407));a=a()}else a=i();var N=!zt((ot||g).memoizedState,a);if(N&&(g.memoizedState=a,It=!0),g=g.queue,td(Nh.bind(null,c,g,e),[e]),g.getSnapshot!==i||N||Rt!==null&&Rt.memoizedState.tag&1){if(c.flags|=2048,ma(9,{destroy:void 0},wh.bind(null,c,g,a,i),null),ct===null)throw Error(r(349));S||(ki&127)!==0||Ch(c,i,a)}return a}function Ch(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=Ie.updateQueue,i===null?(i=Kl(),Ie.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function wh(e,i,a,c){i.value=a,i.getSnapshot=c,Ah(i)&&Mh(e)}function Nh(e,i,a){return a(function(){Ah(i)&&Mh(e)})}function Ah(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!zt(e,a)}catch{return!0}}function Mh(e){var i=Ln(e,2);i!==null&&pn(i,e,2)}function Wc(e){var i=en();if(typeof e=="function"){var a=e;if(e=a(),ws){On(!0);try{a()}finally{On(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:e},i}function Rh(e,i,a,c){return e.baseState=a,Qc(e,ot,typeof c=="function"?c:Ui)}function U0(e,i,a,c,g){if(eu(e))throw Error(r(485));if(e=i.action,e!==null){var S={payload:g,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){S.listeners.push(N)}};j.T!==null?a(!0):S.isTransition=!1,c(S),a=i.pending,a===null?(S.next=i.pending=S,Ih(i,S)):(S.next=a.next,i.pending=a.next=S)}}function Ih(e,i){var a=i.action,c=i.payload,g=e.state;if(i.isTransition){var S=j.T,N={};j.T=N;try{var M=a(g,c),U=j.S;U!==null&&U(N,M),Lh(e,i,M)}catch(Z){ed(e,i,Z)}finally{S!==null&&N.types!==null&&(S.types=N.types),j.T=S}}else try{S=a(g,c),Lh(e,i,S)}catch(Z){ed(e,i,Z)}}function Lh(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(c){Dh(e,i,c)},function(c){return ed(e,i,c)}):Dh(e,i,a)}function Dh(e,i,a){i.status="fulfilled",i.value=a,Ph(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,Ih(e,a)))}function ed(e,i,a){var c=e.pending;if(e.pending=null,c!==null){c=c.next;do i.status="rejected",i.reason=a,Ph(i),i=i.next;while(i!==c)}e.action=null}function Ph(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function kh(e,i){return i}function Uh(e,i){if(He){var a=ct.formState;if(a!==null){e:{var c=Ie;if(He){if(Ye){t:{for(var g=Ye,S=cn;g.nodeType!==8;){if(!S){g=null;break t}if(g=kn(g.nextSibling),g===null){g=null;break t}}S=g.data,g=S==="F!"||S==="F"?g:null}if(g){Ye=kn(g.nextSibling),c=g.data==="F!";break e}}mi(c)}c=!1}c&&(i=a[0])}}return a=en(),a.memoizedState=a.baseState=i,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kh,lastRenderedState:i},a.queue=c,a=tm.bind(null,Ie,c),c.dispatch=a,c=Wc(!1),S=ad.bind(null,Ie,!1,c.queue),c=en(),g={state:i,dispatch:null,action:e,pending:null},c.queue=g,a=U0.bind(null,Ie,g,S,a),g.dispatch=a,c.memoizedState=e,[i,a,!1]}function zh(e){var i=Ct();return Bh(i,ot,e)}function Bh(e,i,a){if(i=Qc(e,i,kh)[0],e=Ql(Ui)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var c=wr(i)}catch(N){throw N===ua?Gl:N}else c=i;i=Ct();var g=i.queue,S=g.dispatch;return a!==i.memoizedState&&(Ie.flags|=2048,ma(9,{destroy:void 0},z0.bind(null,g,a),null)),[c,S,e]}function z0(e,i){e.action=i}function Hh(e){var i=Ct(),a=ot;if(a!==null)return Bh(i,a,e);Ct(),i=i.memoizedState,a=Ct();var c=a.queue.dispatch;return a.memoizedState=e,[i,c,!1]}function ma(e,i,a,c){return e={tag:e,create:a,deps:c,inst:i,next:null},i=Ie.updateQueue,i===null&&(i=Kl(),Ie.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(c=a.next,a.next=e,e.next=c,i.lastEffect=e),e}function Oh(){return Ct().memoizedState}function $l(e,i,a,c){var g=en();Ie.flags|=e,g.memoizedState=ma(1|i,{destroy:void 0},a,c===void 0?null:c)}function Wl(e,i,a,c){var g=Ct();c=c===void 0?null:c;var S=g.memoizedState.inst;ot!==null&&c!==null&&Zc(c,ot.memoizedState.deps)?g.memoizedState=ma(i,S,a,c):(Ie.flags|=e,g.memoizedState=ma(1|i,S,a,c))}function Gh(e,i){$l(8390656,8,e,i)}function td(e,i){Wl(2048,8,e,i)}function B0(e){Ie.flags|=4;var i=Ie.updateQueue;if(i===null)i=Kl(),Ie.updateQueue=i,i.events=[e];else{var a=i.events;a===null?i.events=[e]:a.push(e)}}function Vh(e){var i=Ct().memoizedState;return B0({ref:i,nextImpl:e}),function(){if((We&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function qh(e,i){return Wl(4,2,e,i)}function Fh(e,i){return Wl(4,4,e,i)}function Zh(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function Yh(e,i,a){a=a!=null?a.concat([e]):null,Wl(4,4,Zh.bind(null,i,e),a)}function nd(){}function Jh(e,i){var a=Ct();i=i===void 0?null:i;var c=a.memoizedState;return i!==null&&Zc(i,c[1])?c[0]:(a.memoizedState=[e,i],e)}function jh(e,i){var a=Ct();i=i===void 0?null:i;var c=a.memoizedState;if(i!==null&&Zc(i,c[1]))return c[0];if(c=e(),ws){On(!0);try{e()}finally{On(!1)}}return a.memoizedState=[c,i],c}function id(e,i,a){return a===void 0||(ki&1073741824)!==0&&(qe&261930)===0?e.memoizedState=i:(e.memoizedState=a,e=Km(),Ie.lanes|=e,No|=e,a)}function Kh(e,i,a,c){return zt(a,i)?a:da.current!==null?(e=id(e,a,c),zt(e,i)||(It=!0),e):(ki&42)===0||(ki&1073741824)!==0&&(qe&261930)===0?(It=!0,e.memoizedState=a):(e=Km(),Ie.lanes|=e,No|=e,i)}function Xh(e,i,a,c,g){var S=ae.p;ae.p=S!==0&&8>S?S:8;var N=j.T,M={};j.T=M,ad(e,!1,i,a);try{var U=g(),Z=j.S;if(Z!==null&&Z(M,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var $=D0(U,c);Nr(e,i,$,Cn(e))}else Nr(e,i,c,Cn(e))}catch(ne){Nr(e,i,{then:function(){},status:"rejected",reason:ne},Cn())}finally{ae.p=S,N!==null&&M.types!==null&&(N.types=M.types),j.T=N}}function H0(){}function od(e,i,a,c){if(e.tag!==5)throw Error(r(476));var g=Qh(e).queue;Xh(e,g,i,se,a===null?H0:function(){return $h(e),a(c)})}function Qh(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:se},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function $h(e){var i=Qh(e);i.next===null&&(i=e.alternate.memoizedState),Nr(e,i.next.queue,{},Cn())}function sd(){return qt(Fr)}function Wh(){return Ct().memoizedState}function em(){return Ct().memoizedState}function O0(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=Cn();e=So(a);var c=To(i,e,a);c!==null&&(pn(c,i,a),Tr(c,i,a)),i={cache:Pc()},e.payload=i;return}i=i.return}}function G0(e,i,a){var c=Cn();a={lane:c,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},eu(e)?nm(i,a):(a=fr(e,i,a,c),a!==null&&(pn(a,e,c),im(a,i,c)))}function tm(e,i,a){var c=Cn();Nr(e,i,a,c)}function Nr(e,i,a,c){var g={lane:c,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(eu(e))nm(i,g);else{var S=e.alternate;if(e.lanes===0&&(S===null||S.lanes===0)&&(S=i.lastRenderedReducer,S!==null))try{var N=i.lastRenderedState,M=S(N,a);if(g.hasEagerState=!0,g.eagerState=M,zt(M,N))return fi(e,i,g,0),ct===null&&gs(),!1}catch{}finally{}if(a=fr(e,i,g,c),a!==null)return pn(a,e,c),im(a,i,c),!0}return!1}function ad(e,i,a,c){if(c={lane:2,revertLane:Bd(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},eu(e)){if(i)throw Error(r(479))}else i=fr(e,a,c,2),i!==null&&pn(i,e,2)}function eu(e){var i=e.alternate;return e===Ie||i!==null&&i===Ie}function nm(e,i){fa=Jl=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function im(e,i,a){if((a&4194048)!==0){var c=i.lanes;c&=e.pendingLanes,a|=c,i.lanes=a,dl(e,a)}}var Ar={readContext:qt,use:Xl,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useLayoutEffect:Tt,useInsertionEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useSyncExternalStore:Tt,useId:Tt,useHostTransitionStatus:Tt,useFormState:Tt,useActionState:Tt,useOptimistic:Tt,useMemoCache:Tt,useCacheRefresh:Tt};Ar.useEffectEvent=Tt;var om={readContext:qt,use:Xl,useCallback:function(e,i){return en().memoizedState=[e,i===void 0?null:i],e},useContext:qt,useEffect:Gh,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,$l(4194308,4,Zh.bind(null,i,e),a)},useLayoutEffect:function(e,i){return $l(4194308,4,e,i)},useInsertionEffect:function(e,i){$l(4,2,e,i)},useMemo:function(e,i){var a=en();i=i===void 0?null:i;var c=e();if(ws){On(!0);try{e()}finally{On(!1)}}return a.memoizedState=[c,i],c},useReducer:function(e,i,a){var c=en();if(a!==void 0){var g=a(i);if(ws){On(!0);try{a(i)}finally{On(!1)}}}else g=i;return c.memoizedState=c.baseState=g,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:g},c.queue=e,e=e.dispatch=G0.bind(null,Ie,e),[c.memoizedState,e]},useRef:function(e){var i=en();return e={current:e},i.memoizedState=e},useState:function(e){e=Wc(e);var i=e.queue,a=tm.bind(null,Ie,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:nd,useDeferredValue:function(e,i){var a=en();return id(a,e,i)},useTransition:function(){var e=Wc(!1);return e=Xh.bind(null,Ie,e.queue,!0,!1),en().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var c=Ie,g=en();if(He){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),ct===null)throw Error(r(349));(qe&127)!==0||Ch(c,i,a)}g.memoizedState=a;var S={value:a,getSnapshot:i};return g.queue=S,Gh(Nh.bind(null,c,S,e),[e]),c.flags|=2048,ma(9,{destroy:void 0},wh.bind(null,c,S,a,i),null),a},useId:function(){var e=en(),i=ct.identifierPrefix;if(He){var a=ce,c=te;a=(c&~(1<<32-Qt(c)-1)).toString(32)+a,i="_"+i+"R_"+a,a=jl++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=P0++,i="_"+i+"r_"+a.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:sd,useFormState:Uh,useActionState:Uh,useOptimistic:function(e){var i=en();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=ad.bind(null,Ie,!0,a),a.dispatch=i,[e,i]},useMemoCache:Xc,useCacheRefresh:function(){return en().memoizedState=O0.bind(null,Ie)},useEffectEvent:function(e){var i=en(),a={impl:e};return i.memoizedState=a,function(){if((We&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},rd={readContext:qt,use:Xl,useCallback:Jh,useContext:qt,useEffect:td,useImperativeHandle:Yh,useInsertionEffect:qh,useLayoutEffect:Fh,useMemo:jh,useReducer:Ql,useRef:Oh,useState:function(){return Ql(Ui)},useDebugValue:nd,useDeferredValue:function(e,i){var a=Ct();return Kh(a,ot.memoizedState,e,i)},useTransition:function(){var e=Ql(Ui)[0],i=Ct().memoizedState;return[typeof e=="boolean"?e:wr(e),i]},useSyncExternalStore:bh,useId:Wh,useHostTransitionStatus:sd,useFormState:zh,useActionState:zh,useOptimistic:function(e,i){var a=Ct();return Rh(a,ot,e,i)},useMemoCache:Xc,useCacheRefresh:em};rd.useEffectEvent=Vh;var sm={readContext:qt,use:Xl,useCallback:Jh,useContext:qt,useEffect:td,useImperativeHandle:Yh,useInsertionEffect:qh,useLayoutEffect:Fh,useMemo:jh,useReducer:$c,useRef:Oh,useState:function(){return $c(Ui)},useDebugValue:nd,useDeferredValue:function(e,i){var a=Ct();return ot===null?id(a,e,i):Kh(a,ot.memoizedState,e,i)},useTransition:function(){var e=$c(Ui)[0],i=Ct().memoizedState;return[typeof e=="boolean"?e:wr(e),i]},useSyncExternalStore:bh,useId:Wh,useHostTransitionStatus:sd,useFormState:Hh,useActionState:Hh,useOptimistic:function(e,i){var a=Ct();return ot!==null?Rh(a,ot,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Xc,useCacheRefresh:em};sm.useEffectEvent=Vh;function ld(e,i,a,c){i=e.memoizedState,a=a(c,i),a=a==null?i:b({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var ud={enqueueSetState:function(e,i,a){e=e._reactInternals;var c=Cn(),g=So(c);g.payload=i,a!=null&&(g.callback=a),i=To(e,g,c),i!==null&&(pn(i,e,c),Tr(i,e,c))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var c=Cn(),g=So(c);g.tag=1,g.payload=i,a!=null&&(g.callback=a),i=To(e,g,c),i!==null&&(pn(i,e,c),Tr(i,e,c))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=Cn(),c=So(a);c.tag=2,i!=null&&(c.callback=i),i=To(e,c,a),i!==null&&(pn(i,e,a),Tr(i,e,a))}};function am(e,i,a,c,g,S,N){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,S,N):i.prototype&&i.prototype.isPureReactComponent?!mo(a,c)||!mo(g,S):!0}function rm(e,i,a,c){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,c),i.state!==e&&ud.enqueueReplaceState(i,i.state,null)}function Ns(e,i){var a=i;if("ref"in i){a={};for(var c in i)c!=="ref"&&(a[c]=i[c])}if(e=e.defaultProps){a===i&&(a=b({},a));for(var g in e)a[g]===void 0&&(a[g]=e[g])}return a}function lm(e){ps(e)}function um(e){console.error(e)}function cm(e){ps(e)}function tu(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(c){setTimeout(function(){throw c})}}function dm(e,i,a){try{var c=e.onCaughtError;c(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function cd(e,i,a){return a=So(a),a.tag=3,a.payload={element:null},a.callback=function(){tu(e,i)},a}function fm(e){return e=So(e),e.tag=3,e}function hm(e,i,a,c){var g=a.type.getDerivedStateFromError;if(typeof g=="function"){var S=c.value;e.payload=function(){return g(S)},e.callback=function(){dm(i,a,c)}}var N=a.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(e.callback=function(){dm(i,a,c),typeof g!="function"&&(Ao===null?Ao=new Set([this]):Ao.add(this));var M=c.stack;this.componentDidCatch(c.value,{componentStack:M!==null?M:""})})}function V0(e,i,a,c,g){if(a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(i=a.alternate,i!==null&&aa(i,a,g,!0),a=Sn.current,a!==null){switch(a.tag){case 31:case 13:return Pn===null?hu():a.alternate===null&&Et===0&&(Et=3),a.flags&=-257,a.flags|=65536,a.lanes=g,c===Vl?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([c]):i.add(c),kd(e,c,g)),!1;case 22:return a.flags|=65536,c===Vl?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([c])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([c]):a.add(c)),kd(e,c,g)),!1}throw Error(r(435,a.tag))}return kd(e,c,g),hu(),!1}if(He)return i=Sn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=g,c!==sa&&(e=Error(r(422),{cause:c}),_s(u(e,a)))):(c!==sa&&(i=Error(r(423),{cause:c}),_s(u(i,a))),e=e.current.alternate,e.flags|=65536,g&=-g,e.lanes|=g,c=u(c,a),g=cd(e.stateNode,c,g),Oc(e,g),Et!==4&&(Et=2)),!1;var S=Error(r(520),{cause:c});if(S=u(S,a),Ur===null?Ur=[S]:Ur.push(S),Et!==4&&(Et=2),i===null)return!0;c=u(c,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=g&-g,a.lanes|=e,e=cd(a.stateNode,c,e),Oc(a,e),!1;case 1:if(i=a.type,S=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Ao===null||!Ao.has(S))))return a.flags|=65536,g&=-g,a.lanes|=g,g=fm(g),hm(g,e,a,c),Oc(a,g),!1}a=a.return}while(a!==null);return!1}var dd=Error(r(461)),It=!1;function Ft(e,i,a,c){i.child=e===null?vh(i,null,a,c):Cs(i,e.child,a,c)}function mm(e,i,a,c,g){a=a.render;var S=i.ref;if("ref"in c){var N={};for(var M in c)M!=="ref"&&(N[M]=c[M])}else N=c;return Ss(i),c=Yc(e,i,a,N,S,g),M=Jc(),e!==null&&!It?(jc(e,i,g),zi(e,i,g)):(He&&M&&Pt(i),i.flags|=1,Ft(e,i,c,g),i.child)}function pm(e,i,a,c,g){if(e===null){var S=a.type;return typeof S=="function"&&!ia(S)&&S.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=S,gm(e,i,S,c,g)):(e=ys(a.type,null,c,i,i.mode,g),e.ref=i.ref,e.return=i,i.child=e)}if(S=e.child,!_d(e,g)){var N=S.memoizedProps;if(a=a.compare,a=a!==null?a:mo,a(N,c)&&e.ref===i.ref)return zi(e,i,g)}return i.flags|=1,e=Dn(S,c),e.ref=i.ref,e.return=i,i.child=e}function gm(e,i,a,c,g){if(e!==null){var S=e.memoizedProps;if(mo(S,c)&&e.ref===i.ref)if(It=!1,i.pendingProps=c=S,_d(e,g))(e.flags&131072)!==0&&(It=!0);else return i.lanes=e.lanes,zi(e,i,g)}return fd(e,i,a,c,g)}function vm(e,i,a,c){var g=c.children,S=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((i.flags&128)!==0){if(S=S!==null?S.baseLanes|a:a,e!==null){for(c=i.child=e.child,g=0;c!==null;)g=g|c.lanes|c.childLanes,c=c.sibling;c=g&~S}else c=0,i.child=null;return ym(e,i,S,a,c)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ol(i,S!==null?S.cachePool:null),S!==null?xh(i,S):Vc(),Sh(i);else return c=i.lanes=536870912,ym(e,i,S!==null?S.baseLanes|a:a,a,c)}else S!==null?(Ol(i,S.cachePool),xh(i,S),bo(),i.memoizedState=null):(e!==null&&Ol(i,null),Vc(),bo());return Ft(e,i,g,a),i.child}function Mr(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function ym(e,i,a,c,g){var S=Uc();return S=S===null?null:{parent:Mt._currentValue,pool:S},i.memoizedState={baseLanes:a,cachePool:S},e!==null&&Ol(i,null),Vc(),Sh(i),e!==null&&aa(e,i,c,!0),i.childLanes=g,null}function nu(e,i){return i=ou({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function _m(e,i,a){return Cs(i,e.child,null,a),e=nu(i,i.pendingProps),e.flags|=2,Tn(i),i.memoizedState=null,e}function q0(e,i,a){var c=i.pendingProps,g=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(He){if(c.mode==="hidden")return e=nu(i,c),i.lanes=536870912,Mr(null,e);if(Fc(i),(e=Ye)?(e=Ip(e,cn),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Y!==null?{id:te,overflow:ce}:null,retryLane:536870912,hydrationErrors:null},a=mr(e),a.return=i,i.child=a,Ze=i,Ye=null)):e=null,e===null)throw mi(i);return i.lanes=536870912,null}return nu(i,c)}var S=e.memoizedState;if(S!==null){var N=S.dehydrated;if(Fc(i),g)if(i.flags&256)i.flags&=-257,i=_m(e,i,a);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(r(558));else if(It||aa(e,i,a,!1),g=(a&e.childLanes)!==0,It||g){if(c=ct,c!==null&&(N=fl(c,a),N!==0&&N!==S.retryLane))throw S.retryLane=N,Ln(e,N),pn(c,e,N),dd;hu(),i=_m(e,i,a)}else e=S.treeContext,Ye=kn(N.nextSibling),Ze=i,He=!0,hi=null,cn=!1,e!==null&&Wt(i,e),i=nu(i,c),i.flags|=4096;return i}return e=Dn(e.child,{mode:c.mode,children:c.children}),e.ref=i.ref,i.child=e,e.return=i,e}function iu(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function fd(e,i,a,c,g){return Ss(i),a=Yc(e,i,a,c,void 0,g),c=Jc(),e!==null&&!It?(jc(e,i,g),zi(e,i,g)):(He&&c&&Pt(i),i.flags|=1,Ft(e,i,a,g),i.child)}function xm(e,i,a,c,g,S){return Ss(i),i.updateQueue=null,a=Eh(i,c,a,g),Th(e),c=Jc(),e!==null&&!It?(jc(e,i,S),zi(e,i,S)):(He&&c&&Pt(i),i.flags|=1,Ft(e,i,a,S),i.child)}function Sm(e,i,a,c,g){if(Ss(i),i.stateNode===null){var S=Ii,N=a.contextType;typeof N=="object"&&N!==null&&(S=qt(N)),S=new a(c,S),i.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=ud,i.stateNode=S,S._reactInternals=i,S=i.stateNode,S.props=c,S.state=i.memoizedState,S.refs={},Bc(i),N=a.contextType,S.context=typeof N=="object"&&N!==null?qt(N):Ii,S.state=i.memoizedState,N=a.getDerivedStateFromProps,typeof N=="function"&&(ld(i,a,N,c),S.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(N=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),N!==S.state&&ud.enqueueReplaceState(S,S.state,null),br(i,c,S,g),Er(),S.state=i.memoizedState),typeof S.componentDidMount=="function"&&(i.flags|=4194308),c=!0}else if(e===null){S=i.stateNode;var M=i.memoizedProps,U=Ns(a,M);S.props=U;var Z=S.context,$=a.contextType;N=Ii,typeof $=="object"&&$!==null&&(N=qt($));var ne=a.getDerivedStateFromProps;$=typeof ne=="function"||typeof S.getSnapshotBeforeUpdate=="function",M=i.pendingProps!==M,$||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(M||Z!==N)&&rm(i,S,c,N),xo=!1;var J=i.memoizedState;S.state=J,br(i,c,S,g),Er(),Z=i.memoizedState,M||J!==Z||xo?(typeof ne=="function"&&(ld(i,a,ne,c),Z=i.memoizedState),(U=xo||am(i,a,U,c,J,Z,N))?($||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(i.flags|=4194308)):(typeof S.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=Z),S.props=c,S.state=Z,S.context=N,c=U):(typeof S.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{S=i.stateNode,Hc(e,i),N=i.memoizedProps,$=Ns(a,N),S.props=$,ne=i.pendingProps,J=S.context,Z=a.contextType,U=Ii,typeof Z=="object"&&Z!==null&&(U=qt(Z)),M=a.getDerivedStateFromProps,(Z=typeof M=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(N!==ne||J!==U)&&rm(i,S,c,U),xo=!1,J=i.memoizedState,S.state=J,br(i,c,S,g),Er();var K=i.memoizedState;N!==ne||J!==K||xo||e!==null&&e.dependencies!==null&&Bl(e.dependencies)?(typeof M=="function"&&(ld(i,a,M,c),K=i.memoizedState),($=xo||am(i,a,$,c,J,K,U)||e!==null&&e.dependencies!==null&&Bl(e.dependencies))?(Z||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(c,K,U),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(c,K,U)),typeof S.componentDidUpdate=="function"&&(i.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof S.componentDidUpdate!="function"||N===e.memoizedProps&&J===e.memoizedState||(i.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||N===e.memoizedProps&&J===e.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=K),S.props=c,S.state=K,S.context=U,c=$):(typeof S.componentDidUpdate!="function"||N===e.memoizedProps&&J===e.memoizedState||(i.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||N===e.memoizedProps&&J===e.memoizedState||(i.flags|=1024),c=!1)}return S=c,iu(e,i),c=(i.flags&128)!==0,S||c?(S=i.stateNode,a=c&&typeof a.getDerivedStateFromError!="function"?null:S.render(),i.flags|=1,e!==null&&c?(i.child=Cs(i,e.child,null,g),i.child=Cs(i,null,a,g)):Ft(e,i,a,g),i.memoizedState=S.state,e=i.child):e=zi(e,i,g),e}function Tm(e,i,a,c){return Di(),i.flags|=256,Ft(e,i,a,c),i.child}var hd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function md(e){return{baseLanes:e,cachePool:dh()}}function pd(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=bn),e}function Em(e,i,a){var c=i.pendingProps,g=!1,S=(i.flags&128)!==0,N;if((N=S)||(N=e!==null&&e.memoizedState===null?!1:(bt.current&2)!==0),N&&(g=!0,i.flags&=-129),N=(i.flags&32)!==0,i.flags&=-33,e===null){if(He){if(g?Eo(i):bo(),(e=Ye)?(e=Ip(e,cn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Y!==null?{id:te,overflow:ce}:null,retryLane:536870912,hydrationErrors:null},a=mr(e),a.return=i,i.child=a,Ze=i,Ye=null)):e=null,e===null)throw mi(i);return Qd(e)?i.lanes=32:i.lanes=536870912,null}var M=c.children;return c=c.fallback,g?(bo(),g=i.mode,M=ou({mode:"hidden",children:M},g),c=Li(c,g,a,null),M.return=i,c.return=i,M.sibling=c,i.child=M,c=i.child,c.memoizedState=md(a),c.childLanes=pd(e,N,a),i.memoizedState=hd,Mr(null,c)):(Eo(i),gd(i,M))}var U=e.memoizedState;if(U!==null&&(M=U.dehydrated,M!==null)){if(S)i.flags&256?(Eo(i),i.flags&=-257,i=vd(e,i,a)):i.memoizedState!==null?(bo(),i.child=e.child,i.flags|=128,i=null):(bo(),M=c.fallback,g=i.mode,c=ou({mode:"visible",children:c.children},g),M=Li(M,g,a,null),M.flags|=2,c.return=i,M.return=i,c.sibling=M,i.child=c,Cs(i,e.child,null,a),c=i.child,c.memoizedState=md(a),c.childLanes=pd(e,N,a),i.memoizedState=hd,i=Mr(null,c));else if(Eo(i),Qd(M)){if(N=M.nextSibling&&M.nextSibling.dataset,N)var Z=N.dgst;N=Z,c=Error(r(419)),c.stack="",c.digest=N,_s({value:c,source:null,stack:null}),i=vd(e,i,a)}else if(It||aa(e,i,a,!1),N=(a&e.childLanes)!==0,It||N){if(N=ct,N!==null&&(c=fl(N,a),c!==0&&c!==U.retryLane))throw U.retryLane=c,Ln(e,c),pn(N,e,c),dd;Xd(M)||hu(),i=vd(e,i,a)}else Xd(M)?(i.flags|=192,i.child=e.child,i=null):(e=U.treeContext,Ye=kn(M.nextSibling),Ze=i,He=!0,hi=null,cn=!1,e!==null&&Wt(i,e),i=gd(i,c.children),i.flags|=4096);return i}return g?(bo(),M=c.fallback,g=i.mode,U=e.child,Z=U.sibling,c=Dn(U,{mode:"hidden",children:c.children}),c.subtreeFlags=U.subtreeFlags&65011712,Z!==null?M=Dn(Z,M):(M=Li(M,g,a,null),M.flags|=2),M.return=i,c.return=i,c.sibling=M,i.child=c,Mr(null,c),c=i.child,M=e.child.memoizedState,M===null?M=md(a):(g=M.cachePool,g!==null?(U=Mt._currentValue,g=g.parent!==U?{parent:U,pool:U}:g):g=dh(),M={baseLanes:M.baseLanes|a,cachePool:g}),c.memoizedState=M,c.childLanes=pd(e,N,a),i.memoizedState=hd,Mr(e.child,c)):(Eo(i),a=e.child,e=a.sibling,a=Dn(a,{mode:"visible",children:c.children}),a.return=i,a.sibling=null,e!==null&&(N=i.deletions,N===null?(i.deletions=[e],i.flags|=16):N.push(e)),i.child=a,i.memoizedState=null,a)}function gd(e,i){return i=ou({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function ou(e,i){return e=Jt(22,e,null,i),e.lanes=0,e}function vd(e,i,a){return Cs(i,e.child,null,a),e=gd(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function bm(e,i,a){e.lanes|=i;var c=e.alternate;c!==null&&(c.lanes|=i),Lc(e.return,i,a)}function yd(e,i,a,c,g,S){var N=e.memoizedState;N===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:g,treeForkCount:S}:(N.isBackwards=i,N.rendering=null,N.renderingStartTime=0,N.last=c,N.tail=a,N.tailMode=g,N.treeForkCount=S)}function Cm(e,i,a){var c=i.pendingProps,g=c.revealOrder,S=c.tail;c=c.children;var N=bt.current,M=(N&2)!==0;if(M?(N=N&1|2,i.flags|=128):N&=1,re(bt,N),Ft(e,i,c,a),c=He?A:0,!M&&e!==null&&(e.flags&128)!==0)e:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&bm(e,a,i);else if(e.tag===19)bm(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break e;for(;e.sibling===null;){if(e.return===null||e.return===i)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(g){case"forwards":for(a=i.child,g=null;a!==null;)e=a.alternate,e!==null&&Yl(e)===null&&(g=a),a=a.sibling;a=g,a===null?(g=i.child,i.child=null):(g=a.sibling,a.sibling=null),yd(i,!1,g,a,S,c);break;case"backwards":case"unstable_legacy-backwards":for(a=null,g=i.child,i.child=null;g!==null;){if(e=g.alternate,e!==null&&Yl(e)===null){i.child=g;break}e=g.sibling,g.sibling=a,a=g,g=e}yd(i,!0,a,null,S,c);break;case"together":yd(i,!1,null,null,void 0,c);break;default:i.memoizedState=null}return i.child}function zi(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),No|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(aa(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(r(153));if(i.child!==null){for(e=i.child,a=Dn(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Dn(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function _d(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Bl(e)))}function F0(e,i,a){switch(i.tag){case 3:ht(i,i.stateNode.containerInfo),_o(i,Mt,e.memoizedState.cache),Di();break;case 27:case 5:_i(i);break;case 4:ht(i,i.stateNode.containerInfo);break;case 10:_o(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Fc(i),null;break;case 13:var c=i.memoizedState;if(c!==null)return c.dehydrated!==null?(Eo(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Em(e,i,a):(Eo(i),e=zi(e,i,a),e!==null?e.sibling:null);Eo(i);break;case 19:var g=(e.flags&128)!==0;if(c=(a&i.childLanes)!==0,c||(aa(e,i,a,!1),c=(a&i.childLanes)!==0),g){if(c)return Cm(e,i,a);i.flags|=128}if(g=i.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),re(bt,bt.current),c)break;return null;case 22:return i.lanes=0,vm(e,i,a,i.pendingProps);case 24:_o(i,Mt,e.memoizedState.cache)}return zi(e,i,a)}function wm(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)It=!0;else{if(!_d(e,a)&&(i.flags&128)===0)return It=!1,F0(e,i,a);It=(e.flags&131072)!==0}else It=!1,He&&(i.flags&1048576)!==0&&De(i,A,i.index);switch(i.lanes=0,i.tag){case 16:e:{var c=i.pendingProps;if(e=Es(i.elementType),i.type=e,typeof e=="function")ia(e)?(c=Ns(e,c),i.tag=1,i=Sm(null,i,e,c,a)):(i.tag=0,i=fd(null,i,e,c,a));else{if(e!=null){var g=e.$$typeof;if(g===ie){i.tag=11,i=mm(null,i,e,c,a);break e}else if(g===oe){i.tag=14,i=pm(null,i,e,c,a);break e}}throw i=ee(e)||e,Error(r(306,i,""))}}return i;case 0:return fd(e,i,i.type,i.pendingProps,a);case 1:return c=i.type,g=Ns(c,i.pendingProps),Sm(e,i,c,g,a);case 3:e:{if(ht(i,i.stateNode.containerInfo),e===null)throw Error(r(387));c=i.pendingProps;var S=i.memoizedState;g=S.element,Hc(e,i),br(i,c,null,a);var N=i.memoizedState;if(c=N.cache,_o(i,Mt,c),c!==S.cache&&Dc(i,[Mt],a,!0),Er(),c=N.element,S.isDehydrated)if(S={element:c,isDehydrated:!1,cache:N.cache},i.updateQueue.baseState=S,i.memoizedState=S,i.flags&256){i=Tm(e,i,c,a);break e}else if(c!==g){g=u(Error(r(424)),i),_s(g),i=Tm(e,i,c,a);break e}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ye=kn(e.firstChild),Ze=i,He=!0,hi=null,cn=!0,a=vh(i,null,c,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Di(),c===g){i=zi(e,i,a);break e}Ft(e,i,c,a)}i=i.child}return i;case 26:return iu(e,i),e===null?(a=zp(i.type,null,i.pendingProps,null))?i.memoizedState=a:He||(a=i.type,e=i.pendingProps,c=xu(me.current).createElement(a),c[Nt]=i,c[Ut]=e,Zt(c,a,e),At(c),i.stateNode=c):i.memoizedState=zp(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return _i(i),e===null&&He&&(c=i.stateNode=Pp(i.type,i.pendingProps,me.current),Ze=i,cn=!0,g=Ye,Lo(i.type)?($d=g,Ye=kn(c.firstChild)):Ye=g),Ft(e,i,i.pendingProps.children,a),iu(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&He&&((g=c=Ye)&&(c=x_(c,i.type,i.pendingProps,cn),c!==null?(i.stateNode=c,Ze=i,Ye=kn(c.firstChild),cn=!1,g=!0):g=!1),g||mi(i)),_i(i),g=i.type,S=i.pendingProps,N=e!==null?e.memoizedProps:null,c=S.children,Jd(g,S)?c=null:N!==null&&Jd(g,N)&&(i.flags|=32),i.memoizedState!==null&&(g=Yc(e,i,k0,null,null,a),Fr._currentValue=g),iu(e,i),Ft(e,i,c,a),i.child;case 6:return e===null&&He&&((e=a=Ye)&&(a=S_(a,i.pendingProps,cn),a!==null?(i.stateNode=a,Ze=i,Ye=null,e=!0):e=!1),e||mi(i)),null;case 13:return Em(e,i,a);case 4:return ht(i,i.stateNode.containerInfo),c=i.pendingProps,e===null?i.child=Cs(i,null,c,a):Ft(e,i,c,a),i.child;case 11:return mm(e,i,i.type,i.pendingProps,a);case 7:return Ft(e,i,i.pendingProps,a),i.child;case 8:return Ft(e,i,i.pendingProps.children,a),i.child;case 12:return Ft(e,i,i.pendingProps.children,a),i.child;case 10:return c=i.pendingProps,_o(i,i.type,c.value),Ft(e,i,c.children,a),i.child;case 9:return g=i.type._context,c=i.pendingProps.children,Ss(i),g=qt(g),c=c(g),i.flags|=1,Ft(e,i,c,a),i.child;case 14:return pm(e,i,i.type,i.pendingProps,a);case 15:return gm(e,i,i.type,i.pendingProps,a);case 19:return Cm(e,i,a);case 31:return q0(e,i,a);case 22:return vm(e,i,a,i.pendingProps);case 24:return Ss(i),c=qt(Mt),e===null?(g=Uc(),g===null&&(g=ct,S=Pc(),g.pooledCache=S,S.refCount++,S!==null&&(g.pooledCacheLanes|=a),g=S),i.memoizedState={parent:c,cache:g},Bc(i),_o(i,Mt,g)):((e.lanes&a)!==0&&(Hc(e,i),br(i,null,null,a),Er()),g=e.memoizedState,S=i.memoizedState,g.parent!==c?(g={parent:c,cache:c},i.memoizedState=g,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=g),_o(i,Mt,c)):(c=S.cache,_o(i,Mt,c),c!==g.cache&&Dc(i,[Mt],a,!0))),Ft(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function Bi(e){e.flags|=4}function xd(e,i,a,c,g){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(g&335544128)===g)if(e.stateNode.complete)e.flags|=8192;else if(Wm())e.flags|=8192;else throw bs=Vl,zc}else e.flags&=-16777217}function Nm(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Vp(i))if(Wm())e.flags|=8192;else throw bs=Vl,zc}function su(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?ul():536870912,e.lanes|=i,ya|=i)}function Rr(e,i){if(!He)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function ft(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,c=0;if(i)for(var g=e.child;g!==null;)a|=g.lanes|g.childLanes,c|=g.subtreeFlags&65011712,c|=g.flags&65011712,g.return=e,g=g.sibling;else for(g=e.child;g!==null;)a|=g.lanes|g.childLanes,c|=g.subtreeFlags,c|=g.flags,g.return=e,g=g.sibling;return e.subtreeFlags|=c,e.childLanes=a,i}function Z0(e,i,a){var c=i.pendingProps;switch(St(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(i),null;case 1:return ft(i),null;case 3:return a=i.stateNode,c=null,e!==null&&(c=e.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),Pi(Mt),mt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Jn(i)?Bi(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,vr())),ft(i),null;case 26:var g=i.type,S=i.memoizedState;return e===null?(Bi(i),S!==null?(ft(i),Nm(i,S)):(ft(i),xd(i,g,null,c,a))):S?S!==e.memoizedState?(Bi(i),ft(i),Nm(i,S)):(ft(i),i.flags&=-16777217):(e=e.memoizedProps,e!==c&&Bi(i),ft(i),xd(i,g,e,c,a)),null;case 27:if($i(i),a=me.current,g=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==c&&Bi(i);else{if(!c){if(i.stateNode===null)throw Error(r(166));return ft(i),null}e=ue.current,Jn(i)?gr(i):(e=Pp(g,c,a),i.stateNode=e,Bi(i))}return ft(i),null;case 5:if($i(i),g=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==c&&Bi(i);else{if(!c){if(i.stateNode===null)throw Error(r(166));return ft(i),null}if(S=ue.current,Jn(i))gr(i);else{var N=xu(me.current);switch(S){case 1:S=N.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:S=N.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":S=N.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":S=N.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":S=N.createElement("div"),S.innerHTML="<script><\/script>",S=S.removeChild(S.firstChild);break;case"select":S=typeof c.is=="string"?N.createElement("select",{is:c.is}):N.createElement("select"),c.multiple?S.multiple=!0:c.size&&(S.size=c.size);break;default:S=typeof c.is=="string"?N.createElement(g,{is:c.is}):N.createElement(g)}}S[Nt]=i,S[Ut]=c;e:for(N=i.child;N!==null;){if(N.tag===5||N.tag===6)S.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===i)break e;for(;N.sibling===null;){if(N.return===null||N.return===i)break e;N=N.return}N.sibling.return=N.return,N=N.sibling}i.stateNode=S;e:switch(Zt(S,g,c),g){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Bi(i)}}return ft(i),xd(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,a),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==c&&Bi(i);else{if(typeof c!="string"&&i.stateNode===null)throw Error(r(166));if(e=me.current,Jn(i)){if(e=i.stateNode,a=i.memoizedProps,c=null,g=Ze,g!==null)switch(g.tag){case 27:case 5:c=g.memoizedProps}e[Nt]=i,e=!!(e.nodeValue===a||c!==null&&c.suppressHydrationWarning===!0||Ep(e.nodeValue,a)),e||mi(i,!0)}else e=xu(e).createTextNode(c),e[Nt]=i,i.stateNode=e}return ft(i),null;case 31:if(a=i.memoizedState,e===null||e.memoizedState!==null){if(c=Jn(i),a!==null){if(e===null){if(!c)throw Error(r(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[Nt]=i}else Di(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ft(i),e=!1}else a=vr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return i.flags&256?(Tn(i),i):(Tn(i),null);if((i.flags&128)!==0)throw Error(r(558))}return ft(i),null;case 13:if(c=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(g=Jn(i),c!==null&&c.dehydrated!==null){if(e===null){if(!g)throw Error(r(318));if(g=i.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[Nt]=i}else Di(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ft(i),g=!1}else g=vr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=g),g=!0;if(!g)return i.flags&256?(Tn(i),i):(Tn(i),null)}return Tn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=c!==null,e=e!==null&&e.memoizedState!==null,a&&(c=i.child,g=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(g=c.alternate.memoizedState.cachePool.pool),S=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(S=c.memoizedState.cachePool.pool),S!==g&&(c.flags|=2048)),a!==e&&a&&(i.child.flags|=8192),su(i,i.updateQueue),ft(i),null);case 4:return mt(),e===null&&Vd(i.stateNode.containerInfo),ft(i),null;case 10:return Pi(i.type),ft(i),null;case 19:if(Q(bt),c=i.memoizedState,c===null)return ft(i),null;if(g=(i.flags&128)!==0,S=c.rendering,S===null)if(g)Rr(c,!1);else{if(Et!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(S=Yl(e),S!==null){for(i.flags|=128,Rr(c,!1),e=S.updateQueue,i.updateQueue=e,su(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)hr(a,e),a=a.sibling;return re(bt,bt.current&1|2),He&&xe(i,c.treeForkCount),i.child}e=e.sibling}c.tail!==null&&Xt()>cu&&(i.flags|=128,g=!0,Rr(c,!1),i.lanes=4194304)}else{if(!g)if(e=Yl(S),e!==null){if(i.flags|=128,g=!0,e=e.updateQueue,i.updateQueue=e,su(i,e),Rr(c,!0),c.tail===null&&c.tailMode==="hidden"&&!S.alternate&&!He)return ft(i),null}else 2*Xt()-c.renderingStartTime>cu&&a!==536870912&&(i.flags|=128,g=!0,Rr(c,!1),i.lanes=4194304);c.isBackwards?(S.sibling=i.child,i.child=S):(e=c.last,e!==null?e.sibling=S:i.child=S,c.last=S)}return c.tail!==null?(e=c.tail,c.rendering=e,c.tail=e.sibling,c.renderingStartTime=Xt(),e.sibling=null,a=bt.current,re(bt,g?a&1|2:a&1),He&&xe(i,c.treeForkCount),e):(ft(i),null);case 22:case 23:return Tn(i),qc(),c=i.memoizedState!==null,e!==null?e.memoizedState!==null!==c&&(i.flags|=8192):c&&(i.flags|=8192),c?(a&536870912)!==0&&(i.flags&128)===0&&(ft(i),i.subtreeFlags&6&&(i.flags|=8192)):ft(i),a=i.updateQueue,a!==null&&su(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==a&&(i.flags|=2048),e!==null&&Q(Ts),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Pi(Mt),ft(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function Y0(e,i){switch(St(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Pi(Mt),mt(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return $i(i),null;case 31:if(i.memoizedState!==null){if(Tn(i),i.alternate===null)throw Error(r(340));Di()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(Tn(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Di()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return Q(bt),null;case 4:return mt(),null;case 10:return Pi(i.type),null;case 22:case 23:return Tn(i),qc(),e!==null&&Q(Ts),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Pi(Mt),null;case 25:return null;default:return null}}function Am(e,i){switch(St(i),i.tag){case 3:Pi(Mt),mt();break;case 26:case 27:case 5:$i(i);break;case 4:mt();break;case 31:i.memoizedState!==null&&Tn(i);break;case 13:Tn(i);break;case 19:Q(bt);break;case 10:Pi(i.type);break;case 22:case 23:Tn(i),qc(),e!==null&&Q(Ts);break;case 24:Pi(Mt)}}function Ir(e,i){try{var a=i.updateQueue,c=a!==null?a.lastEffect:null;if(c!==null){var g=c.next;a=g;do{if((a.tag&e)===e){c=void 0;var S=a.create,N=a.inst;c=S(),N.destroy=c}a=a.next}while(a!==g)}}catch(M){nt(i,i.return,M)}}function Co(e,i,a){try{var c=i.updateQueue,g=c!==null?c.lastEffect:null;if(g!==null){var S=g.next;c=S;do{if((c.tag&e)===e){var N=c.inst,M=N.destroy;if(M!==void 0){N.destroy=void 0,g=i;var U=a,Z=M;try{Z()}catch($){nt(g,U,$)}}}c=c.next}while(c!==S)}}catch($){nt(i,i.return,$)}}function Mm(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{_h(i,a)}catch(c){nt(e,e.return,c)}}}function Rm(e,i,a){a.props=Ns(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(c){nt(e,i,c)}}function Lr(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var c=e.stateNode;break;case 30:c=e.stateNode;break;default:c=e.stateNode}typeof a=="function"?e.refCleanup=a(c):a.current=c}}catch(g){nt(e,i,g)}}function gi(e,i){var a=e.ref,c=e.refCleanup;if(a!==null)if(typeof c=="function")try{c()}catch(g){nt(e,i,g)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(g){nt(e,i,g)}else a.current=null}function Im(e){var i=e.type,a=e.memoizedProps,c=e.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&c.focus();break e;case"img":a.src?c.src=a.src:a.srcSet&&(c.srcset=a.srcSet)}}catch(g){nt(e,e.return,g)}}function Sd(e,i,a){try{var c=e.stateNode;m_(c,e.type,a,i),c[Ut]=i}catch(g){nt(e,e.return,g)}}function Lm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Lo(e.type)||e.tag===4}function Td(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Lm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Lo(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ed(e,i,a){var c=e.tag;if(c===5||c===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=an));else if(c!==4&&(c===27&&Lo(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(Ed(e,i,a),e=e.sibling;e!==null;)Ed(e,i,a),e=e.sibling}function au(e,i,a){var c=e.tag;if(c===5||c===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(c!==4&&(c===27&&Lo(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(au(e,i,a),e=e.sibling;e!==null;)au(e,i,a),e=e.sibling}function Dm(e){var i=e.stateNode,a=e.memoizedProps;try{for(var c=e.type,g=i.attributes;g.length;)i.removeAttributeNode(g[0]);Zt(i,c,a),i[Nt]=e,i[Ut]=a}catch(S){nt(e,e.return,S)}}var Hi=!1,Lt=!1,bd=!1,Pm=typeof WeakSet=="function"?WeakSet:Set,Ht=null;function J0(e,i){if(e=e.containerInfo,Zd=Nu,e=ds(e),li(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var g=c.anchorOffset,S=c.focusNode;c=c.focusOffset;try{a.nodeType,S.nodeType}catch{a=null;break e}var N=0,M=-1,U=-1,Z=0,$=0,ne=e,J=null;t:for(;;){for(var K;ne!==a||g!==0&&ne.nodeType!==3||(M=N+g),ne!==S||c!==0&&ne.nodeType!==3||(U=N+c),ne.nodeType===3&&(N+=ne.nodeValue.length),(K=ne.firstChild)!==null;)J=ne,ne=K;for(;;){if(ne===e)break t;if(J===a&&++Z===g&&(M=N),J===S&&++$===c&&(U=N),(K=ne.nextSibling)!==null)break;ne=J,J=ne.parentNode}ne=K}a=M===-1||U===-1?null:{start:M,end:U}}else a=null}a=a||{start:0,end:0}}else a=null;for(Yd={focusedElem:e,selectionRange:a},Nu=!1,Ht=i;Ht!==null;)if(i=Ht,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,Ht=e;else for(;Ht!==null;){switch(i=Ht,S=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)g=e[a],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&S!==null){e=void 0,a=i,g=S.memoizedProps,S=S.memoizedState,c=a.stateNode;try{var ve=Ns(a.type,g);e=c.getSnapshotBeforeUpdate(ve,S),c.__reactInternalSnapshotBeforeUpdate=e}catch(Ce){nt(a,a.return,Ce)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)Kd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Kd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=i.sibling,e!==null){e.return=i.return,Ht=e;break}Ht=i.return}}function km(e,i,a){var c=a.flags;switch(a.tag){case 0:case 11:case 15:Gi(e,a),c&4&&Ir(5,a);break;case 1:if(Gi(e,a),c&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(N){nt(a,a.return,N)}else{var g=Ns(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(g,i,e.__reactInternalSnapshotBeforeUpdate)}catch(N){nt(a,a.return,N)}}c&64&&Mm(a),c&512&&Lr(a,a.return);break;case 3:if(Gi(e,a),c&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{_h(e,i)}catch(N){nt(a,a.return,N)}}break;case 27:i===null&&c&4&&Dm(a);case 26:case 5:Gi(e,a),i===null&&c&4&&Im(a),c&512&&Lr(a,a.return);break;case 12:Gi(e,a);break;case 31:Gi(e,a),c&4&&Bm(e,a);break;case 13:Gi(e,a),c&4&&Hm(e,a),c&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=n_.bind(null,a),T_(e,a))));break;case 22:if(c=a.memoizedState!==null||Hi,!c){i=i!==null&&i.memoizedState!==null||Lt,g=Hi;var S=Lt;Hi=c,(Lt=i)&&!S?Vi(e,a,(a.subtreeFlags&8772)!==0):Gi(e,a),Hi=g,Lt=S}break;case 30:break;default:Gi(e,a)}}function Um(e){var i=e.alternate;i!==null&&(e.alternate=null,Um(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&Ka(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var gt=null,dn=!1;function Oi(e,i,a){for(a=a.child;a!==null;)zm(e,i,a),a=a.sibling}function zm(e,i,a){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(Wi,a)}catch{}switch(a.tag){case 26:Lt||gi(a,i),Oi(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Lt||gi(a,i);var c=gt,g=dn;Lo(a.type)&&(gt=a.stateNode,dn=!1),Oi(e,i,a),Gr(a.stateNode),gt=c,dn=g;break;case 5:Lt||gi(a,i);case 6:if(c=gt,g=dn,gt=null,Oi(e,i,a),gt=c,dn=g,gt!==null)if(dn)try{(gt.nodeType===9?gt.body:gt.nodeName==="HTML"?gt.ownerDocument.body:gt).removeChild(a.stateNode)}catch(S){nt(a,i,S)}else try{gt.removeChild(a.stateNode)}catch(S){nt(a,i,S)}break;case 18:gt!==null&&(dn?(e=gt,Mp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),wa(e)):Mp(gt,a.stateNode));break;case 4:c=gt,g=dn,gt=a.stateNode.containerInfo,dn=!0,Oi(e,i,a),gt=c,dn=g;break;case 0:case 11:case 14:case 15:Co(2,a,i),Lt||Co(4,a,i),Oi(e,i,a);break;case 1:Lt||(gi(a,i),c=a.stateNode,typeof c.componentWillUnmount=="function"&&Rm(a,i,c)),Oi(e,i,a);break;case 21:Oi(e,i,a);break;case 22:Lt=(c=Lt)||a.memoizedState!==null,Oi(e,i,a),Lt=c;break;default:Oi(e,i,a)}}function Bm(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{wa(e)}catch(a){nt(i,i.return,a)}}}function Hm(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{wa(e)}catch(a){nt(i,i.return,a)}}function j0(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new Pm),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new Pm),i;default:throw Error(r(435,e.tag))}}function ru(e,i){var a=j0(e);i.forEach(function(c){if(!a.has(c)){a.add(c);var g=i_.bind(null,e,c);c.then(g,g)}})}function fn(e,i){var a=i.deletions;if(a!==null)for(var c=0;c<a.length;c++){var g=a[c],S=e,N=i,M=N;e:for(;M!==null;){switch(M.tag){case 27:if(Lo(M.type)){gt=M.stateNode,dn=!1;break e}break;case 5:gt=M.stateNode,dn=!1;break e;case 3:case 4:gt=M.stateNode.containerInfo,dn=!0;break e}M=M.return}if(gt===null)throw Error(r(160));zm(S,N,g),gt=null,dn=!1,S=g.alternate,S!==null&&(S.return=null),g.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Om(i,e),i=i.sibling}var Kn=null;function Om(e,i){var a=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:fn(i,e),hn(e),c&4&&(Co(3,e,e.return),Ir(3,e),Co(5,e,e.return));break;case 1:fn(i,e),hn(e),c&512&&(Lt||a===null||gi(a,a.return)),c&64&&Hi&&(e=e.updateQueue,e!==null&&(c=e.callbacks,c!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?c:a.concat(c))));break;case 26:var g=Kn;if(fn(i,e),hn(e),c&512&&(Lt||a===null||gi(a,a.return)),c&4){var S=a!==null?a.memoizedState:null;if(c=e.memoizedState,a===null)if(c===null)if(e.stateNode===null){e:{c=e.type,a=e.memoizedProps,g=g.ownerDocument||g;t:switch(c){case"title":S=g.getElementsByTagName("title")[0],(!S||S[Ko]||S[Nt]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=g.createElement(c),g.head.insertBefore(S,g.querySelector("head > title"))),Zt(S,c,a),S[Nt]=e,At(S),c=S;break e;case"link":var N=Op("link","href",g).get(c+(a.href||""));if(N){for(var M=0;M<N.length;M++)if(S=N[M],S.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&S.getAttribute("rel")===(a.rel==null?null:a.rel)&&S.getAttribute("title")===(a.title==null?null:a.title)&&S.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){N.splice(M,1);break t}}S=g.createElement(c),Zt(S,c,a),g.head.appendChild(S);break;case"meta":if(N=Op("meta","content",g).get(c+(a.content||""))){for(M=0;M<N.length;M++)if(S=N[M],S.getAttribute("content")===(a.content==null?null:""+a.content)&&S.getAttribute("name")===(a.name==null?null:a.name)&&S.getAttribute("property")===(a.property==null?null:a.property)&&S.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&S.getAttribute("charset")===(a.charSet==null?null:a.charSet)){N.splice(M,1);break t}}S=g.createElement(c),Zt(S,c,a),g.head.appendChild(S);break;default:throw Error(r(468,c))}S[Nt]=e,At(S),c=S}e.stateNode=c}else Gp(g,e.type,e.stateNode);else e.stateNode=Hp(g,c,e.memoizedProps);else S!==c?(S===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):S.count--,c===null?Gp(g,e.type,e.stateNode):Hp(g,c,e.memoizedProps)):c===null&&e.stateNode!==null&&Sd(e,e.memoizedProps,a.memoizedProps)}break;case 27:fn(i,e),hn(e),c&512&&(Lt||a===null||gi(a,a.return)),a!==null&&c&4&&Sd(e,e.memoizedProps,a.memoizedProps);break;case 5:if(fn(i,e),hn(e),c&512&&(Lt||a===null||gi(a,a.return)),e.flags&32){g=e.stateNode;try{wn(g,"")}catch(ve){nt(e,e.return,ve)}}c&4&&e.stateNode!=null&&(g=e.memoizedProps,Sd(e,g,a!==null?a.memoizedProps:g)),c&1024&&(bd=!0);break;case 6:if(fn(i,e),hn(e),c&4){if(e.stateNode===null)throw Error(r(162));c=e.memoizedProps,a=e.stateNode;try{a.nodeValue=c}catch(ve){nt(e,e.return,ve)}}break;case 3:if(Eu=null,g=Kn,Kn=Su(i.containerInfo),fn(i,e),Kn=g,hn(e),c&4&&a!==null&&a.memoizedState.isDehydrated)try{wa(i.containerInfo)}catch(ve){nt(e,e.return,ve)}bd&&(bd=!1,Gm(e));break;case 4:c=Kn,Kn=Su(e.stateNode.containerInfo),fn(i,e),hn(e),Kn=c;break;case 12:fn(i,e),hn(e);break;case 31:fn(i,e),hn(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,ru(e,c)));break;case 13:fn(i,e),hn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(uu=Xt()),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,ru(e,c)));break;case 22:g=e.memoizedState!==null;var U=a!==null&&a.memoizedState!==null,Z=Hi,$=Lt;if(Hi=Z||g,Lt=$||U,fn(i,e),Lt=$,Hi=Z,hn(e),c&8192)e:for(i=e.stateNode,i._visibility=g?i._visibility&-2:i._visibility|1,g&&(a===null||U||Hi||Lt||As(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){U=a=i;try{if(S=U.stateNode,g)N=S.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{M=U.stateNode;var ne=U.memoizedProps.style,J=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;M.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(ve){nt(U,U.return,ve)}}}else if(i.tag===6){if(a===null){U=i;try{U.stateNode.nodeValue=g?"":U.memoizedProps}catch(ve){nt(U,U.return,ve)}}}else if(i.tag===18){if(a===null){U=i;try{var K=U.stateNode;g?Rp(K,!0):Rp(U.stateNode,!1)}catch(ve){nt(U,U.return,ve)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break e;for(;i.sibling===null;){if(i.return===null||i.return===e)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}c&4&&(c=e.updateQueue,c!==null&&(a=c.retryQueue,a!==null&&(c.retryQueue=null,ru(e,a))));break;case 19:fn(i,e),hn(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,ru(e,c)));break;case 30:break;case 21:break;default:fn(i,e),hn(e)}}function hn(e){var i=e.flags;if(i&2){try{for(var a,c=e.return;c!==null;){if(Lm(c)){a=c;break}c=c.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var g=a.stateNode,S=Td(e);au(e,S,g);break;case 5:var N=a.stateNode;a.flags&32&&(wn(N,""),a.flags&=-33);var M=Td(e);au(e,M,N);break;case 3:case 4:var U=a.stateNode.containerInfo,Z=Td(e);Ed(e,Z,U);break;default:throw Error(r(161))}}catch($){nt(e,e.return,$)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function Gm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;Gm(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Gi(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)km(e,i.alternate,i),i=i.sibling}function As(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Co(4,i,i.return),As(i);break;case 1:gi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Rm(i,i.return,a),As(i);break;case 27:Gr(i.stateNode);case 26:case 5:gi(i,i.return),As(i);break;case 22:i.memoizedState===null&&As(i);break;case 30:As(i);break;default:As(i)}e=e.sibling}}function Vi(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var c=i.alternate,g=e,S=i,N=S.flags;switch(S.tag){case 0:case 11:case 15:Vi(g,S,a),Ir(4,S);break;case 1:if(Vi(g,S,a),c=S,g=c.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(Z){nt(c,c.return,Z)}if(c=S,g=c.updateQueue,g!==null){var M=c.stateNode;try{var U=g.shared.hiddenCallbacks;if(U!==null)for(g.shared.hiddenCallbacks=null,g=0;g<U.length;g++)yh(U[g],M)}catch(Z){nt(c,c.return,Z)}}a&&N&64&&Mm(S),Lr(S,S.return);break;case 27:Dm(S);case 26:case 5:Vi(g,S,a),a&&c===null&&N&4&&Im(S),Lr(S,S.return);break;case 12:Vi(g,S,a);break;case 31:Vi(g,S,a),a&&N&4&&Bm(g,S);break;case 13:Vi(g,S,a),a&&N&4&&Hm(g,S);break;case 22:S.memoizedState===null&&Vi(g,S,a),Lr(S,S.return);break;case 30:break;default:Vi(g,S,a)}i=i.sibling}}function Cd(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&yr(a))}function wd(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&yr(e))}function Xn(e,i,a,c){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Vm(e,i,a,c),i=i.sibling}function Vm(e,i,a,c){var g=i.flags;switch(i.tag){case 0:case 11:case 15:Xn(e,i,a,c),g&2048&&Ir(9,i);break;case 1:Xn(e,i,a,c);break;case 3:Xn(e,i,a,c),g&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&yr(e)));break;case 12:if(g&2048){Xn(e,i,a,c),e=i.stateNode;try{var S=i.memoizedProps,N=S.id,M=S.onPostCommit;typeof M=="function"&&M(N,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(U){nt(i,i.return,U)}}else Xn(e,i,a,c);break;case 31:Xn(e,i,a,c);break;case 13:Xn(e,i,a,c);break;case 23:break;case 22:S=i.stateNode,N=i.alternate,i.memoizedState!==null?S._visibility&2?Xn(e,i,a,c):Dr(e,i):S._visibility&2?Xn(e,i,a,c):(S._visibility|=2,pa(e,i,a,c,(i.subtreeFlags&10256)!==0||!1)),g&2048&&Cd(N,i);break;case 24:Xn(e,i,a,c),g&2048&&wd(i.alternate,i);break;default:Xn(e,i,a,c)}}function pa(e,i,a,c,g){for(g=g&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var S=e,N=i,M=a,U=c,Z=N.flags;switch(N.tag){case 0:case 11:case 15:pa(S,N,M,U,g),Ir(8,N);break;case 23:break;case 22:var $=N.stateNode;N.memoizedState!==null?$._visibility&2?pa(S,N,M,U,g):Dr(S,N):($._visibility|=2,pa(S,N,M,U,g)),g&&Z&2048&&Cd(N.alternate,N);break;case 24:pa(S,N,M,U,g),g&&Z&2048&&wd(N.alternate,N);break;default:pa(S,N,M,U,g)}i=i.sibling}}function Dr(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,c=i,g=c.flags;switch(c.tag){case 22:Dr(a,c),g&2048&&Cd(c.alternate,c);break;case 24:Dr(a,c),g&2048&&wd(c.alternate,c);break;default:Dr(a,c)}i=i.sibling}}var Pr=8192;function ga(e,i,a){if(e.subtreeFlags&Pr)for(e=e.child;e!==null;)qm(e,i,a),e=e.sibling}function qm(e,i,a){switch(e.tag){case 26:ga(e,i,a),e.flags&Pr&&e.memoizedState!==null&&P_(a,Kn,e.memoizedState,e.memoizedProps);break;case 5:ga(e,i,a);break;case 3:case 4:var c=Kn;Kn=Su(e.stateNode.containerInfo),ga(e,i,a),Kn=c;break;case 22:e.memoizedState===null&&(c=e.alternate,c!==null&&c.memoizedState!==null?(c=Pr,Pr=16777216,ga(e,i,a),Pr=c):ga(e,i,a));break;default:ga(e,i,a)}}function Fm(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function kr(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var c=i[a];Ht=c,Ym(c,e)}Fm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Zm(e),e=e.sibling}function Zm(e){switch(e.tag){case 0:case 11:case 15:kr(e),e.flags&2048&&Co(9,e,e.return);break;case 3:kr(e);break;case 12:kr(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,lu(e)):kr(e);break;default:kr(e)}}function lu(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var c=i[a];Ht=c,Ym(c,e)}Fm(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Co(8,i,i.return),lu(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,lu(i));break;default:lu(i)}e=e.sibling}}function Ym(e,i){for(;Ht!==null;){var a=Ht;switch(a.tag){case 0:case 11:case 15:Co(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var c=a.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:yr(a.memoizedState.cache)}if(c=a.child,c!==null)c.return=a,Ht=c;else e:for(a=e;Ht!==null;){c=Ht;var g=c.sibling,S=c.return;if(Um(c),c===a){Ht=null;break e}if(g!==null){g.return=S,Ht=g;break e}Ht=S}}}var K0={getCacheForType:function(e){var i=qt(Mt),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a},cacheSignal:function(){return qt(Mt).controller.signal}},X0=typeof WeakMap=="function"?WeakMap:Map,We=0,ct=null,Oe=null,qe=0,tt=0,En=null,wo=!1,va=!1,Nd=!1,qi=0,Et=0,No=0,Ms=0,Ad=0,bn=0,ya=0,Ur=null,mn=null,Md=!1,uu=0,Jm=0,cu=1/0,du=null,Ao=null,kt=0,Mo=null,_a=null,Fi=0,Rd=0,Id=null,jm=null,zr=0,Ld=null;function Cn(){return(We&2)!==0&&qe!==0?qe&-qe:j.T!==null?Bd():Ja()}function Km(){if(bn===0)if((qe&536870912)===0||He){var e=Yo;Yo<<=1,(Yo&3932160)===0&&(Yo=262144),bn=e}else bn=536870912;return e=Sn.current,e!==null&&(e.flags|=32),bn}function pn(e,i,a){(e===ct&&(tt===2||tt===9)||e.cancelPendingCommit!==null)&&(xa(e,0),Ro(e,qe,bn,!1)),Ei(e,a),((We&2)===0||e!==ct)&&(e===ct&&((We&2)===0&&(Ms|=a),Et===4&&Ro(e,qe,bn,!1)),vi(e))}function Xm(e,i,a){if((We&6)!==0)throw Error(r(327));var c=!a&&(i&127)===0&&(i&e.expiredLanes)===0||jo(e,i),g=c?W0(e,i):Pd(e,i,!0),S=c;do{if(g===0){va&&!c&&Ro(e,i,0,!1);break}else{if(a=e.current.alternate,S&&!Q0(a)){g=Pd(e,i,!1),S=!1;continue}if(g===2){if(S=i,e.errorRecoveryDisabledLanes&S)var N=0;else N=e.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){i=N;e:{var M=e;g=Ur;var U=M.current.memoizedState.isDehydrated;if(U&&(xa(M,N).flags|=256),N=Pd(M,N,!1),N!==2){if(Nd&&!U){M.errorRecoveryDisabledLanes|=S,Ms|=S,g=4;break e}S=mn,mn=g,S!==null&&(mn===null?mn=S:mn.push.apply(mn,S))}g=N}if(S=!1,g!==2)continue}}if(g===1){xa(e,0),Ro(e,i,0,!0);break}e:{switch(c=e,S=g,S){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Ro(c,i,bn,!wo);break e;case 2:mn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(g=uu+300-Xt(),10<g)){if(Ro(c,i,bn,!wo),Os(c,0,!0)!==0)break e;Fi=i,c.timeoutHandle=Np(Qm.bind(null,c,a,mn,du,Md,i,bn,Ms,ya,wo,S,"Throttled",-0,0),g);break e}Qm(c,a,mn,du,Md,i,bn,Ms,ya,wo,S,null,-0,0)}}break}while(!0);vi(e)}function Qm(e,i,a,c,g,S,N,M,U,Z,$,ne,J,K){if(e.timeoutHandle=-1,ne=i.subtreeFlags,ne&8192||(ne&16785408)===16785408){ne={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:an},qm(i,S,ne);var ve=(S&62914560)===S?uu-Xt():(S&4194048)===S?Jm-Xt():0;if(ve=k_(ne,ve),ve!==null){Fi=S,e.cancelPendingCommit=ve(sp.bind(null,e,i,S,a,c,g,N,M,U,$,ne,null,J,K)),Ro(e,S,N,!Z);return}}sp(e,i,S,a,c,g,N,M,U)}function Q0(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var c=0;c<a.length;c++){var g=a[c],S=g.getSnapshot;g=g.value;try{if(!zt(S(),g))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ro(e,i,a,c){i&=~Ad,i&=~Ms,e.suspendedLanes|=i,e.pingedLanes&=~i,c&&(e.warmLanes|=i),c=e.expirationTimes;for(var g=i;0<g;){var S=31-Qt(g),N=1<<S;c[S]=-1,g&=~N}a!==0&&cl(e,a,i)}function fu(){return(We&6)===0?(Br(0),!1):!0}function Dd(){if(Oe!==null){if(tt===0)var e=Oe.return;else e=Oe,jn=pi=null,Kc(e),ca=null,xr=0,e=Oe;for(;e!==null;)Am(e.alternate,e),e=e.return;Oe=null}}function xa(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,v_(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Fi=0,Dd(),ct=e,Oe=a=Dn(e.current,null),qe=i,tt=0,En=null,wo=!1,va=jo(e,i),Nd=!1,ya=bn=Ad=Ms=No=Et=0,mn=Ur=null,Md=!1,(i&8)!==0&&(i|=i&32);var c=e.entangledLanes;if(c!==0)for(e=e.entanglements,c&=i;0<c;){var g=31-Qt(c),S=1<<g;i|=e[g],c&=~S}return qi=i,gs(),a}function $m(e,i){Ie=null,j.H=Ar,i===ua||i===Gl?(i=mh(),tt=3):i===zc?(i=mh(),tt=4):tt=i===dd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,En=i,Oe===null&&(Et=1,tu(e,u(i,e.current)))}function Wm(){var e=Sn.current;return e===null?!0:(qe&4194048)===qe?Pn===null:(qe&62914560)===qe||(qe&536870912)!==0?e===Pn:!1}function ep(){var e=j.H;return j.H=Ar,e===null?Ar:e}function tp(){var e=j.A;return j.A=K0,e}function hu(){Et=4,wo||(qe&4194048)!==qe&&Sn.current!==null||(va=!0),(No&134217727)===0&&(Ms&134217727)===0||ct===null||Ro(ct,qe,bn,!1)}function Pd(e,i,a){var c=We;We|=2;var g=ep(),S=tp();(ct!==e||qe!==i)&&(du=null,xa(e,i)),i=!1;var N=Et;e:do try{if(tt!==0&&Oe!==null){var M=Oe,U=En;switch(tt){case 8:Dd(),N=6;break e;case 3:case 2:case 9:case 6:Sn.current===null&&(i=!0);var Z=tt;if(tt=0,En=null,Sa(e,M,U,Z),a&&va){N=0;break e}break;default:Z=tt,tt=0,En=null,Sa(e,M,U,Z)}}$0(),N=Et;break}catch($){$m(e,$)}while(!0);return i&&e.shellSuspendCounter++,jn=pi=null,We=c,j.H=g,j.A=S,Oe===null&&(ct=null,qe=0,gs()),N}function $0(){for(;Oe!==null;)np(Oe)}function W0(e,i){var a=We;We|=2;var c=ep(),g=tp();ct!==e||qe!==i?(du=null,cu=Xt()+500,xa(e,i)):va=jo(e,i);e:do try{if(tt!==0&&Oe!==null){i=Oe;var S=En;t:switch(tt){case 1:tt=0,En=null,Sa(e,i,S,1);break;case 2:case 9:if(fh(S)){tt=0,En=null,ip(i);break}i=function(){tt!==2&&tt!==9||ct!==e||(tt=7),vi(e)},S.then(i,i);break e;case 3:tt=7;break e;case 4:tt=5;break e;case 7:fh(S)?(tt=0,En=null,ip(i)):(tt=0,En=null,Sa(e,i,S,7));break;case 5:var N=null;switch(Oe.tag){case 26:N=Oe.memoizedState;case 5:case 27:var M=Oe;if(N?Vp(N):M.stateNode.complete){tt=0,En=null;var U=M.sibling;if(U!==null)Oe=U;else{var Z=M.return;Z!==null?(Oe=Z,mu(Z)):Oe=null}break t}}tt=0,En=null,Sa(e,i,S,5);break;case 6:tt=0,En=null,Sa(e,i,S,6);break;case 8:Dd(),Et=6;break e;default:throw Error(r(462))}}e_();break}catch($){$m(e,$)}while(!0);return jn=pi=null,j.H=c,j.A=g,We=a,Oe!==null?0:(ct=null,qe=0,gs(),Et)}function e_(){for(;Oe!==null&&!al();)np(Oe)}function np(e){var i=wm(e.alternate,e,qi);e.memoizedProps=e.pendingProps,i===null?mu(e):Oe=i}function ip(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=xm(a,i,i.pendingProps,i.type,void 0,qe);break;case 11:i=xm(a,i,i.pendingProps,i.type.render,i.ref,qe);break;case 5:Kc(i);default:Am(a,i),i=Oe=hr(i,qi),i=wm(a,i,qi)}e.memoizedProps=e.pendingProps,i===null?mu(e):Oe=i}function Sa(e,i,a,c){jn=pi=null,Kc(i),ca=null,xr=0;var g=i.return;try{if(V0(e,g,i,a,qe)){Et=1,tu(e,u(a,e.current)),Oe=null;return}}catch(S){if(g!==null)throw Oe=g,S;Et=1,tu(e,u(a,e.current)),Oe=null;return}i.flags&32768?(He||c===1?e=!0:va||(qe&536870912)!==0?e=!1:(wo=e=!0,(c===2||c===9||c===3||c===6)&&(c=Sn.current,c!==null&&c.tag===13&&(c.flags|=16384))),op(i,e)):mu(i)}function mu(e){var i=e;do{if((i.flags&32768)!==0){op(i,wo);return}e=i.return;var a=Z0(i.alternate,i,qi);if(a!==null){Oe=a;return}if(i=i.sibling,i!==null){Oe=i;return}Oe=i=e}while(i!==null);Et===0&&(Et=5)}function op(e,i){do{var a=Y0(e.alternate,e);if(a!==null){a.flags&=32767,Oe=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Oe=e;return}Oe=e=a}while(e!==null);Et=6,Oe=null}function sp(e,i,a,c,g,S,N,M,U){e.cancelPendingCommit=null;do pu();while(kt!==0);if((We&6)!==0)throw Error(r(327));if(i!==null){if(i===e.current)throw Error(r(177));if(S=i.lanes|i.childLanes,S|=na,gc(e,a,S,N,M,U),e===ct&&(Oe=ct=null,qe=0),_a=i,Mo=e,Fi=a,Rd=S,Id=g,jm=c,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,o_(qo,function(){return cp(),null})):(e.callbackNode=null,e.callbackPriority=0),c=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||c){c=j.T,j.T=null,g=ae.p,ae.p=2,N=We,We|=4;try{J0(e,i,a)}finally{We=N,ae.p=g,j.T=c}}kt=1,ap(),rp(),lp()}}function ap(){if(kt===1){kt=0;var e=Mo,i=_a,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=j.T,j.T=null;var c=ae.p;ae.p=2;var g=We;We|=4;try{Om(i,e);var S=Yd,N=ds(e.containerInfo),M=S.focusedElem,U=S.selectionRange;if(N!==M&&M&&M.ownerDocument&&$s(M.ownerDocument.documentElement,M)){if(U!==null&&li(M)){var Z=U.start,$=U.end;if($===void 0&&($=Z),"selectionStart"in M)M.selectionStart=Z,M.selectionEnd=Math.min($,M.value.length);else{var ne=M.ownerDocument||document,J=ne&&ne.defaultView||window;if(J.getSelection){var K=J.getSelection(),ve=M.textContent.length,Ce=Math.min(U.start,ve),at=U.end===void 0?Ce:Math.min(U.end,ve);!K.extend&&Ce>at&&(N=at,at=Ce,Ce=N);var V=cs(M,Ce),G=cs(M,at);if(V&&G&&(K.rangeCount!==1||K.anchorNode!==V.node||K.anchorOffset!==V.offset||K.focusNode!==G.node||K.focusOffset!==G.offset)){var F=ne.createRange();F.setStart(V.node,V.offset),K.removeAllRanges(),Ce>at?(K.addRange(F),K.extend(G.node,G.offset)):(F.setEnd(G.node,G.offset),K.addRange(F))}}}}for(ne=[],K=M;K=K.parentNode;)K.nodeType===1&&ne.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<ne.length;M++){var W=ne[M];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}Nu=!!Zd,Yd=Zd=null}finally{We=g,ae.p=c,j.T=a}}e.current=i,kt=2}}function rp(){if(kt===2){kt=0;var e=Mo,i=_a,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=j.T,j.T=null;var c=ae.p;ae.p=2;var g=We;We|=4;try{km(e,i.alternate,i)}finally{We=g,ae.p=c,j.T=a}}kt=3}}function lp(){if(kt===4||kt===3){kt=0,rl();var e=Mo,i=_a,a=Fi,c=jm;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?kt=5:(kt=0,_a=Mo=null,up(e,e.pendingLanes));var g=e.pendingLanes;if(g===0&&(Ao=null),_e(a),i=i.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(Wi,i,void 0,(i.current.flags&128)===128)}catch{}if(c!==null){i=j.T,g=ae.p,ae.p=2,j.T=null;try{for(var S=e.onRecoverableError,N=0;N<c.length;N++){var M=c[N];S(M.value,{componentStack:M.stack})}}finally{j.T=i,ae.p=g}}(Fi&3)!==0&&pu(),vi(e),g=e.pendingLanes,(a&261930)!==0&&(g&42)!==0?e===Ld?zr++:(zr=0,Ld=e):zr=0,Br(0)}}function up(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,yr(i)))}function pu(){return ap(),rp(),lp(),cp()}function cp(){if(kt!==5)return!1;var e=Mo,i=Rd;Rd=0;var a=_e(Fi),c=j.T,g=ae.p;try{ae.p=32>a?32:a,j.T=null,a=Id,Id=null;var S=Mo,N=Fi;if(kt=0,_a=Mo=null,Fi=0,(We&6)!==0)throw Error(r(331));var M=We;if(We|=4,Zm(S.current),Vm(S,S.current,N,a),We=M,Br(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(Wi,S)}catch{}return!0}finally{ae.p=g,j.T=c,up(e,i)}}function dp(e,i,a){i=u(a,i),i=cd(e.stateNode,i,2),e=To(e,i,2),e!==null&&(Ei(e,2),vi(e))}function nt(e,i,a){if(e.tag===3)dp(e,e,a);else for(;i!==null;){if(i.tag===3){dp(i,e,a);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Ao===null||!Ao.has(c))){e=u(a,e),a=fm(2),c=To(i,a,2),c!==null&&(hm(a,c,i,e),Ei(c,2),vi(c));break}}i=i.return}}function kd(e,i,a){var c=e.pingCache;if(c===null){c=e.pingCache=new X0;var g=new Set;c.set(i,g)}else g=c.get(i),g===void 0&&(g=new Set,c.set(i,g));g.has(a)||(Nd=!0,g.add(a),e=t_.bind(null,e,i,a),i.then(e,e))}function t_(e,i,a){var c=e.pingCache;c!==null&&c.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ct===e&&(qe&a)===a&&(Et===4||Et===3&&(qe&62914560)===qe&&300>Xt()-uu?(We&2)===0&&xa(e,0):Ad|=a,ya===qe&&(ya=0)),vi(e)}function fp(e,i){i===0&&(i=ul()),e=Ln(e,i),e!==null&&(Ei(e,i),vi(e))}function n_(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),fp(e,a)}function i_(e,i){var a=0;switch(e.tag){case 31:case 13:var c=e.stateNode,g=e.memoizedState;g!==null&&(a=g.retryLane);break;case 19:c=e.stateNode;break;case 22:c=e.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(i),fp(e,a)}function o_(e,i){return Bs(e,i)}var gu=null,Ta=null,Ud=!1,vu=!1,zd=!1,Io=0;function vi(e){e!==Ta&&e.next===null&&(Ta===null?gu=Ta=e:Ta=Ta.next=e),vu=!0,Ud||(Ud=!0,a_())}function Br(e,i){if(!zd&&vu){zd=!0;do for(var a=!1,c=gu;c!==null;){if(e!==0){var g=c.pendingLanes;if(g===0)var S=0;else{var N=c.suspendedLanes,M=c.pingedLanes;S=(1<<31-Qt(42|e)+1)-1,S&=g&~(N&~M),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(a=!0,gp(c,S))}else S=qe,S=Os(c,c===ct?S:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(S&3)===0||jo(c,S)||(a=!0,gp(c,S));c=c.next}while(a);zd=!1}}function s_(){hp()}function hp(){vu=Ud=!1;var e=0;Io!==0&&g_()&&(e=Io);for(var i=Xt(),a=null,c=gu;c!==null;){var g=c.next,S=mp(c,i);S===0?(c.next=null,a===null?gu=g:a.next=g,g===null&&(Ta=a)):(a=c,(e!==0||(S&3)!==0)&&(vu=!0)),c=g}kt!==0&&kt!==5||Br(e),Io!==0&&(Io=0)}function mp(e,i){for(var a=e.suspendedLanes,c=e.pingedLanes,g=e.expirationTimes,S=e.pendingLanes&-62914561;0<S;){var N=31-Qt(S),M=1<<N,U=g[N];U===-1?((M&a)===0||(M&c)!==0)&&(g[N]=pc(M,i)):U<=i&&(e.expiredLanes|=M),S&=~M}if(i=ct,a=qe,a=Os(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c=e.callbackNode,a===0||e===i&&(tt===2||tt===9)||e.cancelPendingCommit!==null)return c!==null&&c!==null&&Vo(c),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||jo(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(c!==null&&Vo(c),_e(a)){case 2:case 8:a=Fa;break;case 32:a=qo;break;case 268435456:a=Za;break;default:a=qo}return c=pp.bind(null,e),a=Bs(a,c),e.callbackPriority=i,e.callbackNode=a,i}return c!==null&&c!==null&&Vo(c),e.callbackPriority=2,e.callbackNode=null,2}function pp(e,i){if(kt!==0&&kt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(pu()&&e.callbackNode!==a)return null;var c=qe;return c=Os(e,e===ct?c:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c===0?null:(Xm(e,c,i),mp(e,Xt()),e.callbackNode!=null&&e.callbackNode===a?pp.bind(null,e):null)}function gp(e,i){if(pu())return null;Xm(e,i,!0)}function a_(){y_(function(){(We&6)!==0?Bs(Hs,s_):hp()})}function Bd(){if(Io===0){var e=ra;e===0&&(e=Zo,Zo<<=1,(Zo&261888)===0&&(Zo=256)),Io=e}return Io}function vp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:so(""+e)}function yp(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function r_(e,i,a,c,g){if(i==="submit"&&a&&a.stateNode===g){var S=vp((g[Ut]||null).action),N=c.submitter;N&&(i=(i=N[Ut]||null)?vp(i.formAction):N.getAttribute("formAction"),i!==null&&(S=i,N=null));var M=new Zs("action","action",null,c,g);e.push({event:M,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Io!==0){var U=N?yp(g,N):new FormData(g);od(a,{pending:!0,data:U,method:g.method,action:S},null,U)}}else typeof S=="function"&&(M.preventDefault(),U=N?yp(g,N):new FormData(g),od(a,{pending:!0,data:U,method:g.method,action:S},S,U))},currentTarget:g}]})}}for(var Hd=0;Hd<di.length;Hd++){var Od=di[Hd],l_=Od.toLowerCase(),u_=Od[0].toUpperCase()+Od.slice(1);ln(l_,"on"+u_)}ln(hs,"onAnimationEnd"),ln(kl,"onAnimationIteration"),ln(ms,"onAnimationStart"),ln("dblclick","onDoubleClick"),ln("focusin","onFocus"),ln("focusout","onBlur"),ln(Mc,"onTransitionRun"),ln(Ul,"onTransitionStart"),ln(Rc,"onTransitionCancel"),ln(vo,"onTransitionEnd"),oi("onMouseEnter",["mouseout","mouseover"]),oi("onMouseLeave",["mouseout","mouseover"]),oi("onPointerEnter",["pointerout","pointerover"]),oi("onPointerLeave",["pointerout","pointerover"]),wi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wi("onBeforeInput",["compositionend","keypress","textInput","paste"]),wi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),c_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Hr));function _p(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var c=e[a],g=c.event;c=c.listeners;e:{var S=void 0;if(i)for(var N=c.length-1;0<=N;N--){var M=c[N],U=M.instance,Z=M.currentTarget;if(M=M.listener,U!==S&&g.isPropagationStopped())break e;S=M,g.currentTarget=Z;try{S(g)}catch($){ps($)}g.currentTarget=null,S=U}else for(N=0;N<c.length;N++){if(M=c[N],U=M.instance,Z=M.currentTarget,M=M.listener,U!==S&&g.isPropagationStopped())break e;S=M,g.currentTarget=Z;try{S(g)}catch($){ps($)}g.currentTarget=null,S=U}}}}function Ge(e,i){var a=i[ni];a===void 0&&(a=i[ni]=new Set);var c=e+"__bubble";a.has(c)||(xp(i,e,2,!1),a.add(c))}function Gd(e,i,a){var c=0;i&&(c|=4),xp(a,e,c,i)}var yu="_reactListening"+Math.random().toString(36).slice(2);function Vd(e){if(!e[yu]){e[yu]=!0,pl.forEach(function(a){a!=="selectionchange"&&(c_.has(a)||Gd(a,!1,e),Gd(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[yu]||(i[yu]=!0,Gd("selectionchange",!1,i))}}function xp(e,i,a,c){switch(Kp(i)){case 2:var g=B_;break;case 8:g=H_;break;default:g=of}a=g.bind(null,i,a,e),g=void 0,!ts||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(g=!0),c?g!==void 0?e.addEventListener(i,a,{capture:!0,passive:g}):e.addEventListener(i,a,!0):g!==void 0?e.addEventListener(i,a,{passive:g}):e.addEventListener(i,a,!1)}function qd(e,i,a,c,g){var S=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var N=c.tag;if(N===3||N===4){var M=c.stateNode.containerInfo;if(M===g)break;if(N===4)for(N=c.return;N!==null;){var U=N.tag;if((U===3||U===4)&&N.stateNode.containerInfo===g)return;N=N.return}for(;M!==null;){if(N=Ci(M),N===null)return;if(U=N.tag,U===5||U===6||U===26||U===27){c=S=N;continue e}M=M.parentNode}}c=c.return}nr(function(){var Z=S,$=es(a),ne=[];e:{var J=zl.get(e);if(J!==void 0){var K=Zs,ve=e;switch(e){case"keypress":if(ns(a)===0)break e;case"keydown":case"keyup":K=El;break;case"focusin":ve="focus",K=sr;break;case"focusout":ve="blur",K=sr;break;case"beforeblur":case"afterblur":K=sr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=yl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=yc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=Ec;break;case hs:case kl:case ms:K=ar;break;case vo:K=wl;break;case"scroll":case"scrollend":K=Ve;break;case"wheel":K=Ri;break;case"copy":case"cut":case"paste":K=An;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=bl;break;case"toggle":case"beforetoggle":K=ss}var Ce=(i&4)!==0,at=!Ce&&(e==="scroll"||e==="scrollend"),V=Ce?J!==null?J+"Capture":null:J;Ce=[];for(var G=Z,F;G!==null;){var W=G;if(F=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||F===null||V===null||(W=Ai(G,V),W!=null&&Ce.push(Or(G,W,F))),at)break;G=G.return}0<Ce.length&&(J=new K(J,ve,null,a,$),ne.push({event:J,listeners:Ce}))}}if((i&7)===0){e:{if(J=e==="mouseover"||e==="pointerover",K=e==="mouseout"||e==="pointerout",J&&a!==Fs&&(ve=a.relatedTarget||a.fromElement)&&(Ci(ve)||ve[bi]))break e;if((K||J)&&(J=$.window===$?$:(J=$.ownerDocument)?J.defaultView||J.parentWindow:window,K?(ve=a.relatedTarget||a.toElement,K=Z,ve=ve?Ci(ve):null,ve!==null&&(at=f(ve),Ce=ve.tag,ve!==at||Ce!==5&&Ce!==27&&Ce!==6)&&(ve=null)):(K=null,ve=Z),K!==ve)){if(Ce=yl,W="onMouseLeave",V="onMouseEnter",G="mouse",(e==="pointerout"||e==="pointerover")&&(Ce=bl,W="onPointerLeave",V="onPointerEnter",G="pointer"),at=K==null?J:ii(K),F=ve==null?J:ii(ve),J=new Ce(W,G+"leave",K,a,$),J.target=at,J.relatedTarget=F,W=null,Ci($)===Z&&(Ce=new Ce(V,G+"enter",ve,a,$),Ce.target=F,Ce.relatedTarget=at,W=Ce),at=W,K&&ve)t:{for(Ce=d_,V=K,G=ve,F=0,W=V;W;W=Ce(W))F++;W=0;for(var Te=G;Te;Te=Ce(Te))W++;for(;0<F-W;)V=Ce(V),F--;for(;0<W-F;)G=Ce(G),W--;for(;F--;){if(V===G||G!==null&&V===G.alternate){Ce=V;break t}V=Ce(V),G=Ce(G)}Ce=null}else Ce=null;K!==null&&Sp(ne,J,K,Ce,!1),ve!==null&&at!==null&&Sp(ne,at,ve,Ce,!0)}}e:{if(J=Z?ii(Z):window,K=J.nodeName&&J.nodeName.toLowerCase(),K==="select"||K==="input"&&J.type==="file")var Je=us;else if(Mn(J))if(Rl)Je=Ac;else{Je=Nc;var ye=Zn}else K=J.nodeName,!K||K.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?Z&&Wo(Z.elementType)&&(Je=us):Je=ho;if(Je&&(Je=Je(e,Z))){Ml(ne,Je,a,$);break e}ye&&ye(e,J,Z),e==="focusout"&&Z&&J.type==="number"&&Z.memoizedProps.value!=null&&Vn(J,"number",J.value)}switch(ye=Z?ii(Z):window,e){case"focusin":(Mn(ye)||ye.contentEditable==="true")&&(ui=ye,ea=Z,fs=null);break;case"focusout":fs=ea=ui=null;break;case"mousedown":po=!0;break;case"contextmenu":case"mouseup":case"dragend":po=!1,Dl(ne,a,$);break;case"selectionchange":if(Ws)break;case"keydown":case"keyup":Dl(ne,a,$)}var Pe;if(Js)e:{switch(e){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else uo?Al(e,a)&&(Fe="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Fe="onCompositionStart");Fe&&(js&&a.locale!=="ko"&&(uo||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&uo&&(Pe=ai()):(Nn=$,Mi="value"in Nn?Nn.value:Nn.textContent,uo=!0)),ye=_u(Z,Fe),0<ye.length&&(Fe=new rr(Fe,e,null,a,$),ne.push({event:Fe,listeners:ye}),Pe?Fe.data=Pe:(Pe=dr(a),Pe!==null&&(Fe.data=Pe)))),(Pe=Cc?xn(e,a):co(e,a))&&(Fe=_u(Z,"onBeforeInput"),0<Fe.length&&(ye=new rr("onBeforeInput","beforeinput",null,a,$),ne.push({event:ye,listeners:Fe}),ye.data=Pe)),r_(ne,e,Z,a,$)}_p(ne,i)})}function Or(e,i,a){return{instance:e,listener:i,currentTarget:a}}function _u(e,i){for(var a=i+"Capture",c=[];e!==null;){var g=e,S=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||S===null||(g=Ai(e,a),g!=null&&c.unshift(Or(e,g,S)),g=Ai(e,i),g!=null&&c.push(Or(e,g,S))),e.tag===3)return c;e=e.return}return[]}function d_(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Sp(e,i,a,c,g){for(var S=i._reactName,N=[];a!==null&&a!==c;){var M=a,U=M.alternate,Z=M.stateNode;if(M=M.tag,U!==null&&U===c)break;M!==5&&M!==26&&M!==27||Z===null||(U=Z,g?(Z=Ai(a,S),Z!=null&&N.unshift(Or(a,Z,U))):g||(Z=Ai(a,S),Z!=null&&N.push(Or(a,Z,U)))),a=a.return}N.length!==0&&e.push({event:i,listeners:N})}var f_=/\r\n?/g,h_=/\u0000|\uFFFD/g;function Tp(e){return(typeof e=="string"?e:""+e).replace(f_,`
`).replace(h_,"")}function Ep(e,i){return i=Tp(i),Tp(e)===i}function st(e,i,a,c,g,S){switch(a){case"children":typeof c=="string"?i==="body"||i==="textarea"&&c===""||wn(e,c):(typeof c=="number"||typeof c=="bigint")&&i!=="body"&&wn(e,""+c);break;case"className":it(e,"class",c);break;case"tabIndex":it(e,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":it(e,a,c);break;case"style":Vs(e,c,S);break;case"data":if(i!=="object"){it(e,"data",c);break}case"src":case"href":if(c===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(a);break}c=so(""+c),e.setAttribute(a,c);break;case"action":case"formAction":if(typeof c=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(a==="formAction"?(i!=="input"&&st(e,i,"name",g.name,g,null),st(e,i,"formEncType",g.formEncType,g,null),st(e,i,"formMethod",g.formMethod,g,null),st(e,i,"formTarget",g.formTarget,g,null)):(st(e,i,"encType",g.encType,g,null),st(e,i,"method",g.method,g,null),st(e,i,"target",g.target,g,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(a);break}c=so(""+c),e.setAttribute(a,c);break;case"onClick":c!=null&&(e.onclick=an);break;case"onScroll":c!=null&&Ge("scroll",e);break;case"onScrollEnd":c!=null&&Ge("scrollend",e);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(a=c.__html,a!=null){if(g.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":e.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){e.removeAttribute("xlink:href");break}a=so(""+c),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(a,""+c):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":c===!0?e.setAttribute(a,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(a,c):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?e.setAttribute(a,c):e.removeAttribute(a);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?e.removeAttribute(a):e.setAttribute(a,c);break;case"popover":Ge("beforetoggle",e),Ge("toggle",e),Be(e,"popover",c);break;case"xlinkActuate":sn(e,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":sn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":sn(e,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":sn(e,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":sn(e,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":sn(e,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":sn(e,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":sn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":sn(e,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Be(e,"is",c);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=qs.get(a)||a,Be(e,a,c))}}function Fd(e,i,a,c,g,S){switch(a){case"style":Vs(e,c,S);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(a=c.__html,a!=null){if(g.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof c=="string"?wn(e,c):(typeof c=="number"||typeof c=="bigint")&&wn(e,""+c);break;case"onScroll":c!=null&&Ge("scroll",e);break;case"onScrollEnd":c!=null&&Ge("scrollend",e);break;case"onClick":c!=null&&(e.onclick=an);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!gl.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(g=a.endsWith("Capture"),i=a.slice(2,g?a.length-7:void 0),S=e[Ut]||null,S=S!=null?S[a]:null,typeof S=="function"&&e.removeEventListener(i,S,g),typeof c=="function")){typeof S!="function"&&S!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,c,g);break e}a in e?e[a]=c:c===!0?e.setAttribute(a,""):Be(e,a,c)}}}function Zt(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ge("error",e),Ge("load",e);var c=!1,g=!1,S;for(S in a)if(a.hasOwnProperty(S)){var N=a[S];if(N!=null)switch(S){case"src":c=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:st(e,i,S,N,a,null)}}g&&st(e,i,"srcSet",a.srcSet,a,null),c&&st(e,i,"src",a.src,a,null);return;case"input":Ge("invalid",e);var M=S=N=g=null,U=null,Z=null;for(c in a)if(a.hasOwnProperty(c)){var $=a[c];if($!=null)switch(c){case"name":g=$;break;case"type":N=$;break;case"checked":U=$;break;case"defaultChecked":Z=$;break;case"value":S=$;break;case"defaultValue":M=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(r(137,i));break;default:st(e,i,c,$,a,null)}}$o(e,S,M,U,Z,N,g,!1);return;case"select":Ge("invalid",e),c=N=S=null;for(g in a)if(a.hasOwnProperty(g)&&(M=a[g],M!=null))switch(g){case"value":S=M;break;case"defaultValue":N=M;break;case"multiple":c=M;default:st(e,i,g,M,a,null)}i=S,a=N,e.multiple=!!c,i!=null?ut(e,!!c,i,!1):a!=null&&ut(e,!!c,a,!0);return;case"textarea":Ge("invalid",e),S=g=c=null;for(N in a)if(a.hasOwnProperty(N)&&(M=a[N],M!=null))switch(N){case"value":c=M;break;case"defaultValue":g=M;break;case"children":S=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(r(91));break;default:st(e,i,N,M,a,null)}io(e,c,g,S);return;case"option":for(U in a)if(a.hasOwnProperty(U)&&(c=a[U],c!=null))switch(U){case"selected":e.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:st(e,i,U,c,a,null)}return;case"dialog":Ge("beforetoggle",e),Ge("toggle",e),Ge("cancel",e),Ge("close",e);break;case"iframe":case"object":Ge("load",e);break;case"video":case"audio":for(c=0;c<Hr.length;c++)Ge(Hr[c],e);break;case"image":Ge("error",e),Ge("load",e);break;case"details":Ge("toggle",e);break;case"embed":case"source":case"link":Ge("error",e),Ge("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in a)if(a.hasOwnProperty(Z)&&(c=a[Z],c!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:st(e,i,Z,c,a,null)}return;default:if(Wo(i)){for($ in a)a.hasOwnProperty($)&&(c=a[$],c!==void 0&&Fd(e,i,$,c,a,void 0));return}}for(M in a)a.hasOwnProperty(M)&&(c=a[M],c!=null&&st(e,i,M,c,a,null))}function m_(e,i,a,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,S=null,N=null,M=null,U=null,Z=null,$=null;for(K in a){var ne=a[K];if(a.hasOwnProperty(K)&&ne!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":U=ne;default:c.hasOwnProperty(K)||st(e,i,K,null,c,ne)}}for(var J in c){var K=c[J];if(ne=a[J],c.hasOwnProperty(J)&&(K!=null||ne!=null))switch(J){case"type":S=K;break;case"name":g=K;break;case"checked":Z=K;break;case"defaultChecked":$=K;break;case"value":N=K;break;case"defaultValue":M=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,i));break;default:K!==ne&&st(e,i,J,K,c,ne)}}Wa(e,N,M,U,Z,$,S,g);return;case"select":K=N=M=J=null;for(S in a)if(U=a[S],a.hasOwnProperty(S)&&U!=null)switch(S){case"value":break;case"multiple":K=U;default:c.hasOwnProperty(S)||st(e,i,S,null,c,U)}for(g in c)if(S=c[g],U=a[g],c.hasOwnProperty(g)&&(S!=null||U!=null))switch(g){case"value":J=S;break;case"defaultValue":M=S;break;case"multiple":N=S;default:S!==U&&st(e,i,g,S,c,U)}i=M,a=N,c=K,J!=null?ut(e,!!a,J,!1):!!c!=!!a&&(i!=null?ut(e,!!a,i,!0):ut(e,!!a,a?[]:"",!1));return;case"textarea":K=J=null;for(M in a)if(g=a[M],a.hasOwnProperty(M)&&g!=null&&!c.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:st(e,i,M,null,c,g)}for(N in c)if(g=c[N],S=a[N],c.hasOwnProperty(N)&&(g!=null||S!=null))switch(N){case"value":J=g;break;case"defaultValue":K=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:g!==S&&st(e,i,N,g,c,S)}si(e,J,K);return;case"option":for(var ve in a)if(J=a[ve],a.hasOwnProperty(ve)&&J!=null&&!c.hasOwnProperty(ve))switch(ve){case"selected":e.selected=!1;break;default:st(e,i,ve,null,c,J)}for(U in c)if(J=c[U],K=a[U],c.hasOwnProperty(U)&&J!==K&&(J!=null||K!=null))switch(U){case"selected":e.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:st(e,i,U,J,c,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ce in a)J=a[Ce],a.hasOwnProperty(Ce)&&J!=null&&!c.hasOwnProperty(Ce)&&st(e,i,Ce,null,c,J);for(Z in c)if(J=c[Z],K=a[Z],c.hasOwnProperty(Z)&&J!==K&&(J!=null||K!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,i));break;default:st(e,i,Z,J,c,K)}return;default:if(Wo(i)){for(var at in a)J=a[at],a.hasOwnProperty(at)&&J!==void 0&&!c.hasOwnProperty(at)&&Fd(e,i,at,void 0,c,J);for($ in c)J=c[$],K=a[$],!c.hasOwnProperty($)||J===K||J===void 0&&K===void 0||Fd(e,i,$,J,c,K);return}}for(var V in a)J=a[V],a.hasOwnProperty(V)&&J!=null&&!c.hasOwnProperty(V)&&st(e,i,V,null,c,J);for(ne in c)J=c[ne],K=a[ne],!c.hasOwnProperty(ne)||J===K||J==null&&K==null||st(e,i,ne,J,c,K)}function bp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function p_(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,a=performance.getEntriesByType("resource"),c=0;c<a.length;c++){var g=a[c],S=g.transferSize,N=g.initiatorType,M=g.duration;if(S&&M&&bp(N)){for(N=0,M=g.responseEnd,c+=1;c<a.length;c++){var U=a[c],Z=U.startTime;if(Z>M)break;var $=U.transferSize,ne=U.initiatorType;$&&bp(ne)&&(U=U.responseEnd,N+=$*(U<M?1:(M-Z)/(U-Z)))}if(--c,i+=8*(S+N)/(g.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Zd=null,Yd=null;function xu(e){return e.nodeType===9?e:e.ownerDocument}function Cp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function wp(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Jd(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var jd=null;function g_(){var e=window.event;return e&&e.type==="popstate"?e===jd?!1:(jd=e,!0):(jd=null,!1)}var Np=typeof setTimeout=="function"?setTimeout:void 0,v_=typeof clearTimeout=="function"?clearTimeout:void 0,Ap=typeof Promise=="function"?Promise:void 0,y_=typeof queueMicrotask=="function"?queueMicrotask:typeof Ap<"u"?function(e){return Ap.resolve(null).then(e).catch(__)}:Np;function __(e){setTimeout(function(){throw e})}function Lo(e){return e==="head"}function Mp(e,i){var a=i,c=0;do{var g=a.nextSibling;if(e.removeChild(a),g&&g.nodeType===8)if(a=g.data,a==="/$"||a==="/&"){if(c===0){e.removeChild(g),wa(i);return}c--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")c++;else if(a==="html")Gr(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Gr(a);for(var S=a.firstChild;S;){var N=S.nextSibling,M=S.nodeName;S[Ko]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&S.rel.toLowerCase()==="stylesheet"||a.removeChild(S),S=N}}else a==="body"&&Gr(e.ownerDocument.body);a=g}while(a);wa(i)}function Rp(e,i){var a=e;e=0;do{var c=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),c&&c.nodeType===8)if(a=c.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=c}while(a)}function Kd(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Kd(a),Ka(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function x_(e,i,a,c){for(;e.nodeType===1;){var g=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!c&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(c){if(!e[Ko])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(S=e.getAttribute("rel"),S==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(S!==g.rel||e.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||e.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||e.getAttribute("title")!==(g.title==null?null:g.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(S=e.getAttribute("src"),(S!==(g.src==null?null:g.src)||e.getAttribute("type")!==(g.type==null?null:g.type)||e.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&S&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var S=g.name==null?null:""+g.name;if(g.type==="hidden"&&e.getAttribute("name")===S)return e}else return e;if(e=kn(e.nextSibling),e===null)break}return null}function S_(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=kn(e.nextSibling),e===null))return null;return e}function Ip(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=kn(e.nextSibling),e===null))return null;return e}function Xd(e){return e.data==="$?"||e.data==="$~"}function Qd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function T_(e,i){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||a.readyState!=="loading")i();else{var c=function(){i(),a.removeEventListener("DOMContentLoaded",c)};a.addEventListener("DOMContentLoaded",c),e._reactRetry=c}}function kn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var $d=null;function Lp(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(i===0)return kn(e.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}e=e.nextSibling}return null}function Dp(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return e;i--}else a!=="/$"&&a!=="/&"||i++}e=e.previousSibling}return null}function Pp(e,i,a){switch(i=xu(a),e){case"html":if(e=i.documentElement,!e)throw Error(r(452));return e;case"head":if(e=i.head,!e)throw Error(r(453));return e;case"body":if(e=i.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Gr(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Ka(e)}var Un=new Map,kp=new Set;function Su(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Zi=ae.d;ae.d={f:E_,r:b_,D:C_,C:w_,L:N_,m:A_,X:R_,S:M_,M:I_};function E_(){var e=Zi.f(),i=fu();return e||i}function b_(e){var i=eo(e);i!==null&&i.tag===5&&i.type==="form"?$h(i):Zi.r(e)}var Ea=typeof document>"u"?null:document;function Up(e,i,a){var c=Ea;if(c&&typeof i=="string"&&i){var g=dt(i);g='link[rel="'+e+'"][href="'+g+'"]',typeof a=="string"&&(g+='[crossorigin="'+a+'"]'),kp.has(g)||(kp.add(g),e={rel:e,crossOrigin:a,href:i},c.querySelector(g)===null&&(i=c.createElement("link"),Zt(i,"link",e),At(i),c.head.appendChild(i)))}}function C_(e){Zi.D(e),Up("dns-prefetch",e,null)}function w_(e,i){Zi.C(e,i),Up("preconnect",e,i)}function N_(e,i,a){Zi.L(e,i,a);var c=Ea;if(c&&e&&i){var g='link[rel="preload"][as="'+dt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(g+='[imagesrcset="'+dt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(g+='[imagesizes="'+dt(a.imageSizes)+'"]')):g+='[href="'+dt(e)+'"]';var S=g;switch(i){case"style":S=ba(e);break;case"script":S=Ca(e)}Un.has(S)||(e=b({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Un.set(S,e),c.querySelector(g)!==null||i==="style"&&c.querySelector(Vr(S))||i==="script"&&c.querySelector(qr(S))||(i=c.createElement("link"),Zt(i,"link",e),At(i),c.head.appendChild(i)))}}function A_(e,i){Zi.m(e,i);var a=Ea;if(a&&e){var c=i&&typeof i.as=="string"?i.as:"script",g='link[rel="modulepreload"][as="'+dt(c)+'"][href="'+dt(e)+'"]',S=g;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=Ca(e)}if(!Un.has(S)&&(e=b({rel:"modulepreload",href:e},i),Un.set(S,e),a.querySelector(g)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(qr(S)))return}c=a.createElement("link"),Zt(c,"link",e),At(c),a.head.appendChild(c)}}}function M_(e,i,a){Zi.S(e,i,a);var c=Ea;if(c&&e){var g=to(c).hoistableStyles,S=ba(e);i=i||"default";var N=g.get(S);if(!N){var M={loading:0,preload:null};if(N=c.querySelector(Vr(S)))M.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Un.get(S))&&Wd(e,a);var U=N=c.createElement("link");At(U),Zt(U,"link",e),U._p=new Promise(function(Z,$){U.onload=Z,U.onerror=$}),U.addEventListener("load",function(){M.loading|=1}),U.addEventListener("error",function(){M.loading|=2}),M.loading|=4,Tu(N,i,c)}N={type:"stylesheet",instance:N,count:1,state:M},g.set(S,N)}}}function R_(e,i){Zi.X(e,i);var a=Ea;if(a&&e){var c=to(a).hoistableScripts,g=Ca(e),S=c.get(g);S||(S=a.querySelector(qr(g)),S||(e=b({src:e,async:!0},i),(i=Un.get(g))&&ef(e,i),S=a.createElement("script"),At(S),Zt(S,"link",e),a.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},c.set(g,S))}}function I_(e,i){Zi.M(e,i);var a=Ea;if(a&&e){var c=to(a).hoistableScripts,g=Ca(e),S=c.get(g);S||(S=a.querySelector(qr(g)),S||(e=b({src:e,async:!0,type:"module"},i),(i=Un.get(g))&&ef(e,i),S=a.createElement("script"),At(S),Zt(S,"link",e),a.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},c.set(g,S))}}function zp(e,i,a,c){var g=(g=me.current)?Su(g):null;if(!g)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=ba(a.href),a=to(g).hoistableStyles,c=a.get(i),c||(c={type:"style",instance:null,count:0,state:null},a.set(i,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=ba(a.href);var S=to(g).hoistableStyles,N=S.get(e);if(N||(g=g.ownerDocument||g,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(e,N),(S=g.querySelector(Vr(e)))&&!S._p&&(N.instance=S,N.state.loading=5),Un.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Un.set(e,a),S||L_(g,e,a,N.state))),i&&c===null)throw Error(r(528,""));return N}if(i&&c!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ca(a),a=to(g).hoistableScripts,c=a.get(i),c||(c={type:"script",instance:null,count:0,state:null},a.set(i,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function ba(e){return'href="'+dt(e)+'"'}function Vr(e){return'link[rel="stylesheet"]['+e+"]"}function Bp(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function L_(e,i,a,c){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=e.createElement("link"),c.preload=i,i.addEventListener("load",function(){return c.loading|=1}),i.addEventListener("error",function(){return c.loading|=2}),Zt(i,"link",a),At(i),e.head.appendChild(i))}function Ca(e){return'[src="'+dt(e)+'"]'}function qr(e){return"script[async]"+e}function Hp(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var c=e.querySelector('style[data-href~="'+dt(a.href)+'"]');if(c)return i.instance=c,At(c),c;var g=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return c=(e.ownerDocument||e).createElement("style"),At(c),Zt(c,"style",g),Tu(c,a.precedence,e),i.instance=c;case"stylesheet":g=ba(a.href);var S=e.querySelector(Vr(g));if(S)return i.state.loading|=4,i.instance=S,At(S),S;c=Bp(a),(g=Un.get(g))&&Wd(c,g),S=(e.ownerDocument||e).createElement("link"),At(S);var N=S;return N._p=new Promise(function(M,U){N.onload=M,N.onerror=U}),Zt(S,"link",c),i.state.loading|=4,Tu(S,a.precedence,e),i.instance=S;case"script":return S=Ca(a.src),(g=e.querySelector(qr(S)))?(i.instance=g,At(g),g):(c=a,(g=Un.get(S))&&(c=b({},a),ef(c,g)),e=e.ownerDocument||e,g=e.createElement("script"),At(g),Zt(g,"link",c),e.head.appendChild(g),i.instance=g);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(c=i.instance,i.state.loading|=4,Tu(c,a.precedence,e));return i.instance}function Tu(e,i,a){for(var c=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=c.length?c[c.length-1]:null,S=g,N=0;N<c.length;N++){var M=c[N];if(M.dataset.precedence===i)S=M;else if(S!==g)break}S?S.parentNode.insertBefore(e,S.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function Wd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function ef(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Eu=null;function Op(e,i,a){if(Eu===null){var c=new Map,g=Eu=new Map;g.set(a,c)}else g=Eu,c=g.get(a),c||(c=new Map,g.set(a,c));if(c.has(e))return c;for(c.set(e,null),a=a.getElementsByTagName(e),g=0;g<a.length;g++){var S=a[g];if(!(S[Ko]||S[Nt]||e==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var N=S.getAttribute(i)||"";N=e+N;var M=c.get(N);M?M.push(S):c.set(N,[S])}}return c}function Gp(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function D_(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Vp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function P_(e,i,a,c){if(a.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var g=ba(c.href),S=i.querySelector(Vr(g));if(S){i=S._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=bu.bind(e),i.then(e,e)),a.state.loading|=4,a.instance=S,At(S);return}S=i.ownerDocument||i,c=Bp(c),(g=Un.get(g))&&Wd(c,g),S=S.createElement("link"),At(S);var N=S;N._p=new Promise(function(M,U){N.onload=M,N.onerror=U}),Zt(S,"link",c),a.instance=S}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=bu.bind(e),i.addEventListener("load",a),i.addEventListener("error",a))}}var tf=0;function k_(e,i){return e.stylesheets&&e.count===0&&wu(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var c=setTimeout(function(){if(e.stylesheets&&wu(e,e.stylesheets),e.unsuspend){var S=e.unsuspend;e.unsuspend=null,S()}},6e4+i);0<e.imgBytes&&tf===0&&(tf=62500*p_());var g=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&wu(e,e.stylesheets),e.unsuspend)){var S=e.unsuspend;e.unsuspend=null,S()}},(e.imgBytes>tf?50:800)+i);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(c),clearTimeout(g)}}:null}function bu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)wu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Cu=null;function wu(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Cu=new Map,i.forEach(U_,e),Cu=null,bu.call(e))}function U_(e,i){if(!(i.state.loading&4)){var a=Cu.get(e);if(a)var c=a.get(null);else{a=new Map,Cu.set(e,a);for(var g=e.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<g.length;S++){var N=g[S];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(a.set(N.dataset.precedence,N),c=N)}c&&a.set(null,c)}g=i.instance,N=g.getAttribute("data-precedence"),S=a.get(N)||c,S===c&&a.set(null,g),a.set(N,g),this.count++,c=bu.bind(this),g.addEventListener("load",c),g.addEventListener("error",c),S?S.parentNode.insertBefore(g,S.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(g,e.firstChild)),i.state.loading|=4}}var Fr={$$typeof:O,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function z_(e,i,a,c,g,S,N,M,U){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ya(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ya(0),this.hiddenUpdates=Ya(null),this.identifierPrefix=c,this.onUncaughtError=g,this.onCaughtError=S,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function qp(e,i,a,c,g,S,N,M,U,Z,$,ne){return e=new z_(e,i,a,N,U,Z,$,ne,M),i=1,S===!0&&(i|=24),S=Jt(3,null,null,i),e.current=S,S.stateNode=e,i=Pc(),i.refCount++,e.pooledCache=i,i.refCount++,S.memoizedState={element:c,isDehydrated:a,cache:i},Bc(S),e}function Fp(e){return e?(e=Ii,e):Ii}function Zp(e,i,a,c,g,S){g=Fp(g),c.context===null?c.context=g:c.pendingContext=g,c=So(i),c.payload={element:a},S=S===void 0?null:S,S!==null&&(c.callback=S),a=To(e,c,i),a!==null&&(pn(a,e,i),Tr(a,e,i))}function Yp(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function nf(e,i){Yp(e,i),(e=e.alternate)&&Yp(e,i)}function Jp(e){if(e.tag===13||e.tag===31){var i=Ln(e,67108864);i!==null&&pn(i,e,67108864),nf(e,67108864)}}function jp(e){if(e.tag===13||e.tag===31){var i=Cn();i=on(i);var a=Ln(e,i);a!==null&&pn(a,e,i),nf(e,i)}}var Nu=!0;function B_(e,i,a,c){var g=j.T;j.T=null;var S=ae.p;try{ae.p=2,of(e,i,a,c)}finally{ae.p=S,j.T=g}}function H_(e,i,a,c){var g=j.T;j.T=null;var S=ae.p;try{ae.p=8,of(e,i,a,c)}finally{ae.p=S,j.T=g}}function of(e,i,a,c){if(Nu){var g=sf(c);if(g===null)qd(e,i,c,Au,a),Xp(e,c);else if(G_(g,e,i,a,c))c.stopPropagation();else if(Xp(e,c),i&4&&-1<O_.indexOf(e)){for(;g!==null;){var S=eo(g);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var N=Ti(S.pendingLanes);if(N!==0){var M=S;for(M.pendingLanes|=2,M.entangledLanes|=2;N;){var U=1<<31-Qt(N);M.entanglements[1]|=U,N&=~U}vi(S),(We&6)===0&&(cu=Xt()+500,Br(0))}}break;case 31:case 13:M=Ln(S,2),M!==null&&pn(M,S,2),fu(),nf(S,2)}if(S=sf(c),S===null&&qd(e,i,c,Au,a),S===g)break;g=S}g!==null&&c.stopPropagation()}else qd(e,i,c,null,a)}}function sf(e){return e=es(e),af(e)}var Au=null;function af(e){if(Au=null,e=Ci(e),e!==null){var i=f(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=h(i),e!==null)return e;e=null}else if(a===31){if(e=_(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Au=e,null}function Kp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(cc()){case Hs:return 2;case Fa:return 8;case qo:case dc:return 32;case Za:return 268435456;default:return 32}default:return 32}}var rf=!1,Do=null,Po=null,ko=null,Zr=new Map,Yr=new Map,Uo=[],O_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Xp(e,i){switch(e){case"focusin":case"focusout":Do=null;break;case"dragenter":case"dragleave":Po=null;break;case"mouseover":case"mouseout":ko=null;break;case"pointerover":case"pointerout":Zr.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yr.delete(i.pointerId)}}function Jr(e,i,a,c,g,S){return e===null||e.nativeEvent!==S?(e={blockedOn:i,domEventName:a,eventSystemFlags:c,nativeEvent:S,targetContainers:[g]},i!==null&&(i=eo(i),i!==null&&Jp(i)),e):(e.eventSystemFlags|=c,i=e.targetContainers,g!==null&&i.indexOf(g)===-1&&i.push(g),e)}function G_(e,i,a,c,g){switch(i){case"focusin":return Do=Jr(Do,e,i,a,c,g),!0;case"dragenter":return Po=Jr(Po,e,i,a,c,g),!0;case"mouseover":return ko=Jr(ko,e,i,a,c,g),!0;case"pointerover":var S=g.pointerId;return Zr.set(S,Jr(Zr.get(S)||null,e,i,a,c,g)),!0;case"gotpointercapture":return S=g.pointerId,Yr.set(S,Jr(Yr.get(S)||null,e,i,a,c,g)),!0}return!1}function Qp(e){var i=Ci(e.target);if(i!==null){var a=f(i);if(a!==null){if(i=a.tag,i===13){if(i=h(a),i!==null){e.blockedOn=i,ja(e.priority,function(){jp(a)});return}}else if(i===31){if(i=_(a),i!==null){e.blockedOn=i,ja(e.priority,function(){jp(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Mu(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=sf(e.nativeEvent);if(a===null){a=e.nativeEvent;var c=new a.constructor(a.type,a);Fs=c,a.target.dispatchEvent(c),Fs=null}else return i=eo(a),i!==null&&Jp(i),e.blockedOn=a,!1;i.shift()}return!0}function $p(e,i,a){Mu(e)&&a.delete(i)}function V_(){rf=!1,Do!==null&&Mu(Do)&&(Do=null),Po!==null&&Mu(Po)&&(Po=null),ko!==null&&Mu(ko)&&(ko=null),Zr.forEach($p),Yr.forEach($p)}function Ru(e,i){e.blockedOn===i&&(e.blockedOn=null,rf||(rf=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,V_)))}var Iu=null;function Wp(e){Iu!==e&&(Iu=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Iu===e&&(Iu=null);for(var i=0;i<e.length;i+=3){var a=e[i],c=e[i+1],g=e[i+2];if(typeof c!="function"){if(af(c||a)===null)continue;break}var S=eo(a);S!==null&&(e.splice(i,3),i-=3,od(S,{pending:!0,data:g,method:a.method,action:c},c,g))}}))}function wa(e){function i(U){return Ru(U,e)}Do!==null&&Ru(Do,e),Po!==null&&Ru(Po,e),ko!==null&&Ru(ko,e),Zr.forEach(i),Yr.forEach(i);for(var a=0;a<Uo.length;a++){var c=Uo[a];c.blockedOn===e&&(c.blockedOn=null)}for(;0<Uo.length&&(a=Uo[0],a.blockedOn===null);)Qp(a),a.blockedOn===null&&Uo.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(c=0;c<a.length;c+=3){var g=a[c],S=a[c+1],N=g[Ut]||null;if(typeof S=="function")N||Wp(a);else if(N){var M=null;if(S&&S.hasAttribute("formAction")){if(g=S,N=S[Ut]||null)M=N.formAction;else if(af(g)!==null)continue}else M=N.action;typeof M=="function"?a[c+1]=M:(a.splice(c,3),c-=3),Wp(a)}}}function eg(){function e(S){S.canIntercept&&S.info==="react-transition"&&S.intercept({handler:function(){return new Promise(function(N){return g=N})},focusReset:"manual",scroll:"manual"})}function i(){g!==null&&(g(),g=null),c||setTimeout(a,20)}function a(){if(!c&&!navigation.transition){var S=navigation.currentEntry;S&&S.url!=null&&navigation.navigate(S.url,{state:S.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,g=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){c=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),g!==null&&(g(),g=null)}}}function lf(e){this._internalRoot=e}Lu.prototype.render=lf.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,c=Cn();Zp(a,c,e,i,null,null)},Lu.prototype.unmount=lf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;Zp(e.current,2,null,e,null,null),fu(),i[bi]=null}};function Lu(e){this._internalRoot=e}Lu.prototype.unstable_scheduleHydration=function(e){if(e){var i=Ja();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Uo.length&&i!==0&&i<Uo[a].priority;a++);Uo.splice(a,0,e),a===0&&Qp(e)}};var tg=t.version;if(tg!=="19.2.3")throw Error(r(527,tg,"19.2.3"));ae.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=y(i),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var q_={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Du=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Du.isDisabled&&Du.supportsFiber)try{Wi=Du.inject(q_),Gt=Du}catch{}}return Kr.createRoot=function(e,i){if(!l(e))throw Error(r(299));var a=!1,c="",g=lm,S=um,N=cm;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(g=i.onUncaughtError),i.onCaughtError!==void 0&&(S=i.onCaughtError),i.onRecoverableError!==void 0&&(N=i.onRecoverableError)),i=qp(e,1,!1,null,null,a,c,null,g,S,N,eg),e[bi]=i.current,Vd(e),new lf(i)},Kr.hydrateRoot=function(e,i,a){if(!l(e))throw Error(r(299));var c=!1,g="",S=lm,N=um,M=cm,U=null;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onUncaughtError!==void 0&&(S=a.onUncaughtError),a.onCaughtError!==void 0&&(N=a.onCaughtError),a.onRecoverableError!==void 0&&(M=a.onRecoverableError),a.formState!==void 0&&(U=a.formState)),i=qp(e,1,!0,i,a??null,c,g,U,S,N,M,eg),i.context=Fp(null),a=i.current,c=Cn(),c=on(c),g=So(c),g.callback=null,To(a,g,c),a=c,i.current.lanes=a,Ei(i,a),vi(i),e[bi]=i.current,Vd(e),new Lu(i)},Kr.version="19.2.3",Kr}var dg;function ex(){if(dg)return df.exports;dg=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),df.exports=W_(),df.exports}var tx=ex();const nx=ny(tx);/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var fg="popstate";function ix(n={}){function t(l,f){let{pathname:h="/",search:_="",hash:x=""}=Ds(l.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),xf("",{pathname:h,search:_,hash:x},f.state&&f.state.usr||null,f.state&&f.state.key||"default")}function o(l,f){let h=l.document.querySelector("base"),_="";if(h&&h.getAttribute("href")){let x=l.location.href,y=x.indexOf("#");_=y===-1?x:x.slice(0,y)}return _+"#"+(typeof f=="string"?f:el(f))}function r(l,f){gn(l.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(f)})`)}return sx(t,o,r,n)}function yt(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function gn(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function ox(){return Math.random().toString(36).substring(2,10)}function hg(n,t){return{usr:n.state,key:n.key,idx:t}}function xf(n,t,o=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?Ds(t):t,state:o,key:t&&t.key||r||ox()}}function el({pathname:n="/",search:t="",hash:o=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),o&&o!=="#"&&(n+=o.charAt(0)==="#"?o:"#"+o),n}function Ds(n){let t={};if(n){let o=n.indexOf("#");o>=0&&(t.hash=n.substring(o),n=n.substring(0,o));let r=n.indexOf("?");r>=0&&(t.search=n.substring(r),n=n.substring(0,r)),n&&(t.pathname=n)}return t}function sx(n,t,o,r={}){let{window:l=document.defaultView,v5Compat:f=!1}=r,h=l.history,_="POP",x=null,y=E();y==null&&(y=0,h.replaceState({...h.state,idx:y},""));function E(){return(h.state||{idx:null}).idx}function b(){_="POP";let I=E(),H=I==null?null:I-y;y=I,x&&x({action:_,location:D.location,delta:H})}function C(I,H){_="PUSH";let X=xf(D.location,I,H);o&&o(X,I),y=E()+1;let O=hg(X,y),ie=D.createHref(X);try{h.pushState(O,"",ie)}catch(le){if(le instanceof DOMException&&le.name==="DataCloneError")throw le;l.location.assign(ie)}f&&x&&x({action:_,location:D.location,delta:1})}function R(I,H){_="REPLACE";let X=xf(D.location,I,H);o&&o(X,I),y=E();let O=hg(X,y),ie=D.createHref(X);h.replaceState(O,"",ie),f&&x&&x({action:_,location:D.location,delta:0})}function k(I){return ax(I)}let D={get action(){return _},get location(){return n(l,h)},listen(I){if(x)throw new Error("A history only accepts one active listener");return l.addEventListener(fg,b),x=I,()=>{l.removeEventListener(fg,b),x=null}},createHref(I){return t(l,I)},createURL:k,encodeLocation(I){let H=k(I);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:C,replace:R,go(I){return h.go(I)}};return D}function ax(n,t=!1){let o="http://localhost";typeof window<"u"&&(o=window.location.origin!=="null"?window.location.origin:window.location.href),yt(o,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:el(n);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=o+r),new URL(r,o)}function iy(n,t,o="/"){return rx(n,t,o,!1)}function rx(n,t,o,r){let l=typeof t=="string"?Ds(t):t,f=ji(l.pathname||"/",o);if(f==null)return null;let h=oy(n);lx(h);let _=null;for(let x=0;_==null&&x<h.length;++x){let y=_x(f);_=vx(h[x],y,r)}return _}function oy(n,t=[],o=[],r="",l=!1){let f=(h,_,x=l,y)=>{let E={relativePath:y===void 0?h.path||"":y,caseSensitive:h.caseSensitive===!0,childrenIndex:_,route:h};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(r)&&x)return;yt(E.relativePath.startsWith(r),`Absolute route path "${E.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(r.length)}let b=Yi([r,E.relativePath]),C=o.concat(E);h.children&&h.children.length>0&&(yt(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),oy(h.children,t,C,b,x)),!(h.path==null&&!h.index)&&t.push({path:b,score:px(b,h.index),routesMeta:C})};return n.forEach((h,_)=>{var x;if(h.path===""||!((x=h.path)!=null&&x.includes("?")))f(h,_);else for(let y of sy(h.path))f(h,_,!0,y)}),t}function sy(n){let t=n.split("/");if(t.length===0)return[];let[o,...r]=t,l=o.endsWith("?"),f=o.replace(/\?$/,"");if(r.length===0)return l?[f,""]:[f];let h=sy(r.join("/")),_=[];return _.push(...h.map(x=>x===""?f:[f,x].join("/"))),l&&_.push(...h),_.map(x=>n.startsWith("/")&&x===""?"/":x)}function lx(n){n.sort((t,o)=>t.score!==o.score?o.score-t.score:gx(t.routesMeta.map(r=>r.childrenIndex),o.routesMeta.map(r=>r.childrenIndex)))}var ux=/^:[\w-]+$/,cx=3,dx=2,fx=1,hx=10,mx=-2,mg=n=>n==="*";function px(n,t){let o=n.split("/"),r=o.length;return o.some(mg)&&(r+=mx),t&&(r+=dx),o.filter(l=>!mg(l)).reduce((l,f)=>l+(ux.test(f)?cx:f===""?fx:hx),r)}function gx(n,t){return n.length===t.length&&n.slice(0,-1).every((r,l)=>r===t[l])?n[n.length-1]-t[t.length-1]:0}function vx(n,t,o=!1){let{routesMeta:r}=n,l={},f="/",h=[];for(let _=0;_<r.length;++_){let x=r[_],y=_===r.length-1,E=f==="/"?t:t.slice(f.length)||"/",b=Yu({path:x.relativePath,caseSensitive:x.caseSensitive,end:y},E),C=x.route;if(!b&&y&&o&&!r[r.length-1].route.index&&(b=Yu({path:x.relativePath,caseSensitive:x.caseSensitive,end:!1},E)),!b)return null;Object.assign(l,b.params),h.push({params:l,pathname:Yi([f,b.pathname]),pathnameBase:bx(Yi([f,b.pathnameBase])),route:C}),b.pathnameBase!=="/"&&(f=Yi([f,b.pathnameBase]))}return h}function Yu(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[o,r]=yx(n.path,n.caseSensitive,n.end),l=t.match(o);if(!l)return null;let f=l[0],h=f.replace(/(.)\/+$/,"$1"),_=l.slice(1);return{params:r.reduce((y,{paramName:E,isOptional:b},C)=>{if(E==="*"){let k=_[C]||"";h=f.slice(0,f.length-k.length).replace(/(.)\/+$/,"$1")}const R=_[C];return b&&!R?y[E]=void 0:y[E]=(R||"").replace(/%2F/g,"/"),y},{}),pathname:f,pathnameBase:h,pattern:n}}function yx(n,t=!1,o=!0){gn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],l="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,_,x)=>(r.push({paramName:_,isOptional:x!=null}),x?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),l+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):o?l+="\\/*$":n!==""&&n!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),r]}function _x(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return gn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function ji(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let o=t.endsWith("/")?t.length-1:t.length,r=n.charAt(o);return r&&r!=="/"?null:n.slice(o)||"/"}var xx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Sx=n=>xx.test(n);function Tx(n,t="/"){let{pathname:o,search:r="",hash:l=""}=typeof n=="string"?Ds(n):n,f;if(o)if(Sx(o))f=o;else{if(o.includes("//")){let h=o;o=o.replace(/\/\/+/g,"/"),gn(!1,`Pathnames cannot have embedded double slashes - normalizing ${h} -> ${o}`)}o.startsWith("/")?f=pg(o.substring(1),"/"):f=pg(o,t)}else f=t;return{pathname:f,search:Cx(r),hash:wx(l)}}function pg(n,t){let o=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(l=>{l===".."?o.length>1&&o.pop():l!=="."&&o.push(l)}),o.length>1?o.join("/"):"/"}function pf(n,t,o,r){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${o}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Ex(n){return n.filter((t,o)=>o===0||t.route.path&&t.route.path.length>0)}function Gf(n){let t=Ex(n);return t.map((o,r)=>r===t.length-1?o.pathname:o.pathnameBase)}function Vf(n,t,o,r=!1){let l;typeof n=="string"?l=Ds(n):(l={...n},yt(!l.pathname||!l.pathname.includes("?"),pf("?","pathname","search",l)),yt(!l.pathname||!l.pathname.includes("#"),pf("#","pathname","hash",l)),yt(!l.search||!l.search.includes("#"),pf("#","search","hash",l)));let f=n===""||l.pathname==="",h=f?"/":l.pathname,_;if(h==null)_=o;else{let b=t.length-1;if(!r&&h.startsWith("..")){let C=h.split("/");for(;C[0]==="..";)C.shift(),b-=1;l.pathname=C.join("/")}_=b>=0?t[b]:"/"}let x=Tx(l,_),y=h&&h!=="/"&&h.endsWith("/"),E=(f||h===".")&&o.endsWith("/");return!x.pathname.endsWith("/")&&(y||E)&&(x.pathname+="/"),x}var Yi=n=>n.join("/").replace(/\/\/+/g,"/"),bx=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Cx=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,wx=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function Nx(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function Ax(n){return n.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var ay=["POST","PUT","PATCH","DELETE"];new Set(ay);var Mx=["GET",...ay];new Set(Mx);var ka=z.createContext(null);ka.displayName="DataRouter";var Wu=z.createContext(null);Wu.displayName="DataRouterState";z.createContext(!1);var ry=z.createContext({isTransitioning:!1});ry.displayName="ViewTransition";var Rx=z.createContext(new Map);Rx.displayName="Fetchers";var Ix=z.createContext(null);Ix.displayName="Await";var Hn=z.createContext(null);Hn.displayName="Navigation";var ol=z.createContext(null);ol.displayName="Location";var ei=z.createContext({outlet:null,matches:[],isDataRoute:!1});ei.displayName="Route";var qf=z.createContext(null);qf.displayName="RouteError";function Lx(n,{relative:t}={}){yt(Ua(),"useHref() may be used only in the context of a <Router> component.");let{basename:o,navigator:r}=z.useContext(Hn),{hash:l,pathname:f,search:h}=sl(n,{relative:t}),_=f;return o!=="/"&&(_=f==="/"?o:Yi([o,f])),r.createHref({pathname:_,search:h,hash:l})}function Ua(){return z.useContext(ol)!=null}function yi(){return yt(Ua(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(ol).location}var ly="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function uy(n){z.useContext(Hn).static||z.useLayoutEffect(n)}function za(){let{isDataRoute:n}=z.useContext(ei);return n?Yx():Dx()}function Dx(){yt(Ua(),"useNavigate() may be used only in the context of a <Router> component.");let n=z.useContext(ka),{basename:t,navigator:o}=z.useContext(Hn),{matches:r}=z.useContext(ei),{pathname:l}=yi(),f=JSON.stringify(Gf(r)),h=z.useRef(!1);return uy(()=>{h.current=!0}),z.useCallback((x,y={})=>{if(gn(h.current,ly),!h.current)return;if(typeof x=="number"){o.go(x);return}let E=Vf(x,JSON.parse(f),l,y.relative==="path");n==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:Yi([t,E.pathname])),(y.replace?o.replace:o.push)(E,y.state,y)},[t,o,f,l,n])}z.createContext(null);function Px(){let{matches:n}=z.useContext(ei),t=n[n.length-1];return t?t.params:{}}function sl(n,{relative:t}={}){let{matches:o}=z.useContext(ei),{pathname:r}=yi(),l=JSON.stringify(Gf(o));return z.useMemo(()=>Vf(n,JSON.parse(l),r,t==="path"),[n,l,r,t])}function kx(n,t){return cy(n,t)}function cy(n,t,o,r,l){var X;yt(Ua(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:f}=z.useContext(Hn),{matches:h}=z.useContext(ei),_=h[h.length-1],x=_?_.params:{},y=_?_.pathname:"/",E=_?_.pathnameBase:"/",b=_&&_.route;{let O=b&&b.path||"";dy(y,!b||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let C=yi(),R;if(t){let O=typeof t=="string"?Ds(t):t;yt(E==="/"||((X=O.pathname)==null?void 0:X.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${O.pathname}" was given in the \`location\` prop.`),R=O}else R=C;let k=R.pathname||"/",D=k;if(E!=="/"){let O=E.replace(/^\//,"").split("/");D="/"+k.replace(/^\//,"").split("/").slice(O.length).join("/")}let I=iy(n,{pathname:D});gn(b||I!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),gn(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let H=Ox(I&&I.map(O=>Object.assign({},O,{params:Object.assign({},x,O.params),pathname:Yi([E,f.encodeLocation?f.encodeLocation(O.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?E:Yi([E,f.encodeLocation?f.encodeLocation(O.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathnameBase])})),h,o,r,l);return t&&H?z.createElement(ol.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},H):H}function Ux(){let n=Zx(),t=Nx(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),o=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:r},f={padding:"2px 4px",backgroundColor:r},h=null;return console.error("Error handled by React Router default ErrorBoundary:",n),h=z.createElement(z.Fragment,null,z.createElement("p",null," Hey developer "),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:f},"ErrorBoundary")," or"," ",z.createElement("code",{style:f},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},t),o?z.createElement("pre",{style:l},o):null,h)}var zx=z.createElement(Ux,null),Bx=class extends z.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){this.props.onError?this.props.onError(n,t):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?z.createElement(ei.Provider,{value:this.props.routeContext},z.createElement(qf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Hx({routeContext:n,match:t,children:o}){let r=z.useContext(ka);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),z.createElement(ei.Provider,{value:n},o)}function Ox(n,t=[],o=null,r=null,l=null){if(n==null){if(!o)return null;if(o.errors)n=o.matches;else if(t.length===0&&!o.initialized&&o.matches.length>0)n=o.matches;else return null}let f=n,h=o==null?void 0:o.errors;if(h!=null){let E=f.findIndex(b=>b.route.id&&(h==null?void 0:h[b.route.id])!==void 0);yt(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),f=f.slice(0,Math.min(f.length,E+1))}let _=!1,x=-1;if(o)for(let E=0;E<f.length;E++){let b=f[E];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(x=E),b.route.id){let{loaderData:C,errors:R}=o,k=b.route.loader&&!C.hasOwnProperty(b.route.id)&&(!R||R[b.route.id]===void 0);if(b.route.lazy||k){_=!0,x>=0?f=f.slice(0,x+1):f=[f[0]];break}}}let y=o&&r?(E,b)=>{var C,R;r(E,{location:o.location,params:((R=(C=o.matches)==null?void 0:C[0])==null?void 0:R.params)??{},unstable_pattern:Ax(o.matches),errorInfo:b})}:void 0;return f.reduceRight((E,b,C)=>{let R,k=!1,D=null,I=null;o&&(R=h&&b.route.id?h[b.route.id]:void 0,D=b.route.errorElement||zx,_&&(x<0&&C===0?(dy("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,I=null):x===C&&(k=!0,I=b.route.hydrateFallbackElement||null)));let H=t.concat(f.slice(0,C+1)),X=()=>{let O;return R?O=D:k?O=I:b.route.Component?O=z.createElement(b.route.Component,null):b.route.element?O=b.route.element:O=E,z.createElement(Hx,{match:b,routeContext:{outlet:E,matches:H,isDataRoute:o!=null},children:O})};return o&&(b.route.ErrorBoundary||b.route.errorElement||C===0)?z.createElement(Bx,{location:o.location,revalidation:o.revalidation,component:D,error:R,children:X(),routeContext:{outlet:null,matches:H,isDataRoute:!0},onError:y}):X()},null)}function Ff(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Gx(n){let t=z.useContext(ka);return yt(t,Ff(n)),t}function Vx(n){let t=z.useContext(Wu);return yt(t,Ff(n)),t}function qx(n){let t=z.useContext(ei);return yt(t,Ff(n)),t}function Zf(n){let t=qx(n),o=t.matches[t.matches.length-1];return yt(o.route.id,`${n} can only be used on routes that contain a unique "id"`),o.route.id}function Fx(){return Zf("useRouteId")}function Zx(){var r;let n=z.useContext(qf),t=Vx("useRouteError"),o=Zf("useRouteError");return n!==void 0?n:(r=t.errors)==null?void 0:r[o]}function Yx(){let{router:n}=Gx("useNavigate"),t=Zf("useNavigate"),o=z.useRef(!1);return uy(()=>{o.current=!0}),z.useCallback(async(l,f={})=>{gn(o.current,ly),o.current&&(typeof l=="number"?await n.navigate(l):await n.navigate(l,{fromRouteId:t,...f}))},[n,t])}var gg={};function dy(n,t,o){!t&&!gg[n]&&(gg[n]=!0,gn(!1,o))}z.memo(Jx);function Jx({routes:n,future:t,state:o,unstable_onError:r}){return cy(n,void 0,o,r,t)}function Pu({to:n,replace:t,state:o,relative:r}){yt(Ua(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=z.useContext(Hn);gn(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:f}=z.useContext(ei),{pathname:h}=yi(),_=za(),x=Vf(n,Gf(f),h,r==="path"),y=JSON.stringify(x);return z.useEffect(()=>{_(JSON.parse(y),{replace:t,state:o,relative:r})},[_,y,r,t,o]),null}function Qn(n){yt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function jx({basename:n="/",children:t=null,location:o,navigationType:r="POP",navigator:l,static:f=!1,unstable_useTransitions:h}){yt(!Ua(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let _=n.replace(/^\/*/,"/"),x=z.useMemo(()=>({basename:_,navigator:l,static:f,unstable_useTransitions:h,future:{}}),[_,l,f,h]);typeof o=="string"&&(o=Ds(o));let{pathname:y="/",search:E="",hash:b="",state:C=null,key:R="default"}=o,k=z.useMemo(()=>{let D=ji(y,_);return D==null?null:{location:{pathname:D,search:E,hash:b,state:C,key:R},navigationType:r}},[_,y,E,b,C,R,r]);return gn(k!=null,`<Router basename="${_}"> is not able to match the URL "${y}${E}${b}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:z.createElement(Hn.Provider,{value:x},z.createElement(ol.Provider,{children:t,value:k}))}function Kx({children:n,location:t}){return kx(Sf(n),t)}function Sf(n,t=[]){let o=[];return z.Children.forEach(n,(r,l)=>{if(!z.isValidElement(r))return;let f=[...t,l];if(r.type===z.Fragment){o.push.apply(o,Sf(r.props.children,f));return}yt(r.type===Qn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),yt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let h={id:r.props.id||f.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(h.children=Sf(r.props.children,f)),o.push(h)}),o}var Gu="get",Vu="application/x-www-form-urlencoded";function ec(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function Xx(n){return ec(n)&&n.tagName.toLowerCase()==="button"}function Qx(n){return ec(n)&&n.tagName.toLowerCase()==="form"}function $x(n){return ec(n)&&n.tagName.toLowerCase()==="input"}function Wx(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function eS(n,t){return n.button===0&&(!t||t==="_self")&&!Wx(n)}function Tf(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((t,o)=>{let r=n[o];return t.concat(Array.isArray(r)?r.map(l=>[o,l]):[[o,r]])},[]))}function tS(n,t){let o=Tf(n);return t&&t.forEach((r,l)=>{o.has(l)||t.getAll(l).forEach(f=>{o.append(l,f)})}),o}var ku=null;function nS(){if(ku===null)try{new FormData(document.createElement("form"),0),ku=!1}catch{ku=!0}return ku}var iS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function gf(n){return n!=null&&!iS.has(n)?(gn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Vu}"`),null):n}function oS(n,t){let o,r,l,f,h;if(Qx(n)){let _=n.getAttribute("action");r=_?ji(_,t):null,o=n.getAttribute("method")||Gu,l=gf(n.getAttribute("enctype"))||Vu,f=new FormData(n)}else if(Xx(n)||$x(n)&&(n.type==="submit"||n.type==="image")){let _=n.form;if(_==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let x=n.getAttribute("formaction")||_.getAttribute("action");if(r=x?ji(x,t):null,o=n.getAttribute("formmethod")||_.getAttribute("method")||Gu,l=gf(n.getAttribute("formenctype"))||gf(_.getAttribute("enctype"))||Vu,f=new FormData(_,n),!nS()){let{name:y,type:E,value:b}=n;if(E==="image"){let C=y?`${y}.`:"";f.append(`${C}x`,"0"),f.append(`${C}y`,"0")}else y&&f.append(y,b)}}else{if(ec(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');o=Gu,r=null,l=Vu,h=n}return f&&l==="text/plain"&&(h=f,f=void 0),{action:r,method:o.toLowerCase(),encType:l,formData:f,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Yf(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function sS(n,t,o){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${o}`:t&&ji(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${o}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${o}`,r}async function aS(n,t){if(n.id in t)return t[n.id];try{let o=await import(n.module);return t[n.id]=o,o}catch(o){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(o),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function rS(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function lS(n,t,o){let r=await Promise.all(n.map(async l=>{let f=t.routes[l.route.id];if(f){let h=await aS(f,o);return h.links?h.links():[]}return[]}));return fS(r.flat(1).filter(rS).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function vg(n,t,o,r,l,f){let h=(x,y)=>o[y]?x.route.id!==o[y].route.id:!0,_=(x,y)=>{var E;return o[y].pathname!==x.pathname||((E=o[y].route.path)==null?void 0:E.endsWith("*"))&&o[y].params["*"]!==x.params["*"]};return f==="assets"?t.filter((x,y)=>h(x,y)||_(x,y)):f==="data"?t.filter((x,y)=>{var b;let E=r.routes[x.route.id];if(!E||!E.hasLoader)return!1;if(h(x,y)||_(x,y))return!0;if(x.route.shouldRevalidate){let C=x.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((b=o[0])==null?void 0:b.params)||{},nextUrl:new URL(n,window.origin),nextParams:x.params,defaultShouldRevalidate:!0});if(typeof C=="boolean")return C}return!0}):[]}function uS(n,t,{includeHydrateFallback:o}={}){return cS(n.map(r=>{let l=t.routes[r.route.id];if(!l)return[];let f=[l.module];return l.clientActionModule&&(f=f.concat(l.clientActionModule)),l.clientLoaderModule&&(f=f.concat(l.clientLoaderModule)),o&&l.hydrateFallbackModule&&(f=f.concat(l.hydrateFallbackModule)),l.imports&&(f=f.concat(l.imports)),f}).flat(1))}function cS(n){return[...new Set(n)]}function dS(n){let t={},o=Object.keys(n).sort();for(let r of o)t[r]=n[r];return t}function fS(n,t){let o=new Set;return new Set(t),n.reduce((r,l)=>{let f=JSON.stringify(dS(l));return o.has(f)||(o.add(f),r.push({key:f,link:l})),r},[])}function fy(){let n=z.useContext(ka);return Yf(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function hS(){let n=z.useContext(Wu);return Yf(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Jf=z.createContext(void 0);Jf.displayName="FrameworkContext";function hy(){let n=z.useContext(Jf);return Yf(n,"You must render this element inside a <HydratedRouter> element"),n}function mS(n,t){let o=z.useContext(Jf),[r,l]=z.useState(!1),[f,h]=z.useState(!1),{onFocus:_,onBlur:x,onMouseEnter:y,onMouseLeave:E,onTouchStart:b}=t,C=z.useRef(null);z.useEffect(()=>{if(n==="render"&&h(!0),n==="viewport"){let D=H=>{H.forEach(X=>{h(X.isIntersecting)})},I=new IntersectionObserver(D,{threshold:.5});return C.current&&I.observe(C.current),()=>{I.disconnect()}}},[n]),z.useEffect(()=>{if(r){let D=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(D)}}},[r]);let R=()=>{l(!0)},k=()=>{l(!1),h(!1)};return o?n!=="intent"?[f,C,{}]:[f,C,{onFocus:Xr(_,R),onBlur:Xr(x,k),onMouseEnter:Xr(y,R),onMouseLeave:Xr(E,k),onTouchStart:Xr(b,R)}]:[!1,C,{}]}function Xr(n,t){return o=>{n&&n(o),o.defaultPrevented||t(o)}}function pS({page:n,...t}){let{router:o}=fy(),r=z.useMemo(()=>iy(o.routes,n,o.basename),[o.routes,n,o.basename]);return r?z.createElement(vS,{page:n,matches:r,...t}):null}function gS(n){let{manifest:t,routeModules:o}=hy(),[r,l]=z.useState([]);return z.useEffect(()=>{let f=!1;return lS(n,t,o).then(h=>{f||l(h)}),()=>{f=!0}},[n,t,o]),r}function vS({page:n,matches:t,...o}){let r=yi(),{manifest:l,routeModules:f}=hy(),{basename:h}=fy(),{loaderData:_,matches:x}=hS(),y=z.useMemo(()=>vg(n,t,x,l,r,"data"),[n,t,x,l,r]),E=z.useMemo(()=>vg(n,t,x,l,r,"assets"),[n,t,x,l,r]),b=z.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let k=new Set,D=!1;if(t.forEach(H=>{var O;let X=l.routes[H.route.id];!X||!X.hasLoader||(!y.some(ie=>ie.route.id===H.route.id)&&H.route.id in _&&((O=f[H.route.id])!=null&&O.shouldRevalidate)||X.hasClientLoader?D=!0:k.add(H.route.id))}),k.size===0)return[];let I=sS(n,h,"data");return D&&k.size>0&&I.searchParams.set("_routes",t.filter(H=>k.has(H.route.id)).map(H=>H.route.id).join(",")),[I.pathname+I.search]},[h,_,r,l,y,t,n,f]),C=z.useMemo(()=>uS(E,l),[E,l]),R=gS(E);return z.createElement(z.Fragment,null,b.map(k=>z.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...o})),C.map(k=>z.createElement("link",{key:k,rel:"modulepreload",href:k,...o})),R.map(({key:k,link:D})=>z.createElement("link",{key:k,nonce:o.nonce,...D})))}function yS(...n){return t=>{n.forEach(o=>{typeof o=="function"?o(t):o!=null&&(o.current=t)})}}var my=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{my&&(window.__reactRouterVersion="7.10.1")}catch{}function _S({basename:n,children:t,unstable_useTransitions:o,window:r}){let l=z.useRef();l.current==null&&(l.current=ix({window:r,v5Compat:!0}));let f=l.current,[h,_]=z.useState({action:f.action,location:f.location}),x=z.useCallback(y=>{o===!1?_(y):z.startTransition(()=>_(y))},[o]);return z.useLayoutEffect(()=>f.listen(x),[f,x]),z.createElement(jx,{basename:n,children:t,location:h.location,navigationType:h.action,navigator:f,unstable_useTransitions:o===!0})}var py=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ke=z.forwardRef(function({onClick:t,discover:o="render",prefetch:r="none",relative:l,reloadDocument:f,replace:h,state:_,target:x,to:y,preventScrollReset:E,viewTransition:b,...C},R){let{basename:k,unstable_useTransitions:D}=z.useContext(Hn),I=typeof y=="string"&&py.test(y),H,X=!1;if(typeof y=="string"&&I&&(H=y,my))try{let Ee=new URL(window.location.href),be=y.startsWith("//")?new URL(Ee.protocol+y):new URL(y),Le=ji(be.pathname,k);be.origin===Ee.origin&&Le!=null?y=Le+be.search+be.hash:X=!0}catch{gn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let O=Lx(y,{relative:l}),[ie,le,pe]=mS(r,C),oe=ES(y,{replace:h,state:_,target:x,preventScrollReset:E,relative:l,viewTransition:b,unstable_useTransitions:D});function Ae(Ee){t&&t(Ee),Ee.defaultPrevented||oe(Ee)}let fe=z.createElement("a",{...C,...pe,href:H||O,onClick:X||f?t:Ae,ref:yS(R,le),target:x,"data-discover":!I&&o==="render"?"true":void 0});return ie&&!I?z.createElement(z.Fragment,null,fe,z.createElement(pS,{page:O})):fe});Ke.displayName="Link";var xS=z.forwardRef(function({"aria-current":t="page",caseSensitive:o=!1,className:r="",end:l=!1,style:f,to:h,viewTransition:_,children:x,...y},E){let b=sl(h,{relative:y.relative}),C=yi(),R=z.useContext(Wu),{navigator:k,basename:D}=z.useContext(Hn),I=R!=null&&AS(b)&&_===!0,H=k.encodeLocation?k.encodeLocation(b).pathname:b.pathname,X=C.pathname,O=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;o||(X=X.toLowerCase(),O=O?O.toLowerCase():null,H=H.toLowerCase()),O&&D&&(O=ji(O,D)||O);const ie=H!=="/"&&H.endsWith("/")?H.length-1:H.length;let le=X===H||!l&&X.startsWith(H)&&X.charAt(ie)==="/",pe=O!=null&&(O===H||!l&&O.startsWith(H)&&O.charAt(H.length)==="/"),oe={isActive:le,isPending:pe,isTransitioning:I},Ae=le?t:void 0,fe;typeof r=="function"?fe=r(oe):fe=[r,le?"active":null,pe?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let Ee=typeof f=="function"?f(oe):f;return z.createElement(Ke,{...y,"aria-current":Ae,className:fe,ref:E,style:Ee,to:h,viewTransition:_},typeof x=="function"?x(oe):x)});xS.displayName="NavLink";var SS=z.forwardRef(({discover:n="render",fetcherKey:t,navigate:o,reloadDocument:r,replace:l,state:f,method:h=Gu,action:_,onSubmit:x,relative:y,preventScrollReset:E,viewTransition:b,...C},R)=>{let{unstable_useTransitions:k}=z.useContext(Hn),D=wS(),I=NS(_,{relative:y}),H=h.toLowerCase()==="get"?"get":"post",X=typeof _=="string"&&py.test(_),O=ie=>{if(x&&x(ie),ie.defaultPrevented)return;ie.preventDefault();let le=ie.nativeEvent.submitter,pe=(le==null?void 0:le.getAttribute("formmethod"))||h,oe=()=>D(le||ie.currentTarget,{fetcherKey:t,method:pe,navigate:o,replace:l,state:f,relative:y,preventScrollReset:E,viewTransition:b});k&&o!==!1?z.startTransition(()=>oe()):oe()};return z.createElement("form",{ref:R,method:H,action:I,onSubmit:r?x:O,...C,"data-discover":!X&&n==="render"?"true":void 0})});SS.displayName="Form";function TS(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gy(n){let t=z.useContext(ka);return yt(t,TS(n)),t}function ES(n,{target:t,replace:o,state:r,preventScrollReset:l,relative:f,viewTransition:h,unstable_useTransitions:_}={}){let x=za(),y=yi(),E=sl(n,{relative:f});return z.useCallback(b=>{if(eS(b,t)){b.preventDefault();let C=o!==void 0?o:el(y)===el(E),R=()=>x(n,{replace:C,state:r,preventScrollReset:l,relative:f,viewTransition:h});_?z.startTransition(()=>R()):R()}},[y,x,E,o,r,t,n,l,f,h,_])}function vy(n){gn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=z.useRef(Tf(n)),o=z.useRef(!1),r=yi(),l=z.useMemo(()=>tS(r.search,o.current?null:t.current),[r.search]),f=za(),h=z.useCallback((_,x)=>{const y=Tf(typeof _=="function"?_(new URLSearchParams(l)):_);o.current=!0,f("?"+y,x)},[f,l]);return[l,h]}var bS=0,CS=()=>`__${String(++bS)}__`;function wS(){let{router:n}=gy("useSubmit"),{basename:t}=z.useContext(Hn),o=Fx(),r=n.fetch,l=n.navigate;return z.useCallback(async(f,h={})=>{let{action:_,method:x,encType:y,formData:E,body:b}=oS(f,t);if(h.navigate===!1){let C=h.fetcherKey||CS();await r(C,o,h.action||_,{preventScrollReset:h.preventScrollReset,formData:E,body:b,formMethod:h.method||x,formEncType:h.encType||y,flushSync:h.flushSync})}else await l(h.action||_,{preventScrollReset:h.preventScrollReset,formData:E,body:b,formMethod:h.method||x,formEncType:h.encType||y,replace:h.replace,state:h.state,fromRouteId:o,flushSync:h.flushSync,viewTransition:h.viewTransition})},[r,l,t,o])}function NS(n,{relative:t}={}){let{basename:o}=z.useContext(Hn),r=z.useContext(ei);yt(r,"useFormAction must be used inside a RouteContext");let[l]=r.matches.slice(-1),f={...sl(n||".",{relative:t})},h=yi();if(n==null){f.search=h.search;let _=new URLSearchParams(f.search),x=_.getAll("index");if(x.some(E=>E==="")){_.delete("index"),x.filter(b=>b).forEach(b=>_.append("index",b));let E=_.toString();f.search=E?`?${E}`:""}}return(!n||n===".")&&l.route.index&&(f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index"),o!=="/"&&(f.pathname=f.pathname==="/"?o:Yi([o,f.pathname])),el(f)}function AS(n,{relative:t}={}){let o=z.useContext(ry);yt(o!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=gy("useViewTransitionState"),l=sl(n,{relative:t});if(!o.isTransitioning)return!1;let f=ji(o.currentLocation.pathname,r)||o.currentLocation.pathname,h=ji(o.nextLocation.pathname,r)||o.nextLocation.pathname;return Yu(l.pathname,h)!=null||Yu(l.pathname,f)!=null}/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MS=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),RS=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,o,r)=>r?r.toUpperCase():o.toLowerCase()),yg=n=>{const t=RS(n);return t.charAt(0).toUpperCase()+t.slice(1)},yy=(...n)=>n.filter((t,o,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===o).join(" ").trim(),IS=n=>{for(const t in n)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var LS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DS=z.forwardRef(({color:n="currentColor",size:t=24,strokeWidth:o=2,absoluteStrokeWidth:r,className:l="",children:f,iconNode:h,..._},x)=>z.createElement("svg",{ref:x,...LS,width:t,height:t,stroke:n,strokeWidth:r?Number(o)*24/Number(t):o,className:yy("lucide",l),...!f&&!IS(_)&&{"aria-hidden":"true"},..._},[...h.map(([y,E])=>z.createElement(y,E)),...Array.isArray(f)?f:[f]]));/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=(n,t)=>{const o=z.forwardRef(({className:r,...l},f)=>z.createElement(DS,{ref:f,iconNode:t,className:yy(`lucide-${MS(yg(n))}`,`lucide-${n}`,r),...l}));return o.displayName=yg(n),o};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PS=[["path",{d:"M12 6v16",key:"nqf5sj"}],["path",{d:"m19 13 2-1a9 9 0 0 1-18 0l2 1",key:"y7qv08"}],["path",{d:"M9 11h6",key:"1fldmi"}],["circle",{cx:"12",cy:"4",r:"2",key:"muu5ef"}]],kS=Se("anchor",PS);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const US=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],tl=Se("arrow-right",US);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zS=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],jf=Se("briefcase",zS);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BS=[["path",{d:"M16 19h6",key:"xwg31i"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M19 16v6",key:"tddt3s"}],["path",{d:"M21 12.598V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8.5",key:"1glfrc"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}]],HS=Se("calendar-plus",BS);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OS=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ho=Se("calendar",OS);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GS=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],_y=Se("car",GS);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VS=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],qS=Se("chart-column",VS);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FS=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],qu=Se("check",FS);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],xy=Se("circle-alert",ZS);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YS=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Sy=Se("circle-check-big",YS);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],jS=Se("circle-x",JS);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KS=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Kf=Se("clock",KS);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XS=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Ty=Se("dollar-sign",XS);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QS=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Ef=Se("download",QS);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $S=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],Ey=Se("ellipsis",$S);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WS=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],eT=Se("external-link",WS);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],nT=Se("facebook",tT);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],nl=Se("heart",iT);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],by=Se("house",oT);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Cy=Se("image",sT);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aT=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],rT=Se("layout-dashboard",aT);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lT=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],uT=Se("list",lT);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Pa=Se("loader-circle",cT);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],fT=Se("lock",dT);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],mT=Se("log-out",hT);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],wy=Se("mail",pT);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Ba=Se("map-pin",gT);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vT=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],yT=Se("map",vT);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _T=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],xT=Se("menu",_T);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ST=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],TT=Se("message-circle",ST);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ET=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],bT=Se("message-square",ET);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CT=[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z",key:"otkl63"}]],wT=Se("mountain",CT);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NT=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],AT=Se("palette",NT);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MT=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],bf=Se("pen",MT);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RT=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],IT=Se("phone",RT);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LT=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ny=Se("plus",LT);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DT=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],PT=Se("search",DT);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kT=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],tc=Se("send",kT);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UT=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],zT=Se("settings",UT);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],HT=Se("share-2",BT);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=[["path",{d:"M12 2v13",key:"1km8f5"}],["path",{d:"m16 6-4-4-4 4",key:"13yo43"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}]],GT=Se("share",OT);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VT=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],Xf=Se("shield-alert",VT);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qT=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Ay=Se("shield-check",qT);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],ZT=Se("shield",FT);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YT=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],JT=Se("smartphone",YT);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jT=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Cf=Se("sparkles",jT);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KT=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Ia=Se("star",KT);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],My=Se("trash-2",XT);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],$T=Se("type",QT);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WT=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Qf=Se("upload",WT);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eE=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],tE=Se("user-check",eE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nE=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],il=Se("user",nE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iE=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],oE=Se("users",iE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sE=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],aE=Se("utensils",sE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rE=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],lE=Se("video",rE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uE=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ji=Se("x",uE);var vt=(n=>(n.USER="user",n.ADMIN="admin",n.PROVIDER="provider",n))(vt||{}),Ls=(n=>(n.PENDING="pending",n.CONFIRMED="confirmed",n.REJECTED="rejected",n))(Ls||{}),Rs=(n=>(n.VODAFONE_CASH="Vodafone Cash",n.INSTAPAY="Instapay",n))(Rs||{});const _g="1.4",xg={appName:"AmakenDahab",logoUrl:"",heroImages:["https://images.unsplash.com/photo-1544550581-5f7ceaf7f992?q=80&w=1920&auto=format&fit=crop","https://images.unsplash.com/photo-1500375592092-40eb2168fd21?q=80&w=1920&auto=format&fit=crop"],backgroundStyle:"linear-gradient(to bottom, #0f172a, #1e293b)"},cE=[{id:"1",title:"Blue Hole Diving",description:"Experience the legendary Blue Hole with certified guides. Suitable for advanced divers.",date:"2024-12-01",time:"09:00 AM",location:"Blue Hole",price:450,imageUrl:"https://images.unsplash.com/photo-1582967788606-a171f1080ca8?auto=format&fit=crop&q=80&w=1000",category:"Diving",organizerId:"admin1",status:"approved",isFeatured:!0},{id:"2",title:"Laguna Sunset Yoga",description:"Relaxing yoga session by the lagoon at sunset. Bring your own mat.",date:"2024-12-02",time:"17:00 PM",location:"Laguna",price:150,imageUrl:"https://images.unsplash.com/photo-1506126613408-eca07ce68773?auto=format&fit=crop&q=80&w=1000",category:"Wellness",organizerId:"admin1",status:"approved",isFeatured:!0},{id:"3",title:"Full Moon Desert Party",description:"Music, dancing, and bonfire under the stars in Wadi Gnai.",date:"2024-12-05",time:"21:00 PM",location:"Wadi Gnai",price:300,imageUrl:"https://images.unsplash.com/photo-1533174072545-e8d4aa97edf9?auto=format&fit=crop&q=80&w=1000",category:"Party",organizerId:"admin1",status:"approved",isFeatured:!1}],dE=[{id:"p1",name:"Ahmed Driver",serviceType:"Driver",description:"Reliable pickup truck, airport transfers, and blue hole trips.",phone:"01000000001",rating:4.8,imageUrl:"https://images.unsplash.com/photo-1633332755192-727a05c4013d?auto=format&fit=crop&q=80&w=200",isVerified:!0}],rt=(n=500)=>new Promise(t=>setTimeout(t,n)),lt=(n,t)=>{try{const o=localStorage.getItem(n);return o?JSON.parse(o):t}catch{return t}},wt=(n,t)=>{localStorage.setItem(n,JSON.stringify(t))};class fE{constructor(){this._initSeeds()}_initSeeds(){localStorage.getItem("db_version")!==_g&&(console.log("Database version mismatch. Resetting seed data..."),localStorage.removeItem("events"),localStorage.removeItem("providers"),localStorage.removeItem("settings"),localStorage.setItem("db_version",_g)),localStorage.getItem("events")||wt("events",cE),localStorage.getItem("providers")||wt("providers",dE),localStorage.getItem("settings")||wt("settings",xg);const o=lt("users",[]);if(!o.find(r=>r.email==="admin@dahab.com")){const r={id:"admin1",name:"Admin User",email:"admin@dahab.com",role:vt.ADMIN,savedEventIds:[]};o.push(r),wt("users",o)}}async login(t,o){await rt();const l=lt("users",[]).find(f=>f.email===t);if(l)return l;throw new Error("auth/user-not-found")}async register(t,o,r,l){await rt();const f=lt("users",[]);if(f.find(_=>_.email===o))throw new Error("auth/email-already-in-use");const h={id:Math.random().toString(36).substr(2,9),name:t,email:o,role:l?vt.PROVIDER:vt.USER,providerStatus:l?"pending":void 0,isEmailVerified:!1,provider:"email",savedEventIds:[]};return f.push(h),wt("users",f),h}async socialLogin(t){await rt();const o=lt("users",[]),r=`testuser@${t}.com`;let l=o.find(f=>f.email===r);return l||(l={id:Math.random().toString(36).substr(2,9),name:`${t.charAt(0).toUpperCase()+t.slice(1)} User`,email:r,role:vt.USER,isEmailVerified:!0,provider:t,savedEventIds:[]},o.push(l),wt("users",o)),l}async logout(){await rt(100)}async getSettings(){return await rt(100),lt("settings",xg)}async updateSettings(t){await rt(),wt("settings",t)}async getEvents(){return await rt(),lt("events",[])}async getPublicEvents(){return await rt(),lt("events",[]).filter(o=>o.status==="approved")}async addEvent(t){await rt();const o=lt("events",[]);o.push(t),wt("events",o)}async updateEvent(t){await rt();const o=lt("events",[]),r=o.findIndex(l=>l.id===t.id);r!==-1&&(o[r]=t,wt("events",o))}async deleteEvent(t){await rt();const r=lt("events",[]).filter(l=>l.id!==t);wt("events",r)}async getProviders(){return await rt(),lt("providers",[])}async getReviews(t){return await rt(),lt("reviews",[]).filter(r=>r.itemId===t).sort((r,l)=>new Date(l.timestamp).getTime()-new Date(r.timestamp).getTime())}async addReview(t){await rt();const o=lt("reviews",[]);if(o.push(t),wt("reviews",o),t.itemId.startsWith("p")||t.itemId.length>5){const r=o.filter(_=>_.itemId===t.itemId),l=r.reduce((_,x)=>_+x.rating,0)/r.length,f=lt("providers",[]),h=f.findIndex(_=>_.id===t.itemId);h!==-1&&(f[h].rating=Number(l.toFixed(1)),wt("providers",f))}}async getPosts(){return await rt(),lt("posts",[]).sort((o,r)=>new Date(r.timestamp).getTime()-new Date(o.timestamp).getTime())}async createPost(t){await rt();const o=lt("posts",[]);o.unshift(t),wt("posts",o)}async toggleLikePost(t,o){await rt(100);const r=lt("posts",[]),l=r.find(f=>f.id===t);if(l){const f=l.likes.includes(o);l.likes=f?l.likes.filter(h=>h!==o):[...l.likes,o],wt("posts",r)}}async addComment(t,o){await rt();const r=lt("posts",[]),l=r.find(f=>f.id===t);l&&(l.comments=[...l.comments||[],o],wt("posts",r))}async getBookings(){return await rt(),lt("bookings",[]).sort((o,r)=>new Date(r.timestamp).getTime()-new Date(o.timestamp).getTime())}async getUserBookings(t){return await rt(),lt("bookings",[]).filter(r=>r.userId===t)}async createBooking(t){await rt();const o=lt("bookings",[]);o.push(t),wt("bookings",o)}async updateBookingStatus(t,o){await rt();const r=lt("bookings",[]),l=r.find(f=>f.id===t);l&&(l.status=o,wt("bookings",r))}async toggleSavedEvent(t,o){await rt(100);const r=lt("users",[]),l=r.find(f=>f.id===t);if(l){const f=l.savedEventIds||[],h=f.includes(o);l.savedEventIds=h?f.filter(_=>_!==o):[...f,o],wt("users",r)}}async getUser(t){return await rt(100),lt("users",[]).find(r=>r.id===t)}async getPendingProviders(){return await rt(),lt("users",[]).filter(o=>o.providerStatus==="pending")}async approveProvider(t){await rt();const o=lt("users",[]),r=o.findIndex(l=>l.id===t);if(r!==-1){o[r].providerStatus="approved",wt("users",o);const l=lt("providers",[]);if(!l.find(f=>f.id===t)){const f={id:t,name:o[r].name,serviceType:"Driver",description:"Verified service provider",phone:"",rating:5,imageUrl:"https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?auto=format&fit=crop&q=80&w=200",isVerified:!0};l.push(f),wt("providers",l)}return o[r]}return null}async rejectProvider(t){await rt();const o=lt("users",[]),r=o.findIndex(l=>l.id===t);r!==-1&&(o[r].role=vt.USER,o[r].providerStatus="rejected",wt("users",o))}async sendVerificationCode(t){return await rt(),!0}async verifyAndCreateUser(t,o,r,l){return null}}const Ue=new fE,Ry=z.createContext(void 0),hE=({children:n})=>{const[t,o]=z.useState(null),[r,l]=z.useState(!0);z.useEffect(()=>{Ue.getSettings().then(h=>{o(h),l(!1)})},[]);const f=async h=>{o(h),await Ue.updateSettings(h)};return r||!t?v.jsx("div",{className:"h-screen flex items-center justify-center bg-gray-50 text-dahab-teal font-bold animate-pulse",children:"Loading App Configuration..."}):v.jsx(Ry.Provider,{value:{settings:t,updateSettings:f,loading:r},children:n})},nc=()=>{const n=z.useContext(Ry);if(!n)throw new Error("useSettings must be used within SettingsProvider");return n},mE=({userRole:n,onLogout:t,installPrompt:o,onInstall:r})=>{const l=yi(),{settings:f}=nc(),h=y=>l.pathname===y?"text-dahab-teal font-bold":"text-gray-500 hover:text-dahab-teal",_=()=>v.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-white/95 backdrop-blur-md border-t border-gray-200 py-3 px-6 flex justify-between items-center z-50 md:hidden pb-safe",children:[v.jsxs(Ke,{to:"/",className:`flex flex-col items-center gap-1 ${h("/")}`,children:[v.jsx(by,{size:24}),v.jsx("span",{className:"text-xs",children:"Home"})]}),v.jsxs(Ke,{to:"/events",className:`flex flex-col items-center gap-1 ${h("/events")}`,children:[v.jsx(Ho,{size:24}),v.jsx("span",{className:"text-xs",children:"Events"})]}),n===vt.PROVIDER&&v.jsxs(Ke,{to:"/provider-dashboard",className:`flex flex-col items-center gap-1 ${h("/provider-dashboard")}`,children:[v.jsx(jf,{size:24}),v.jsx("span",{className:"text-xs",children:"Dash"})]}),n===vt.ADMIN?v.jsxs(Ke,{to:"/admin",className:`flex flex-col items-center gap-1 ${h("/admin")}`,children:[v.jsx(rT,{size:24}),v.jsx("span",{className:"text-xs",children:"Admin"})]}):v.jsxs(Ke,{to:n?"/profile":"/login",className:`flex flex-col items-center gap-1 ${h(n?"/profile":"/login")}`,children:[v.jsx(il,{size:24}),v.jsx("span",{className:"text-xs",children:n?"Profile":"Login"})]}),n!==vt.PROVIDER&&n!==vt.ADMIN&&v.jsxs(Ke,{to:"/more",className:`flex flex-col items-center gap-1 ${h("/more")}`,children:[v.jsx(xT,{size:24}),v.jsx("span",{className:"text-xs",children:"More"})]})]}),x=()=>v.jsxs("div",{className:"hidden md:flex fixed top-0 left-0 right-0 bg-white/80 backdrop-blur-md shadow-sm z-50 px-8 py-4 justify-between items-center pt-safe",children:[v.jsxs(Ke,{to:"/",className:"text-2xl font-bold text-dahab-teal tracking-tight flex items-center gap-3",children:[f.logoUrl?v.jsx("img",{src:f.logoUrl,alt:f.appName,className:"h-10 w-auto object-contain"}):v.jsx("span",{className:"bg-dahab-gold text-white p-1 rounded-lg",children:"AD"}),v.jsx("span",{children:f.appName})]}),v.jsxs("div",{className:"flex gap-8 items-center",children:[v.jsx(Ke,{to:"/",className:`text-sm font-medium transition-colors ${h("/")}`,children:"Home"}),v.jsx(Ke,{to:"/events",className:`text-sm font-medium transition-colors ${h("/events")}`,children:"Events"}),v.jsx(Ke,{to:"/community",className:`text-sm font-medium transition-colors ${h("/community")}`,children:"Community Hub"}),v.jsx(Ke,{to:"/services",className:`text-sm font-medium transition-colors ${h("/services")}`,children:"Drivers & Services"}),v.jsx(Ke,{to:"/more",className:`text-sm font-medium transition-colors ${h("/more")}`,children:"More"}),n===vt.PROVIDER&&v.jsx(Ke,{to:"/provider-dashboard",className:`text-sm font-medium transition-colors ${h("/provider-dashboard")}`,children:"Provider Dashboard"}),n===vt.ADMIN&&v.jsx(Ke,{to:"/admin",className:`text-sm font-medium transition-colors ${h("/admin")}`,children:"Admin Dashboard"})]}),v.jsxs("div",{className:"flex gap-4 items-center",children:[o&&v.jsxs("button",{onClick:r,className:"flex items-center gap-2 bg-gray-900 text-white px-4 py-2 rounded-full hover:bg-gray-800 transition text-sm font-bold shadow-md",children:[v.jsx(Ef,{size:16})," Install App"]}),n?v.jsxs(v.Fragment,{children:[v.jsxs(Ke,{to:"/profile",className:`flex items-center gap-2 font-medium ${h("/profile")}`,children:[v.jsx(il,{size:18})," Profile"]}),v.jsxs("button",{onClick:t,className:"flex items-center gap-2 text-red-500 hover:text-red-600 font-medium ml-4",children:[v.jsx(mT,{size:18})," Logout"]})]}):v.jsx(Ke,{to:"/login",className:"bg-dahab-teal text-white px-5 py-2 rounded-full hover:bg-teal-700 transition shadow-md",children:"Login"})]})]});return v.jsxs(v.Fragment,{children:[v.jsx(x,{}),v.jsx(_,{}),o&&v.jsx("div",{className:"md:hidden fixed top-20 right-4 z-40 animate-fade-in",children:v.jsxs("button",{onClick:r,className:"bg-gray-900/90 backdrop-blur text-white p-3 rounded-full shadow-xl flex flex-col items-center gap-1",children:[v.jsx(Ef,{size:20}),v.jsx("span",{className:"text-[10px] font-bold",children:"Install"})]})})]})},pE=()=>{const[n,t]=z.useState(0),[o,r]=z.useState([]),[l,f]=z.useState(!0),{settings:h}=nc();return z.useEffect(()=>{if(h.heroImages.length===0)return;const _=setInterval(()=>{t(x=>(x+1)%h.heroImages.length)},5e3);return()=>clearInterval(_)},[h.heroImages]),z.useEffect(()=>{(async()=>{const x=await Ue.getPublicEvents(),y=x.filter(E=>E.isFeatured);y.length>0?r(y):r(x.slice(0,3)),f(!1)})()},[]),v.jsxs("div",{className:"space-y-12",children:[v.jsxs("section",{className:"relative rounded-3xl overflow-hidden shadow-2xl h-[500px] group",children:[v.jsx("div",{className:"absolute inset-0 bg-gray-900",children:h.heroImages.length>0?h.heroImages.map((_,x)=>v.jsxs("div",{className:`absolute inset-0 transition-all duration-[2000ms] ease-in-out transform ${x===n?"opacity-100 scale-105":"opacity-0 scale-100"}`,children:[v.jsx("img",{src:_,alt:`Dahab scenery ${x+1}`,className:"w-full h-full object-cover"}),v.jsx("div",{className:"absolute inset-0 bg-black/10 mix-blend-overlay"})]},x)):v.jsx("div",{className:"w-full h-full bg-gray-800 flex items-center justify-center text-gray-500",children:"No images configured"})}),v.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-black/40 to-transparent flex flex-col justify-end p-8 md:p-16 z-10",children:[v.jsxs("h1",{className:"text-4xl md:text-6xl font-bold text-white mb-4 tracking-tight drop-shadow-lg",children:["Experience the Soul of ",v.jsx("span",{className:"text-dahab-gold",children:h.appName.split(" ")[0]})]}),v.jsx("p",{className:"text-gray-100 text-lg md:text-xl max-w-2xl mb-8 drop-shadow-md font-medium",children:"The ultimate social hub. Discover events, book reliable drivers, and connect with the community."}),v.jsxs("div",{className:"flex gap-4 flex-wrap",children:[v.jsx(Ke,{to:"/events",className:"bg-dahab-teal text-white px-8 py-3 rounded-full font-semibold hover:bg-teal-700 transition shadow-lg hover:shadow-dahab-teal/50",children:"Find Events"}),v.jsx(Ke,{to:"/services",className:"bg-white/10 backdrop-blur-md text-white border border-white/50 px-8 py-3 rounded-full font-semibold hover:bg-white/20 transition shadow-lg",children:"Book a Driver"})]})]}),v.jsx("div",{className:"absolute bottom-6 right-8 z-20 flex gap-2",children:h.heroImages.map((_,x)=>v.jsx("button",{onClick:()=>t(x),className:`w-2 h-2 rounded-full transition-all duration-300 ${x===n?"bg-dahab-gold w-6":"bg-white/50 hover:bg-white"}`},x))})]}),v.jsxs("section",{children:[v.jsx("div",{className:"flex justify-between items-end mb-6",children:v.jsxs("h2",{className:"text-2xl font-bold",children:["Explore ",h.appName.split(" ")[0]]})}),v.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{title:"Events & Parties",icon:"",link:"/events",color:"bg-purple-100 text-purple-600"},{title:"Drivers & Services",icon:"",link:"/services",color:"bg-yellow-100 text-yellow-600"},{title:"Community Hub",icon:"",link:"/community",color:"bg-blue-100 text-blue-600"},{title:"More & Guide",icon:"",link:"/more",color:"bg-teal-100 text-teal-600"}].map((_,x)=>v.jsxs(Ke,{to:_.link,className:`p-6 rounded-2xl ${_.color} hover:opacity-90 transition flex flex-col items-center justify-center gap-3 text-center h-40 group`,children:[v.jsx("span",{className:"text-4xl group-hover:scale-110 transition-transform duration-300",children:_.icon}),v.jsx("span",{className:"font-bold",children:_.title})]},x))})]}),v.jsxs("section",{children:[v.jsxs("div",{className:"flex justify-between items-end mb-6",children:[v.jsxs("div",{children:[v.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[v.jsx(Cf,{className:"text-dahab-gold",fill:"currentColor",size:24}),"Featured Events"]}),v.jsx("p",{className:"opacity-80 text-sm mt-1",children:"Don't miss out on these popular activities"})]}),v.jsxs(Ke,{to:"/events",className:"text-dahab-teal font-bold flex items-center gap-1 hover:underline text-sm bg-teal-50 px-3 py-1 rounded-full",children:["View All ",v.jsx(tl,{size:16})]})]}),l?v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(_=>v.jsx("div",{className:"h-80 bg-gray-100 rounded-2xl animate-pulse"},_))}):v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map(_=>v.jsxs(Ke,{to:`/book/event/${_.id}`,className:"group block bg-white rounded-2xl overflow-hidden shadow-sm hover:shadow-xl transition border border-gray-100 h-full flex flex-col",children:[v.jsxs("div",{className:"relative h-48 overflow-hidden",children:[v.jsx("img",{src:_.imageUrl,alt:_.title,className:"w-full h-full object-cover group-hover:scale-110 transition duration-700"}),v.jsx("div",{className:"absolute top-0 inset-x-0 h-16 bg-gradient-to-b from-black/50 to-transparent opacity-60"}),v.jsx("div",{className:"absolute top-4 left-4 bg-white/90 backdrop-blur-sm px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wider text-gray-800 shadow-sm border border-white/20",children:_.category}),v.jsxs("div",{className:"absolute bottom-4 right-4 bg-dahab-teal/90 backdrop-blur-sm text-white px-3 py-1 rounded-lg text-sm font-bold shadow-lg border border-white/20",children:[_.price," EGP"]})]}),v.jsxs("div",{className:"p-5 flex-1 flex flex-col",children:[v.jsx("h3",{className:"font-bold text-xl text-gray-900 mb-3 line-clamp-1 group-hover:text-dahab-teal transition-colors",children:_.title}),v.jsxs("div",{className:"space-y-3 text-sm text-gray-500 mb-4 flex-1",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"w-8 h-8 rounded-full bg-orange-50 flex items-center justify-center text-orange-500",children:v.jsx(Ho,{size:16})}),v.jsx("span",{children:_.date})]}),v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-50 flex items-center justify-center text-blue-500",children:v.jsx(Kf,{size:16})}),v.jsx("span",{children:_.time})]}),v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"w-8 h-8 rounded-full bg-green-50 flex items-center justify-center text-green-500",children:v.jsx(Ba,{size:16})}),v.jsx("span",{className:"truncate",children:_.location})]})]}),v.jsxs("div",{className:"pt-4 border-t border-gray-100 mt-auto flex items-center justify-between text-dahab-teal font-bold group-hover:translate-x-1 transition-transform",children:[v.jsx("span",{children:"Book Now"}),v.jsx(tl,{size:18})]})]})]},_.id))})]}),v.jsxs("section",{className:"bg-gray-900 rounded-3xl p-8 md:p-12 flex flex-col md:flex-row items-center justify-between gap-8 text-white relative overflow-hidden",children:[v.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-dahab-teal rounded-full blur-[100px] opacity-20 translate-x-1/2 -translate-y-1/2"}),v.jsxs("div",{className:"space-y-4 relative z-10",children:[v.jsxs("h2",{className:"text-3xl font-bold",children:["Drive with ",h.appName]}),v.jsx("p",{className:"text-gray-400 max-w-md",children:"Are you a local driver or service provider? Join our verified network and grow your business today."})]}),v.jsxs("div",{className:"flex flex-col gap-3 w-full md:w-auto relative z-10",children:[v.jsx(Ke,{to:"/login?role=provider",className:"bg-dahab-gold text-black px-8 py-3 rounded-full font-bold hover:bg-yellow-400 transition text-center shadow-lg hover:shadow-yellow-500/20",children:"Register as Driver"}),v.jsx("span",{className:"text-xs text-gray-500 text-center",children:"Requires admin verification"})]})]})]})},Iy=({itemId:n,itemTitle:t,isOpen:o,onClose:r,user:l})=>{const[f,h]=z.useState([]),[_,x]=z.useState(!0),[y,E]=z.useState(!1),[b,C]=z.useState(5),[R,k]=z.useState("");if(z.useEffect(()=>{o&&n&&(x(!0),Ue.getReviews(n).then(I=>{h(I),x(!1)}),C(5),k(""))},[o,n]),!o||!n)return null;const D=async I=>{if(I.preventDefault(),!l||!R.trim())return;E(!0);const H={id:Math.random().toString(36).substr(2,9),itemId:n,userId:l.id,userName:l.name,rating:b,comment:R,timestamp:new Date().toISOString()};await Ue.addReview(H);const X=await Ue.getReviews(n);h(X),k(""),C(5),E(!1)};return v.jsxs("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4",children:[v.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:r}),v.jsxs("div",{className:"relative bg-white rounded-3xl w-full max-w-lg overflow-hidden shadow-2xl flex flex-col max-h-[85vh]",children:[v.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"font-bold text-lg text-gray-900",children:"Reviews"}),v.jsx("p",{className:"text-sm text-gray-500",children:t})]}),v.jsx("button",{onClick:r,className:"p-2 bg-white rounded-full text-gray-400 hover:text-gray-600 shadow-sm",children:v.jsx(Ji,{size:20})})]}),v.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:_?v.jsxs("div",{className:"text-center py-10 text-gray-500",children:[v.jsx(Pa,{className:"animate-spin mx-auto mb-2"}),"Loading reviews..."]}):f.length===0?v.jsxs("div",{className:"text-center py-10 bg-gray-50 rounded-2xl border border-dashed border-gray-200",children:[v.jsx(Ia,{className:"mx-auto text-gray-300 mb-2",size:32}),v.jsx("p",{className:"text-gray-500",children:"No reviews yet. Be the first!"})]}):f.map(I=>v.jsxs("div",{className:"flex gap-4 animate-fade-in",children:[v.jsx("div",{className:"w-10 h-10 rounded-full bg-dahab-teal/10 flex items-center justify-center flex-shrink-0",children:v.jsx("span",{className:"font-bold text-dahab-teal text-sm",children:I.userName.charAt(0)})}),v.jsxs("div",{className:"flex-1 space-y-1",children:[v.jsxs("div",{className:"flex justify-between items-start",children:[v.jsx("span",{className:"font-bold text-sm text-gray-900",children:I.userName}),v.jsx("span",{className:"text-xs text-gray-400",children:new Date(I.timestamp).toLocaleDateString()})]}),v.jsx("div",{className:"flex text-yellow-400 gap-0.5",children:[...Array(5)].map((H,X)=>v.jsx(Ia,{size:12,fill:X<I.rating?"currentColor":"none",className:X<I.rating?"":"text-gray-300"},X))}),v.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:I.comment})]})]},I.id))}),v.jsx("div",{className:"p-6 border-t border-gray-100 bg-gray-50",children:l?v.jsxs("form",{onSubmit:D,className:"space-y-4",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("label",{className:"text-sm font-bold text-gray-700",children:"Write a review"}),v.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(I=>v.jsx("button",{type:"button",onClick:()=>C(I),className:"text-yellow-400 hover:scale-110 transition",children:v.jsx(Ia,{size:20,fill:I<=b?"currentColor":"none",className:I<=b?"":"text-gray-300"})},I))})]}),v.jsxs("div",{className:"relative",children:[v.jsx("textarea",{value:R,onChange:I=>k(I.target.value),placeholder:"Share your experience...",className:"w-full pl-4 pr-12 py-3 bg-white border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-dahab-teal/50 text-sm resize-none h-24",required:!0}),v.jsx("button",{type:"submit",disabled:y||!R.trim(),className:"absolute bottom-3 right-3 p-2 bg-dahab-teal text-white rounded-lg hover:bg-teal-700 disabled:opacity-50 transition",children:y?v.jsx(Pa,{size:16,className:"animate-spin"}):v.jsx(tc,{size:16})})]})]}):v.jsxs("div",{className:"text-center bg-white p-4 rounded-xl border border-gray-200",children:[v.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Login to leave a review"}),v.jsx("button",{onClick:r,className:"text-dahab-teal text-sm font-bold hover:underline",children:"Close"})]})})]})]})};var $r={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var gE=$r.exports,Sg;function vE(){return Sg||(Sg=1,(function(n,t){(function(o,r){r(t)})(gE,(function(o){var r="1.9.4";function l(s){var u,p,T,w;for(p=1,T=arguments.length;p<T;p++){w=arguments[p];for(u in w)s[u]=w[u]}return s}var f=Object.create||(function(){function s(){}return function(u){return s.prototype=u,new s}})();function h(s,u){var p=Array.prototype.slice;if(s.bind)return s.bind.apply(s,p.call(arguments,1));var T=p.call(arguments,2);return function(){return s.apply(u,T.length?T.concat(p.call(arguments)):arguments)}}var _=0;function x(s){return"_leaflet_id"in s||(s._leaflet_id=++_),s._leaflet_id}function y(s,u,p){var T,w,A,P;return P=function(){T=!1,w&&(A.apply(p,w),w=!1)},A=function(){T?w=arguments:(s.apply(p,arguments),setTimeout(P,u),T=!0)},A}function E(s,u,p){var T=u[1],w=u[0],A=T-w;return s===T&&p?s:((s-w)%A+A)%A+w}function b(){return!1}function C(s,u){if(u===!1)return s;var p=Math.pow(10,u===void 0?6:u);return Math.round(s*p)/p}function R(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function k(s){return R(s).split(/\s+/)}function D(s,u){Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?f(s.options):{});for(var p in u)s.options[p]=u[p];return s.options}function I(s,u,p){var T=[];for(var w in s)T.push(encodeURIComponent(p?w.toUpperCase():w)+"="+encodeURIComponent(s[w]));return(!u||u.indexOf("?")===-1?"?":"&")+T.join("&")}var H=/\{ *([\w_ -]+) *\}/g;function X(s,u){return s.replace(H,function(p,T){var w=u[T];if(w===void 0)throw new Error("No value provided for variable "+p);return typeof w=="function"&&(w=w(u)),w})}var O=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function ie(s,u){for(var p=0;p<s.length;p++)if(s[p]===u)return p;return-1}var le="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function pe(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var oe=0;function Ae(s){var u=+new Date,p=Math.max(0,16-(u-oe));return oe=u+p,window.setTimeout(s,p)}var fe=window.requestAnimationFrame||pe("RequestAnimationFrame")||Ae,Ee=window.cancelAnimationFrame||pe("CancelAnimationFrame")||pe("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function be(s,u,p){if(p&&fe===Ae)s.call(u);else return fe.call(window,h(s,u))}function Le(s){s&&Ee.call(window,s)}var ze={__proto__:null,extend:l,create:f,bind:h,get lastId(){return _},stamp:x,throttle:y,wrapNum:E,falseFn:b,formatNum:C,trim:R,splitWords:k,setOptions:D,getParamString:I,template:X,isArray:O,indexOf:ie,emptyImageUrl:le,requestFn:fe,cancelFn:Ee,requestAnimFrame:be,cancelAnimFrame:Le};function ee(){}ee.extend=function(s){var u=function(){D(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},p=u.__super__=this.prototype,T=f(p);T.constructor=u,u.prototype=T;for(var w in this)Object.prototype.hasOwnProperty.call(this,w)&&w!=="prototype"&&w!=="__super__"&&(u[w]=this[w]);return s.statics&&l(u,s.statics),s.includes&&(Qe(s.includes),l.apply(null,[T].concat(s.includes))),l(T,s),delete T.statics,delete T.includes,T.options&&(T.options=p.options?f(p.options):{},l(T.options,s.options)),T._initHooks=[],T.callInitHooks=function(){if(!this._initHooksCalled){p.callInitHooks&&p.callInitHooks.call(this),this._initHooksCalled=!0;for(var A=0,P=T._initHooks.length;A<P;A++)T._initHooks[A].call(this)}},u},ee.include=function(s){var u=this.prototype.options;return l(this.prototype,s),s.options&&(this.prototype.options=u,this.mergeOptions(s.options)),this},ee.mergeOptions=function(s){return l(this.prototype.options,s),this},ee.addInitHook=function(s){var u=Array.prototype.slice.call(arguments,1),p=typeof s=="function"?s:function(){this[s].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(p),this};function Qe(s){if(!(typeof L>"u"||!L||!L.Mixin)){s=O(s)?s:[s];for(var u=0;u<s.length;u++)s[u]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var j={on:function(s,u,p){if(typeof s=="object")for(var T in s)this._on(T,s[T],u);else{s=k(s);for(var w=0,A=s.length;w<A;w++)this._on(s[w],u,p)}return this},off:function(s,u,p){if(!arguments.length)delete this._events;else if(typeof s=="object")for(var T in s)this._off(T,s[T],u);else{s=k(s);for(var w=arguments.length===1,A=0,P=s.length;A<P;A++)w?this._off(s[A]):this._off(s[A],u,p)}return this},_on:function(s,u,p,T){if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}if(this._listens(s,u,p)===!1){p===this&&(p=void 0);var w={fn:u,ctx:p};T&&(w.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(w)}},_off:function(s,u,p){var T,w,A;if(this._events&&(T=this._events[s],!!T)){if(arguments.length===1){if(this._firingCount)for(w=0,A=T.length;w<A;w++)T[w].fn=b;delete this._events[s];return}if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}var P=this._listens(s,u,p);if(P!==!1){var q=T[P];this._firingCount&&(q.fn=b,this._events[s]=T=T.slice()),T.splice(P,1)}}},fire:function(s,u,p){if(!this.listens(s,p))return this;var T=l({},u,{type:s,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var w=this._events[s];if(w){this._firingCount=this._firingCount+1||1;for(var A=0,P=w.length;A<P;A++){var q=w[A],Y=q.fn;q.once&&this.off(s,Y,q.ctx),Y.call(q.ctx||this,T)}this._firingCount--}}return p&&this._propagateEvent(T),this},listens:function(s,u,p,T){typeof s!="string"&&console.warn('"string" type argument expected');var w=u;typeof u!="function"&&(T=!!u,w=void 0,p=void 0);var A=this._events&&this._events[s];if(A&&A.length&&this._listens(s,w,p)!==!1)return!0;if(T){for(var P in this._eventParents)if(this._eventParents[P].listens(s,u,p,T))return!0}return!1},_listens:function(s,u,p){if(!this._events)return!1;var T=this._events[s]||[];if(!u)return!!T.length;p===this&&(p=void 0);for(var w=0,A=T.length;w<A;w++)if(T[w].fn===u&&T[w].ctx===p)return w;return!1},once:function(s,u,p){if(typeof s=="object")for(var T in s)this._on(T,s[T],u,!0);else{s=k(s);for(var w=0,A=s.length;w<A;w++)this._on(s[w],u,p,!0)}return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[x(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[x(s)],this},_propagateEvent:function(s){for(var u in this._eventParents)this._eventParents[u].fire(s.type,l({layer:s.target,propagatedFrom:s.target},s),!0)}};j.addEventListener=j.on,j.removeEventListener=j.clearAllEventListeners=j.off,j.addOneTimeEventListener=j.once,j.fireEvent=j.fire,j.hasEventListeners=j.listens;var ae=ee.extend(j);function se(s,u,p){this.x=p?Math.round(s):s,this.y=p?Math.round(u):u}var $e=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};se.prototype={clone:function(){return new se(this.x,this.y)},add:function(s){return this.clone()._add(he(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(he(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new se(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new se(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=$e(this.x),this.y=$e(this.y),this},distanceTo:function(s){s=he(s);var u=s.x-this.x,p=s.y-this.y;return Math.sqrt(u*u+p*p)},equals:function(s){return s=he(s),s.x===this.x&&s.y===this.y},contains:function(s){return s=he(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+C(this.x)+", "+C(this.y)+")"}};function he(s,u,p){return s instanceof se?s:O(s)?new se(s[0],s[1]):s==null?s:typeof s=="object"&&"x"in s&&"y"in s?new se(s.x,s.y):new se(s,u,p)}function B(s,u){if(s)for(var p=u?[s,u]:s,T=0,w=p.length;T<w;T++)this.extend(p[T])}B.prototype={extend:function(s){var u,p;if(!s)return this;if(s instanceof se||typeof s[0]=="number"||"x"in s)u=p=he(s);else if(s=Q(s),u=s.min,p=s.max,!u||!p)return this;return!this.min&&!this.max?(this.min=u.clone(),this.max=p.clone()):(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(p.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(p.y,this.max.y)),this},getCenter:function(s){return he((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return he(this.min.x,this.max.y)},getTopRight:function(){return he(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var u,p;return typeof s[0]=="number"||s instanceof se?s=he(s):s=Q(s),s instanceof B?(u=s.min,p=s.max):u=p=s,u.x>=this.min.x&&p.x<=this.max.x&&u.y>=this.min.y&&p.y<=this.max.y},intersects:function(s){s=Q(s);var u=this.min,p=this.max,T=s.min,w=s.max,A=w.x>=u.x&&T.x<=p.x,P=w.y>=u.y&&T.y<=p.y;return A&&P},overlaps:function(s){s=Q(s);var u=this.min,p=this.max,T=s.min,w=s.max,A=w.x>u.x&&T.x<p.x,P=w.y>u.y&&T.y<p.y;return A&&P},isValid:function(){return!!(this.min&&this.max)},pad:function(s){var u=this.min,p=this.max,T=Math.abs(u.x-p.x)*s,w=Math.abs(u.y-p.y)*s;return Q(he(u.x-T,u.y-w),he(p.x+T,p.y+w))},equals:function(s){return s?(s=Q(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight())):!1}};function Q(s,u){return!s||s instanceof B?s:new B(s,u)}function re(s,u){if(s)for(var p=u?[s,u]:s,T=0,w=p.length;T<w;T++)this.extend(p[T])}re.prototype={extend:function(s){var u=this._southWest,p=this._northEast,T,w;if(s instanceof ge)T=s,w=s;else if(s instanceof re){if(T=s._southWest,w=s._northEast,!T||!w)return this}else return s?this.extend(me(s)||ue(s)):this;return!u&&!p?(this._southWest=new ge(T.lat,T.lng),this._northEast=new ge(w.lat,w.lng)):(u.lat=Math.min(T.lat,u.lat),u.lng=Math.min(T.lng,u.lng),p.lat=Math.max(w.lat,p.lat),p.lng=Math.max(w.lng,p.lng)),this},pad:function(s){var u=this._southWest,p=this._northEast,T=Math.abs(u.lat-p.lat)*s,w=Math.abs(u.lng-p.lng)*s;return new re(new ge(u.lat-T,u.lng-w),new ge(p.lat+T,p.lng+w))},getCenter:function(){return new ge((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ge(this.getNorth(),this.getWest())},getSouthEast:function(){return new ge(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){typeof s[0]=="number"||s instanceof ge||"lat"in s?s=me(s):s=ue(s);var u=this._southWest,p=this._northEast,T,w;return s instanceof re?(T=s.getSouthWest(),w=s.getNorthEast()):T=w=s,T.lat>=u.lat&&w.lat<=p.lat&&T.lng>=u.lng&&w.lng<=p.lng},intersects:function(s){s=ue(s);var u=this._southWest,p=this._northEast,T=s.getSouthWest(),w=s.getNorthEast(),A=w.lat>=u.lat&&T.lat<=p.lat,P=w.lng>=u.lng&&T.lng<=p.lng;return A&&P},overlaps:function(s){s=ue(s);var u=this._southWest,p=this._northEast,T=s.getSouthWest(),w=s.getNorthEast(),A=w.lat>u.lat&&T.lat<p.lat,P=w.lng>u.lng&&T.lng<p.lng;return A&&P},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,u){return s?(s=ue(s),this._southWest.equals(s.getSouthWest(),u)&&this._northEast.equals(s.getNorthEast(),u)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ue(s,u){return s instanceof re?s:new re(s,u)}function ge(s,u,p){if(isNaN(s)||isNaN(u))throw new Error("Invalid LatLng object: ("+s+", "+u+")");this.lat=+s,this.lng=+u,p!==void 0&&(this.alt=+p)}ge.prototype={equals:function(s,u){if(!s)return!1;s=me(s);var p=Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng));return p<=(u===void 0?1e-9:u)},toString:function(s){return"LatLng("+C(this.lat,s)+", "+C(this.lng,s)+")"},distanceTo:function(s){return ht.distance(this,me(s))},wrap:function(){return ht.wrapLatLng(this)},toBounds:function(s){var u=180*s/40075017,p=u/Math.cos(Math.PI/180*this.lat);return ue([this.lat-u,this.lng-p],[this.lat+u,this.lng+p])},clone:function(){return new ge(this.lat,this.lng,this.alt)}};function me(s,u,p){return s instanceof ge?s:O(s)&&typeof s[0]!="object"?s.length===3?new ge(s[0],s[1],s[2]):s.length===2?new ge(s[0],s[1]):null:s==null?s:typeof s=="object"&&"lat"in s?new ge(s.lat,"lng"in s?s.lng:s.lon,s.alt):u===void 0?null:new ge(s,u,p)}var ke={latLngToPoint:function(s,u){var p=this.projection.project(s),T=this.scale(u);return this.transformation._transform(p,T)},pointToLatLng:function(s,u){var p=this.scale(u),T=this.transformation.untransform(s,p);return this.projection.unproject(T)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var u=this.projection.bounds,p=this.scale(s),T=this.transformation.transform(u.min,p),w=this.transformation.transform(u.max,p);return new B(T,w)},infinite:!1,wrapLatLng:function(s){var u=this.wrapLng?E(s.lng,this.wrapLng,!0):s.lng,p=this.wrapLat?E(s.lat,this.wrapLat,!0):s.lat,T=s.alt;return new ge(p,u,T)},wrapLatLngBounds:function(s){var u=s.getCenter(),p=this.wrapLatLng(u),T=u.lat-p.lat,w=u.lng-p.lng;if(T===0&&w===0)return s;var A=s.getSouthWest(),P=s.getNorthEast(),q=new ge(A.lat-T,A.lng-w),Y=new ge(P.lat-T,P.lng-w);return new re(q,Y)}},ht=l({},ke,{wrapLng:[-180,180],R:6371e3,distance:function(s,u){var p=Math.PI/180,T=s.lat*p,w=u.lat*p,A=Math.sin((u.lat-s.lat)*p/2),P=Math.sin((u.lng-s.lng)*p/2),q=A*A+Math.cos(T)*Math.cos(w)*P*P,Y=2*Math.atan2(Math.sqrt(q),Math.sqrt(1-q));return this.R*Y}}),mt=6378137,_i={R:mt,MAX_LATITUDE:85.0511287798,project:function(s){var u=Math.PI/180,p=this.MAX_LATITUDE,T=Math.max(Math.min(p,s.lat),-p),w=Math.sin(T*u);return new se(this.R*s.lng*u,this.R*Math.log((1+w)/(1-w))/2)},unproject:function(s){var u=180/Math.PI;return new ge((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*u,s.x*u/this.R)},bounds:(function(){var s=mt*Math.PI;return new B([-s,-s],[s,s])})()};function $i(s,u,p,T){if(O(s)){this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3];return}this._a=s,this._b=u,this._c=p,this._d=T}$i.prototype={transform:function(s,u){return this._transform(s.clone(),u)},_transform:function(s,u){return u=u||1,s.x=u*(this._a*s.x+this._b),s.y=u*(this._c*s.y+this._d),s},untransform:function(s,u){return u=u||1,new se((s.x/u-this._b)/this._a,(s.y/u-this._d)/this._c)}};function xi(s,u,p,T){return new $i(s,u,p,T)}var ks=l({},ht,{code:"EPSG:3857",projection:_i,transformation:(function(){var s=.5/(Math.PI*_i.R);return xi(s,.5,-s,.5)})()}),Si=l({},ks,{code:"EPSG:900913"});function Us(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function zs(s,u){var p="",T,w,A,P,q,Y;for(T=0,A=s.length;T<A;T++){for(q=s[T],w=0,P=q.length;w<P;w++)Y=q[w],p+=(w?"L":"M")+Y.x+" "+Y.y;p+=u?_e.svg?"z":"x":""}return p||"M0 0"}var Va=document.documentElement.style,Go="ActiveXObject"in window,qa=Go&&!document.addEventListener,Bs="msLaunchUri"in navigator&&!("documentMode"in document),Vo=on("webkit"),al=on("android"),rl=on("android 2")||on("android 3"),Xt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),cc=al&&on("Google")&&Xt<537&&!("AudioNode"in window),Hs=!!window.opera,Fa=!Bs&&on("chrome"),qo=on("gecko")&&!Vo&&!Hs&&!Go,dc=!Fa&&on("safari"),Za=on("phantom"),ll="OTransition"in Va,fc=navigator.platform.indexOf("Win")===0,Wi=Go&&"transition"in Va,Gt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!rl,On="MozPerspective"in Va,Qt=!window.L_DISABLE_3D&&(Wi||Gt||On)&&!ll&&!Za,Fo=typeof orientation<"u"||on("mobile"),hc=Fo&&Vo,mc=Fo&&Gt,Zo=!window.PointerEvent&&window.MSPointerEvent,Yo=!!(window.PointerEvent||Zo),Jo="ontouchstart"in window||!!window.TouchEvent,Ti=!window.L_NO_TOUCH&&(Jo||Yo),Os=Fo&&Hs,jo=Fo&&qo,pc=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,ul=(function(){var s=!1;try{var u=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",b,u),window.removeEventListener("testPassiveEventSupport",b,u)}catch{}return s})(),Ya=(function(){return!!document.createElement("canvas").getContext})(),Ei=!!(document.createElementNS&&Us("svg").createSVGRect),gc=!!Ei&&(function(){var s=document.createElement("div");return s.innerHTML="<svg/>",(s.firstChild&&s.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),cl=!Ei&&(function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var u=s.firstChild;return u.style.behavior="url(#default#VML)",u&&typeof u.adj=="object"}catch{return!1}})(),dl=navigator.platform.indexOf("Mac")===0,fl=navigator.platform.indexOf("Linux")===0;function on(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var _e={ie:Go,ielt9:qa,edge:Bs,webkit:Vo,android:al,android23:rl,androidStock:cc,opera:Hs,chrome:Fa,gecko:qo,safari:dc,phantom:Za,opera12:ll,win:fc,ie3d:Wi,webkit3d:Gt,gecko3d:On,any3d:Qt,mobile:Fo,mobileWebkit:hc,mobileWebkit3d:mc,msPointer:Zo,pointer:Yo,touch:Ti,touchNative:Jo,mobileOpera:Os,mobileGecko:jo,retina:pc,passiveEvents:ul,canvas:Ya,svg:Ei,vml:cl,inlineSvg:gc,mac:dl,linux:fl},Ja=_e.msPointer?"MSPointerDown":"pointerdown",ja=_e.msPointer?"MSPointerMove":"pointermove",Gn=_e.msPointer?"MSPointerUp":"pointerup",Nt=_e.msPointer?"MSPointerCancel":"pointercancel",Ut={touchstart:Ja,touchmove:ja,touchend:Gn,touchcancel:Nt},bi={touchstart:to,touchmove:ii,touchend:ii,touchcancel:ii},ni={},hl=!1;function vc(s,u,p){return u==="touchstart"&&eo(),bi[u]?(p=bi[u].bind(this,p),s.addEventListener(Ut[u],p,!1),p):(console.warn("wrong event specified:",u),b)}function ml(s,u,p){if(!Ut[u]){console.warn("wrong event specified:",u);return}s.removeEventListener(Ut[u],p,!1)}function Ko(s){ni[s.pointerId]=s}function Ka(s){ni[s.pointerId]&&(ni[s.pointerId]=s)}function Ci(s){delete ni[s.pointerId]}function eo(){hl||(document.addEventListener(Ja,Ko,!0),document.addEventListener(ja,Ka,!0),document.addEventListener(Gn,Ci,!0),document.addEventListener(Nt,Ci,!0),hl=!0)}function ii(s,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){u.touches=[];for(var p in ni)u.touches.push(ni[p]);u.changedTouches=[u],s(u)}}function to(s,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&xt(u),ii(s,u)}function At(s){var u={},p,T;for(T in s)p=s[T],u[T]=p&&p.bind?p.bind(s):p;return s=u,u.type="dblclick",u.detail=2,u.isTrusted=!1,u._simulated=!0,u}var pl=200;function gl(s,u){s.addEventListener("dblclick",u);var p=0,T;function w(A){if(A.detail!==1){T=A.detail;return}if(!(A.pointerType==="mouse"||A.sourceCapabilities&&!A.sourceCapabilities.firesTouchEvents)){var P=ns(A);if(!(P.some(function(Y){return Y instanceof HTMLLabelElement&&Y.attributes.for})&&!P.some(function(Y){return Y instanceof HTMLInputElement||Y instanceof HTMLSelectElement}))){var q=Date.now();q-p<=pl?(T++,T===2&&u(At(A))):T=1,p=q}}}return s.addEventListener("click",w),{dblclick:u,simDblclick:w}}function wi(s,u){s.removeEventListener("dblclick",u.dblclick),s.removeEventListener("click",u.simDblclick)}var oi=$o(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Xo=$o(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Xa=Xo==="webkitTransition"||Xo==="OTransition"?Xo+"End":"transitionend";function Qa(s){return typeof s=="string"?document.getElementById(s):s}function Qo(s,u){var p=s.style[u]||s.currentStyle&&s.currentStyle[u];if((!p||p==="auto")&&document.defaultView){var T=document.defaultView.getComputedStyle(s,null);p=T?T[u]:null}return p==="auto"?null:p}function Be(s,u,p){var T=document.createElement(s);return T.className=u||"",p&&p.appendChild(T),T}function it(s){var u=s.parentNode;u&&u.removeChild(s)}function sn(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function Dt(s){var u=s.parentNode;u&&u.lastChild!==s&&u.appendChild(s)}function Ni(s){var u=s.parentNode;u&&u.firstChild!==s&&u.insertBefore(s,u.firstChild)}function $a(s,u){if(s.classList!==void 0)return s.classList.contains(u);var p=Gs(s);return p.length>0&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(p)}function Me(s,u){if(s.classList!==void 0)for(var p=k(u),T=0,w=p.length;T<w;T++)s.classList.add(p[T]);else if(!$a(s,u)){var A=Gs(s);no(s,(A?A+" ":"")+u)}}function pt(s,u){s.classList!==void 0?s.classList.remove(u):no(s,R((" "+Gs(s)+" ").replace(" "+u+" "," ")))}function no(s,u){s.className.baseVal===void 0?s.className=u:s.className.baseVal=u}function Gs(s){return s.correspondingElement&&(s=s.correspondingElement),s.className.baseVal===void 0?s.className:s.className.baseVal}function dt(s,u){"opacity"in s.style?s.style.opacity=u:"filter"in s.style&&Wa(s,u)}function Wa(s,u){var p=!1,T="DXImageTransform.Microsoft.Alpha";try{p=s.filters.item(T)}catch{if(u===1)return}u=Math.round(u*100),p?(p.Enabled=u!==100,p.Opacity=u):s.style.filter+=" progid:"+T+"(opacity="+u+")"}function $o(s){for(var u=document.documentElement.style,p=0;p<s.length;p++)if(s[p]in u)return s[p];return!1}function Vn(s,u,p){var T=u||new se(0,0);s.style[oi]=(_e.ie3d?"translate("+T.x+"px,"+T.y+"px)":"translate3d("+T.x+"px,"+T.y+"px,0)")+(p?" scale("+p+")":"")}function ut(s,u){s._leaflet_pos=u,_e.any3d?Vn(s,u):(s.style.left=u.x+"px",s.style.top=u.y+"px")}function si(s){return s._leaflet_pos||new se(0,0)}var io,wn,er;if("onselectstart"in document)io=function(){we(window,"selectstart",xt)},wn=function(){et(window,"selectstart",xt)};else{var oo=$o(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);io=function(){if(oo){var s=document.documentElement.style;er=s[oo],s[oo]="none"}},wn=function(){oo&&(document.documentElement.style[oo]=er,er=void 0)}}function Vs(){we(window,"dragstart",xt)}function Wo(){et(window,"dragstart",xt)}var qs,tr;function so(s){for(;s.tabIndex===-1;)s=s.parentNode;s.style&&(an(),qs=s,tr=s.style.outlineStyle,s.style.outlineStyle="none",we(window,"keydown",an))}function an(){qs&&(qs.style.outlineStyle=tr,qs=void 0,tr=void 0,et(window,"keydown",an))}function Fs(s){do s=s.parentNode;while((!s.offsetWidth||!s.offsetHeight)&&s!==document.body);return s}function es(s){var u=s.getBoundingClientRect();return{x:u.width/s.offsetWidth||1,y:u.height/s.offsetHeight||1,boundingClientRect:u}}var ao={__proto__:null,TRANSFORM:oi,TRANSITION:Xo,TRANSITION_END:Xa,get:Qa,getStyle:Qo,create:Be,remove:it,empty:sn,toFront:Dt,toBack:Ni,hasClass:$a,addClass:Me,removeClass:pt,setClass:no,getClass:Gs,setOpacity:dt,testProp:$o,setTransform:Vn,setPosition:ut,getPosition:si,get disableTextSelection(){return io},get enableTextSelection(){return wn},disableImageDrag:Vs,enableImageDrag:Wo,preventOutline:so,restoreOutline:an,getSizedParentNode:Fs,getScale:es};function we(s,u,p,T){if(u&&typeof u=="object")for(var w in u)yn(s,w,u[w],p);else{u=k(u);for(var A=0,P=u.length;A<P;A++)yn(s,u[A],p,T)}return this}var vn="_leaflet_events";function et(s,u,p,T){if(arguments.length===1)nr(s),delete s[vn];else if(u&&typeof u=="object")for(var w in u)ts(s,w,u[w],p);else if(u=k(u),arguments.length===2)nr(s,function(q){return ie(u,q)!==-1});else for(var A=0,P=u.length;A<P;A++)ts(s,u[A],p,T);return this}function nr(s,u){for(var p in s[vn]){var T=p.split(/\d/)[0];(!u||u(T))&&ts(s,T,null,null,p)}}var Ai={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function yn(s,u,p,T){var w=u+x(p)+(T?"_"+x(T):"");if(s[vn]&&s[vn][w])return this;var A=function(q){return p.call(T||s,q||window.event)},P=A;!_e.touchNative&&_e.pointer&&u.indexOf("touch")===0?A=vc(s,u,A):_e.touch&&u==="dblclick"?A=gl(s,A):"addEventListener"in s?u==="touchstart"||u==="touchmove"||u==="wheel"||u==="mousewheel"?s.addEventListener(Ai[u]||u,A,_e.passiveEvents?{passive:!1}:!1):u==="mouseenter"||u==="mouseleave"?(A=function(q){q=q||window.event,qn(s,q)&&P(q)},s.addEventListener(Ai[u],A,!1)):s.addEventListener(u,P,!1):s.attachEvent("on"+u,A),s[vn]=s[vn]||{},s[vn][w]=A}function ts(s,u,p,T,w){w=w||u+x(p)+(T?"_"+x(T):"");var A=s[vn]&&s[vn][w];if(!A)return this;!_e.touchNative&&_e.pointer&&u.indexOf("touch")===0?ml(s,u,A):_e.touch&&u==="dblclick"?wi(s,A):"removeEventListener"in s?s.removeEventListener(Ai[u]||u,A,!1):s.detachEvent("on"+u,A),s[vn][w]=null}function _n(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function Nn(s){return yn(s,"wheel",_n),this}function Mi(s){return we(s,"mousedown touchstart dblclick contextmenu",_n),s._leaflet_disable_click=!0,this}function xt(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function ai(s){return xt(s),_n(s),this}function ns(s){if(s.composedPath)return s.composedPath();for(var u=[],p=s.target;p;)u.push(p),p=p.parentNode;return u}function is(s,u){if(!u)return new se(s.clientX,s.clientY);var p=es(u),T=p.boundingClientRect;return new se((s.clientX-T.left)/p.x-u.clientLeft,(s.clientY-T.top)/p.y-u.clientTop)}var vl=_e.linux&&_e.chrome?window.devicePixelRatio:_e.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Vt(s){return _e.edge?s.wheelDeltaY/2:s.deltaY&&s.deltaMode===0?-s.deltaY/vl:s.deltaY&&s.deltaMode===1?-s.deltaY*20:s.deltaY&&s.deltaMode===2?-s.deltaY*60:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?-s.detail*20:s.detail?s.detail/-32765*60:0}function qn(s,u){var p=u.relatedTarget;if(!p)return!0;try{for(;p&&p!==s;)p=p.parentNode}catch{return!1}return p!==s}var Zs={__proto__:null,on:we,off:et,stopPropagation:_n,disableScrollPropagation:Nn,disableClickPropagation:Mi,preventDefault:xt,stop:ai,getPropagationPath:ns,getMousePosition:is,getWheelDelta:Vt,isExternalTarget:qn,addListener:we,removeListener:et},ro=ae.extend({run:function(s,u,p,T){this.stop(),this._el=s,this._inProgress=!0,this._duration=p||.25,this._easeOutPower=1/Math.max(T||.5,.2),this._startPos=si(s),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=be(this._animate,this),this._step()},_step:function(s){var u=+new Date-this._startTime,p=this._duration*1e3;u<p?this._runFrame(this._easeOut(u/p),s):(this._runFrame(1),this._complete())},_runFrame:function(s,u){var p=this._startPos.add(this._offset.multiplyBy(s));u&&p._round(),ut(this._el,p),this.fire("step")},_complete:function(){Le(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),Ve=ae.extend({options:{crs:ks,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,u){u=D(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=h(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),u.zoom!==void 0&&(this._zoom=this._limitZoom(u.zoom)),u.center&&u.zoom!==void 0&&this.setView(me(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Xo&&_e.any3d&&!_e.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),we(this._proxy,Xa,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,u,p){if(u=u===void 0?this._zoom:this._limitZoom(u),s=this._limitCenter(me(s),u,this.options.maxBounds),p=p||{},this._stop(),this._loaded&&!p.reset&&p!==!0){p.animate!==void 0&&(p.zoom=l({animate:p.animate},p.zoom),p.pan=l({animate:p.animate,duration:p.duration},p.pan));var T=this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,u,p.zoom):this._tryAnimatedPan(s,p.pan);if(T)return clearTimeout(this._sizeTimer),this}return this._resetView(s,u,p.pan&&p.pan.noMoveStart),this},setZoom:function(s,u){return this._loaded?this.setView(this.getCenter(),s,{zoom:u}):(this._zoom=s,this)},zoomIn:function(s,u){return s=s||(_e.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+s,u)},zoomOut:function(s,u){return s=s||(_e.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-s,u)},setZoomAround:function(s,u,p){var T=this.getZoomScale(u),w=this.getSize().divideBy(2),A=s instanceof se?s:this.latLngToContainerPoint(s),P=A.subtract(w).multiplyBy(1-1/T),q=this.containerPointToLatLng(w.add(P));return this.setView(q,u,{zoom:p})},_getBoundsCenterZoom:function(s,u){u=u||{},s=s.getBounds?s.getBounds():ue(s);var p=he(u.paddingTopLeft||u.padding||[0,0]),T=he(u.paddingBottomRight||u.padding||[0,0]),w=this.getBoundsZoom(s,!1,p.add(T));if(w=typeof u.maxZoom=="number"?Math.min(u.maxZoom,w):w,w===1/0)return{center:s.getCenter(),zoom:w};var A=T.subtract(p).divideBy(2),P=this.project(s.getSouthWest(),w),q=this.project(s.getNorthEast(),w),Y=this.unproject(P.add(q).divideBy(2).add(A),w);return{center:Y,zoom:w}},fitBounds:function(s,u){if(s=ue(s),!s.isValid())throw new Error("Bounds are not valid.");var p=this._getBoundsCenterZoom(s,u);return this.setView(p.center,p.zoom,u)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,u){return this.setView(s,this._zoom,{pan:u})},panBy:function(s,u){if(s=he(s).round(),u=u||{},!s.x&&!s.y)return this.fire("moveend");if(u.animate!==!0&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new ro,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),u.animate!==!1){Me(this._mapPane,"leaflet-pan-anim");var p=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,p,u.duration||.25,u.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,u,p){if(p=p||{},p.animate===!1||!_e.any3d)return this.setView(s,u,p);this._stop();var T=this.project(this.getCenter()),w=this.project(s),A=this.getSize(),P=this._zoom;s=me(s),u=u===void 0?P:u;var q=Math.max(A.x,A.y),Y=q*this.getZoomScale(P,u),te=w.distanceTo(T)||1,ce=1.42,xe=ce*ce;function De(_t){var Jn=_t?-1:1,Di=_t?Y:q,vr=Y*Y-q*q+Jn*xe*xe*te*te,_s=2*Di*xe*te,xs=vr/_s,pi=Math.sqrt(xs*xs+1)-xs,jn=pi<1e-9?-18:Math.log(pi);return jn}function Pt(_t){return(Math.exp(_t)-Math.exp(-_t))/2}function St(_t){return(Math.exp(_t)+Math.exp(-_t))/2}function Wt(_t){return Pt(_t)/St(_t)}var Ze=De(0);function Ye(_t){return q*(St(Ze)/St(Ze+ce*_t))}function He(_t){return q*(St(Ze)*Wt(Ze+ce*_t)-Pt(Ze))/xe}function hi(_t){return 1-Math.pow(1-_t,1.5)}var cn=Date.now(),sa=(De(1)-Ze)/ce,mi=p.duration?1e3*p.duration:1e3*sa*.8;function gr(){var _t=(Date.now()-cn)/mi,Jn=hi(_t)*sa;_t<=1?(this._flyToFrame=be(gr,this),this._move(this.unproject(T.add(w.subtract(T).multiplyBy(He(Jn)/te)),P),this.getScaleZoom(q/Ye(Jn),P),{flyTo:!0})):this._move(s,u)._moveEnd(!0)}return this._moveStart(!0,p.noMoveStart),gr.call(this),this},flyToBounds:function(s,u){var p=this._getBoundsCenterZoom(s,u);return this.flyTo(p.center,p.zoom,u)},setMaxBounds:function(s){return s=ue(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var u=this.options.minZoom;return this.options.minZoom=s,this._loaded&&u!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var u=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&u!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,u){this._enforcingBounds=!0;var p=this.getCenter(),T=this._limitCenter(p,this._zoom,ue(s));return p.equals(T)||this.panTo(T,u),this._enforcingBounds=!1,this},panInside:function(s,u){u=u||{};var p=he(u.paddingTopLeft||u.padding||[0,0]),T=he(u.paddingBottomRight||u.padding||[0,0]),w=this.project(this.getCenter()),A=this.project(s),P=this.getPixelBounds(),q=Q([P.min.add(p),P.max.subtract(T)]),Y=q.getSize();if(!q.contains(A)){this._enforcingBounds=!0;var te=A.subtract(q.getCenter()),ce=q.extend(A).getSize().subtract(Y);w.x+=te.x<0?-ce.x:ce.x,w.y+=te.y<0?-ce.y:ce.y,this.panTo(this.unproject(w),u),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=l({animate:!1,pan:!0},s===!0?{animate:!0}:s);var u=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var p=this.getSize(),T=u.divideBy(2).round(),w=p.divideBy(2).round(),A=T.subtract(w);return!A.x&&!A.y?this:(s.animate&&s.pan?this.panBy(A):(s.pan&&this._rawPanBy(A),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(h(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:p}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=l({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var u=h(this._handleGeolocationResponse,this),p=h(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,p,s):navigator.geolocation.getCurrentPosition(u,p,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var u=s.code,p=s.message||(u===1?"permission denied":u===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+p+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var u=s.coords.latitude,p=s.coords.longitude,T=new ge(u,p),w=T.toBounds(s.coords.accuracy*2),A=this._locateOptions;if(A.setView){var P=this.getBoundsZoom(w);this.setView(T,A.maxZoom?Math.min(P,A.maxZoom):P)}var q={latlng:T,bounds:w,timestamp:s.timestamp};for(var Y in s.coords)typeof s.coords[Y]=="number"&&(q[Y]=s.coords[Y]);this.fire("locationfound",q)}},addHandler:function(s,u){if(!u)return this;var p=this[s]=new u(this);return this._handlers.push(p),this.options[s]&&p.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),it(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Le(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var s;for(s in this._layers)this._layers[s].remove();for(s in this._panes)it(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,u){var p="leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),T=Be("div",p,u||this._mapPane);return s&&(this._panes[s]=T),T},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds(),u=this.unproject(s.getBottomLeft()),p=this.unproject(s.getTopRight());return new re(u,p)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,u,p){s=ue(s),p=he(p||[0,0]);var T=this.getZoom()||0,w=this.getMinZoom(),A=this.getMaxZoom(),P=s.getNorthWest(),q=s.getSouthEast(),Y=this.getSize().subtract(p),te=Q(this.project(q,T),this.project(P,T)).getSize(),ce=_e.any3d?this.options.zoomSnap:1,xe=Y.x/te.x,De=Y.y/te.y,Pt=u?Math.max(xe,De):Math.min(xe,De);return T=this.getScaleZoom(Pt,T),ce&&(T=Math.round(T/(ce/100))*(ce/100),T=u?Math.ceil(T/ce)*ce:Math.floor(T/ce)*ce),Math.max(w,Math.min(A,T))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new se(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,u){var p=this._getTopLeftPoint(s,u);return new B(p,p.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(s===void 0?this.getZoom():s)},getPane:function(s){return typeof s=="string"?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,u){var p=this.options.crs;return u=u===void 0?this._zoom:u,p.scale(s)/p.scale(u)},getScaleZoom:function(s,u){var p=this.options.crs;u=u===void 0?this._zoom:u;var T=p.zoom(s*p.scale(u));return isNaN(T)?1/0:T},project:function(s,u){return u=u===void 0?this._zoom:u,this.options.crs.latLngToPoint(me(s),u)},unproject:function(s,u){return u=u===void 0?this._zoom:u,this.options.crs.pointToLatLng(he(s),u)},layerPointToLatLng:function(s){var u=he(s).add(this.getPixelOrigin());return this.unproject(u)},latLngToLayerPoint:function(s){var u=this.project(me(s))._round();return u._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(me(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(ue(s))},distance:function(s,u){return this.options.crs.distance(me(s),me(u))},containerPointToLayerPoint:function(s){return he(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return he(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var u=this.containerPointToLayerPoint(he(s));return this.layerPointToLatLng(u)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(me(s)))},mouseEventToContainerPoint:function(s){return is(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var u=this._container=Qa(s);if(u){if(u._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");we(u,"scroll",this._onScroll,this),this._containerId=x(u)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&_e.any3d,Me(s,"leaflet-container"+(_e.touch?" leaflet-touch":"")+(_e.retina?" leaflet-retina":"")+(_e.ielt9?" leaflet-oldie":"")+(_e.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var u=Qo(s,"position");u!=="absolute"&&u!=="relative"&&u!=="fixed"&&u!=="sticky"&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ut(this._mapPane,new se(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Me(s.markerPane,"leaflet-zoom-hide"),Me(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,u,p){ut(this._mapPane,new se(0,0));var T=!this._loaded;this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset");var w=this._zoom!==u;this._moveStart(w,p)._move(s,u)._moveEnd(w),this.fire("viewreset"),T&&this.fire("load")},_moveStart:function(s,u){return s&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(s,u,p,T){u===void 0&&(u=this._zoom);var w=this._zoom!==u;return this._zoom=u,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),T?p&&p.pinch&&this.fire("zoom",p):((w||p&&p.pinch)&&this.fire("zoom",p),this.fire("move",p)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Le(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){ut(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[x(this._container)]=this;var u=s?et:we;u(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),_e.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Le(this._resizeRequest),this._resizeRequest=be(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,u){for(var p=[],T,w=u==="mouseout"||u==="mouseover",A=s.target||s.srcElement,P=!1;A;){if(T=this._targets[x(A)],T&&(u==="click"||u==="preclick")&&this._draggableMoved(T)){P=!0;break}if(T&&T.listens(u,!0)&&(w&&!qn(A,s)||(p.push(T),w))||A===this._container)break;A=A.parentNode}return!p.length&&!P&&!w&&this.listens(u,!0)&&(p=[this]),p},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var u=s.target||s.srcElement;if(!(!this._loaded||u._leaflet_disable_events||s.type==="click"&&this._isClickDisabled(u))){var p=s.type;p==="mousedown"&&so(u),this._fireDOMEvent(s,p)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,u,p){if(s.type==="click"){var T=l({},s);T.type="preclick",this._fireDOMEvent(T,T.type,p)}var w=this._findEventTargets(s,u);if(p){for(var A=[],P=0;P<p.length;P++)p[P].listens(u,!0)&&A.push(p[P]);w=A.concat(w)}if(w.length){u==="contextmenu"&&xt(s);var q=w[0],Y={originalEvent:s};if(s.type!=="keypress"&&s.type!=="keydown"&&s.type!=="keyup"){var te=q.getLatLng&&(!q._radius||q._radius<=10);Y.containerPoint=te?this.latLngToContainerPoint(q.getLatLng()):this.mouseEventToContainerPoint(s),Y.layerPoint=this.containerPointToLayerPoint(Y.containerPoint),Y.latlng=te?q.getLatLng():this.layerPointToLatLng(Y.layerPoint)}for(P=0;P<w.length;P++)if(w[P].fire(u,Y,!0),Y.originalEvent._stopped||w[P].options.bubblingMouseEvents===!1&&ie(this._mouseEvents,u)!==-1)return}},_draggableMoved:function(s){return s=s.dragging&&s.dragging.enabled()?s:this,s.dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,u=this._handlers.length;s<u;s++)this._handlers[s].disable()},whenReady:function(s,u){return this._loaded?s.call(u||this,{target:this}):this.on("load",s,u),this},_getMapPanePos:function(){return si(this._mapPane)||new se(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,u){var p=s&&u!==void 0?this._getNewPixelOrigin(s,u):this.getPixelOrigin();return p.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,u){var p=this.getSize()._divideBy(2);return this.project(s,u)._subtract(p)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,u,p){var T=this._getNewPixelOrigin(p,u);return this.project(s,u)._subtract(T)},_latLngBoundsToNewLayerBounds:function(s,u,p){var T=this._getNewPixelOrigin(p,u);return Q([this.project(s.getSouthWest(),u)._subtract(T),this.project(s.getNorthWest(),u)._subtract(T),this.project(s.getSouthEast(),u)._subtract(T),this.project(s.getNorthEast(),u)._subtract(T)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,u,p){if(!p)return s;var T=this.project(s,u),w=this.getSize().divideBy(2),A=new B(T.subtract(w),T.add(w)),P=this._getBoundsOffset(A,p,u);return Math.abs(P.x)<=1&&Math.abs(P.y)<=1?s:this.unproject(T.add(P),u)},_limitOffset:function(s,u){if(!u)return s;var p=this.getPixelBounds(),T=new B(p.min.add(s),p.max.add(s));return s.add(this._getBoundsOffset(T,u))},_getBoundsOffset:function(s,u,p){var T=Q(this.project(u.getNorthEast(),p),this.project(u.getSouthWest(),p)),w=T.min.subtract(s.min),A=T.max.subtract(s.max),P=this._rebound(w.x,-A.x),q=this._rebound(w.y,-A.y);return new se(P,q)},_rebound:function(s,u){return s+u>0?Math.round(s-u)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(u))},_limitZoom:function(s){var u=this.getMinZoom(),p=this.getMaxZoom(),T=_e.any3d?this.options.zoomSnap:1;return T&&(s=Math.round(s/T)*T),Math.max(u,Math.min(p,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){pt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,u){var p=this._getCenterOffset(s)._trunc();return(u&&u.animate)!==!0&&!this.getSize().contains(p)?!1:(this.panBy(p,u),!0)},_createAnimProxy:function(){var s=this._proxy=Be("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(u){var p=oi,T=this._proxy.style[p];Vn(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),T===this._proxy.style[p]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){it(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),u=this.getZoom();Vn(this._proxy,this.project(s,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,u,p){if(this._animatingZoom)return!0;if(p=p||{},!this._zoomAnimated||p.animate===!1||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var T=this.getZoomScale(u),w=this._getCenterOffset(s)._divideBy(1-1/T);return p.animate!==!0&&!this.getSize().contains(w)?!1:(be(function(){this._moveStart(!0,p.noMoveStart||!1)._animateZoom(s,u,!0)},this),!0)},_animateZoom:function(s,u,p,T){this._mapPane&&(p&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=u,Me(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:u,noUpdate:T}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(h(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&pt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function ir(s,u){return new Ve(s,u)}var $t=ee.extend({options:{position:"topright"},initialize:function(s){D(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var u=this._map;return u&&u.removeControl(this),this.options.position=s,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var u=this._container=this.onAdd(s),p=this.getPosition(),T=s._controlCorners[p];return Me(u,"leaflet-control"),p.indexOf("bottom")!==-1?T.insertBefore(u,T.firstChild):T.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(it(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),Fn=function(s){return new $t(s)};Ve.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},u="leaflet-",p=this._controlContainer=Be("div",u+"control-container",this._container);function T(w,A){var P=u+w+" "+u+A;s[w+A]=Be("div",P,p)}T("top","left"),T("top","right"),T("bottom","left"),T("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)it(this._controlCorners[s]);it(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var os=$t.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,u,p,T){return p<T?-1:T<p?1:0}},initialize:function(s,u,p){D(this,p),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var T in s)this._addLayer(s[T],T);for(T in u)this._addLayer(u[T],T,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return $t.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,u){return this._addLayer(s,u),this._map?this._update():this},addOverlay:function(s,u){return this._addLayer(s,u,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var u=this._getLayer(x(s));return u&&this._layers.splice(this._layers.indexOf(u),1),this._map?this._update():this},expand:function(){Me(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(Me(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):pt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return pt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",u=this._container=Be("div",s),p=this.options.collapsed;u.setAttribute("aria-haspopup",!0),Mi(u),Nn(u);var T=this._section=Be("section",s+"-list");p&&(this._map.on("click",this.collapse,this),we(u,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var w=this._layersLink=Be("a",s+"-toggle",u);w.href="#",w.title="Layers",w.setAttribute("role","button"),we(w,{keydown:function(A){A.keyCode===13&&this._expandSafely()},click:function(A){xt(A),this._expandSafely()}},this),p||this.expand(),this._baseLayersList=Be("div",s+"-base",T),this._separator=Be("div",s+"-separator",T),this._overlaysList=Be("div",s+"-overlays",T),u.appendChild(T)},_getLayer:function(s){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&x(this._layers[u].layer)===s)return this._layers[u]},_addLayer:function(s,u,p){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:u,overlay:p}),this.options.sortLayers&&this._layers.sort(h(function(T,w){return this.options.sortFunction(T.layer,w.layer,T.name,w.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;sn(this._baseLayersList),sn(this._overlaysList),this._layerControlInputs=[];var s,u,p,T,w=0;for(p=0;p<this._layers.length;p++)T=this._layers[p],this._addItem(T),u=u||T.overlay,s=s||!T.overlay,w+=T.overlay?0:1;return this.options.hideSingleBase&&(s=s&&w>1,this._baseLayersList.style.display=s?"":"none"),this._separator.style.display=u&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var u=this._getLayer(x(s.target)),p=u.overlay?s.type==="add"?"overlayadd":"overlayremove":s.type==="add"?"baselayerchange":null;p&&this._map.fire(p,u)},_createRadioElement:function(s,u){var p='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(u?' checked="checked"':"")+"/>",T=document.createElement("div");return T.innerHTML=p,T.firstChild},_addItem:function(s){var u=document.createElement("label"),p=this._map.hasLayer(s.layer),T;s.overlay?(T=document.createElement("input"),T.type="checkbox",T.className="leaflet-control-layers-selector",T.defaultChecked=p):T=this._createRadioElement("leaflet-base-layers_"+x(this),p),this._layerControlInputs.push(T),T.layerId=x(s.layer),we(T,"click",this._onInputClick,this);var w=document.createElement("span");w.innerHTML=" "+s.name;var A=document.createElement("span");u.appendChild(A),A.appendChild(T),A.appendChild(w);var P=s.overlay?this._overlaysList:this._baseLayersList;return P.appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){if(!this._preventClick){var s=this._layerControlInputs,u,p,T=[],w=[];this._handlingClick=!0;for(var A=s.length-1;A>=0;A--)u=s[A],p=this._getLayer(u.layerId).layer,u.checked?T.push(p):u.checked||w.push(p);for(A=0;A<w.length;A++)this._map.hasLayer(w[A])&&this._map.removeLayer(w[A]);for(A=0;A<T.length;A++)this._map.hasLayer(T[A])||this._map.addLayer(T[A]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var s=this._layerControlInputs,u,p,T=this._map.getZoom(),w=s.length-1;w>=0;w--)u=s[w],p=this._getLayer(u.layerId).layer,u.disabled=p.options.minZoom!==void 0&&T<p.options.minZoom||p.options.maxZoom!==void 0&&T>p.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,we(s,"click",xt),this.expand();var u=this;setTimeout(function(){et(s,"click",xt),u._preventClick=!1})}}),yl=function(s,u,p){return new os(s,u,p)},or=$t.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var u="leaflet-control-zoom",p=Be("div",u+" leaflet-bar"),T=this.options;return this._zoomInButton=this._createButton(T.zoomInText,T.zoomInTitle,u+"-in",p,this._zoomIn),this._zoomOutButton=this._createButton(T.zoomOutText,T.zoomOutTitle,u+"-out",p,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),p},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,u,p,T,w){var A=Be("a",p,T);return A.innerHTML=s,A.href="#",A.title=u,A.setAttribute("role","button"),A.setAttribute("aria-label",u),Mi(A),we(A,"click",ai),we(A,"click",w,this),we(A,"click",this._refocusOnMap,this),A},_updateDisabled:function(){var s=this._map,u="leaflet-disabled";pt(this._zoomInButton,u),pt(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(Me(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(Me(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}});Ve.mergeOptions({zoomControl:!0}),Ve.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new or,this.addControl(this.zoomControl))});var yc=function(s){return new or(s)},_l=$t.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var u="leaflet-control-scale",p=Be("div",u),T=this.options;return this._addScales(T,u+"-line",p),s.on(T.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),p},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,u,p){s.metric&&(this._mScale=Be("div",u,p)),s.imperial&&(this._iScale=Be("div",u,p))},_update:function(){var s=this._map,u=s.getSize().y/2,p=s.distance(s.containerPointToLatLng([0,u]),s.containerPointToLatLng([this.options.maxWidth,u]));this._updateScales(p)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var u=this._getRoundNum(s),p=u<1e3?u+" m":u/1e3+" km";this._updateScale(this._mScale,p,u/s)},_updateImperial:function(s){var u=s*3.2808399,p,T,w;u>5280?(p=u/5280,T=this._getRoundNum(p),this._updateScale(this._iScale,T+" mi",T/p)):(w=this._getRoundNum(u),this._updateScale(this._iScale,w+" ft",w/u))},_updateScale:function(s,u,p){s.style.width=Math.round(this.options.maxWidth*p)+"px",s.innerHTML=u},_getRoundNum:function(s){var u=Math.pow(10,(Math.floor(s)+"").length-1),p=s/u;return p=p>=10?10:p>=5?5:p>=3?3:p>=2?2:1,u*p}}),sr=function(s){return new _l(s)},_c='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',ar=$t.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(_e.inlineSvg?_c+" ":"")+"Leaflet</a>"},initialize:function(s){D(this,s),this._attributions={}},onAdd:function(s){s.attributionControl=this,this._container=Be("div","leaflet-control-attribution"),Mi(this._container);for(var u in s._layers)s._layers[u].getAttribution&&this.addAttribution(s._layers[u].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var u in this._attributions)this._attributions[u]&&s.push(u);var p=[];this.options.prefix&&p.push(this.options.prefix),s.length&&p.push(s.join(", ")),this._container.innerHTML=p.join(' <span aria-hidden="true">|</span> ')}}});Ve.mergeOptions({attributionControl:!0}),Ve.addInitHook(function(){this.options.attributionControl&&new ar().addTo(this)});var xc=function(s){return new ar(s)};$t.Layers=os,$t.Zoom=or,$t.Scale=_l,$t.Attribution=ar,Fn.layers=yl,Fn.zoom=yc,Fn.scale=sr,Fn.attribution=xc;var An=ee.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});An.addTo=function(s,u){return s.addHandler(u,this),this};var Sc={Events:j},rr=_e.touch?"touchstart mousedown":"mousedown",ri=ae.extend({options:{clickTolerance:3},initialize:function(s,u,p,T){D(this,T),this._element=s,this._dragStartTarget=u||s,this._preventOutline=p},enable:function(){this._enabled||(we(this._dragStartTarget,rr,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ri._dragging===this&&this.finishDrag(!0),et(this._dragStartTarget,rr,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!$a(this._element,"leaflet-zoom-anim"))){if(s.touches&&s.touches.length!==1){ri._dragging===this&&this.finishDrag();return}if(!(ri._dragging||s.shiftKey||s.which!==1&&s.button!==1&&!s.touches)&&(ri._dragging=this,this._preventOutline&&so(this._element),Vs(),io(),!this._moving)){this.fire("down");var u=s.touches?s.touches[0]:s,p=Fs(this._element);this._startPoint=new se(u.clientX,u.clientY),this._startPos=si(this._element),this._parentScale=es(p);var T=s.type==="mousedown";we(document,T?"mousemove":"touchmove",this._onMove,this),we(document,T?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1){this._moved=!0;return}var u=s.touches&&s.touches.length===1?s.touches[0]:s,p=new se(u.clientX,u.clientY)._subtract(this._startPoint);!p.x&&!p.y||Math.abs(p.x)+Math.abs(p.y)<this.options.clickTolerance||(p.x/=this._parentScale.x,p.y/=this._parentScale.y,xt(s),this._moved||(this.fire("dragstart"),this._moved=!0,Me(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Me(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(p),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),ut(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){pt(document.body,"leaflet-dragging"),this._lastTarget&&(pt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),et(document,"mousemove touchmove",this._onMove,this),et(document,"mouseup touchend touchcancel",this._onUp,this),Wo(),wn();var u=this._moved&&this._moving;this._moving=!1,ri._dragging=!1,u&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function xl(s,u,p){var T,w=[1,4,2,8],A,P,q,Y,te,ce,xe,De;for(A=0,ce=s.length;A<ce;A++)s[A]._code=Ri(s[A],u);for(q=0;q<4;q++){for(xe=w[q],T=[],A=0,ce=s.length,P=ce-1;A<ce;P=A++)Y=s[A],te=s[P],Y._code&xe?te._code&xe||(De=Ys(te,Y,xe,u,p),De._code=Ri(De,u),T.push(De)):(te._code&xe&&(De=Ys(te,Y,xe,u,p),De._code=Ri(De,u),T.push(De)),T.push(Y));s=T}return s}function Sl(s,u){var p,T,w,A,P,q,Y,te,ce;if(!s||s.length===0)throw new Error("latlngs not passed");rn(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var xe=me([0,0]),De=ue(s),Pt=De.getNorthWest().distanceTo(De.getSouthWest())*De.getNorthEast().distanceTo(De.getNorthWest());Pt<1700&&(xe=lr(s));var St=s.length,Wt=[];for(p=0;p<St;p++){var Ze=me(s[p]);Wt.push(u.project(me([Ze.lat-xe.lat,Ze.lng-xe.lng])))}for(q=Y=te=0,p=0,T=St-1;p<St;T=p++)w=Wt[p],A=Wt[T],P=w.y*A.x-A.y*w.x,Y+=(w.x+A.x)*P,te+=(w.y+A.y)*P,q+=P*3;q===0?ce=Wt[0]:ce=[Y/q,te/q];var Ye=u.unproject(he(ce));return me([Ye.lat+xe.lat,Ye.lng+xe.lng])}function lr(s){for(var u=0,p=0,T=0,w=0;w<s.length;w++){var A=me(s[w]);u+=A.lat,p+=A.lng,T++}return me([u/T,p/T])}var ur={__proto__:null,clipPolygon:xl,polygonCenter:Sl,centroid:lr};function Tl(s,u){if(!u||!s.length)return s.slice();var p=u*u;return s=Ec(s,p),s=bl(s,p),s}function El(s,u,p){return Math.sqrt(ss(s,u,p,!0))}function Tc(s,u,p){return ss(s,u,p)}function bl(s,u){var p=s.length,T=typeof Uint8Array<"u"?Uint8Array:Array,w=new T(p);w[0]=w[p-1]=1,cr(s,w,u,0,p-1);var A,P=[];for(A=0;A<p;A++)w[A]&&P.push(s[A]);return P}function cr(s,u,p,T,w){var A=0,P,q,Y;for(q=T+1;q<=w-1;q++)Y=ss(s[q],s[T],s[w],!0),Y>A&&(P=q,A=Y);A>p&&(u[P]=1,cr(s,u,p,T,P),cr(s,u,p,P,w))}function Ec(s,u){for(var p=[s[0]],T=1,w=0,A=s.length;T<A;T++)bc(s[T],s[w])>u&&(p.push(s[T]),w=T);return w<A-1&&p.push(s[A-1]),p}var Cl;function wl(s,u,p,T,w){var A=T?Cl:Ri(s,p),P=Ri(u,p),q,Y,te;for(Cl=P;;){if(!(A|P))return[s,u];if(A&P)return!1;q=A||P,Y=Ys(s,u,q,p,w),te=Ri(Y,p),q===A?(s=Y,A=te):(u=Y,P=te)}}function Ys(s,u,p,T,w){var A=u.x-s.x,P=u.y-s.y,q=T.min,Y=T.max,te,ce;return p&8?(te=s.x+A*(Y.y-s.y)/P,ce=Y.y):p&4?(te=s.x+A*(q.y-s.y)/P,ce=q.y):p&2?(te=Y.x,ce=s.y+P*(Y.x-s.x)/A):p&1&&(te=q.x,ce=s.y+P*(q.x-s.x)/A),new se(te,ce,w)}function Ri(s,u){var p=0;return s.x<u.min.x?p|=1:s.x>u.max.x&&(p|=2),s.y<u.min.y?p|=4:s.y>u.max.y&&(p|=8),p}function bc(s,u){var p=u.x-s.x,T=u.y-s.y;return p*p+T*T}function ss(s,u,p,T){var w=u.x,A=u.y,P=p.x-w,q=p.y-A,Y=P*P+q*q,te;return Y>0&&(te=((s.x-w)*P+(s.y-A)*q)/Y,te>1?(w=p.x,A=p.y):te>0&&(w+=P*te,A+=q*te)),P=s.x-w,q=s.y-A,T?P*P+q*q:new se(w,A)}function rn(s){return!O(s[0])||typeof s[0][0]!="object"&&typeof s[0][0]<"u"}function Js(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),rn(s)}function lo(s,u){var p,T,w,A,P,q,Y,te;if(!s||s.length===0)throw new Error("latlngs not passed");rn(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var ce=me([0,0]),xe=ue(s),De=xe.getNorthWest().distanceTo(xe.getSouthWest())*xe.getNorthEast().distanceTo(xe.getNorthWest());De<1700&&(ce=lr(s));var Pt=s.length,St=[];for(p=0;p<Pt;p++){var Wt=me(s[p]);St.push(u.project(me([Wt.lat-ce.lat,Wt.lng-ce.lng])))}for(p=0,T=0;p<Pt-1;p++)T+=St[p].distanceTo(St[p+1])/2;if(T===0)te=St[0];else for(p=0,A=0;p<Pt-1;p++)if(P=St[p],q=St[p+1],w=P.distanceTo(q),A+=w,A>T){Y=(A-T)/w,te=[q.x-Y*(q.x-P.x),q.y-Y*(q.y-P.y)];break}var Ze=u.unproject(he(te));return me([Ze.lat+ce.lat,Ze.lng+ce.lng])}var Cc={__proto__:null,simplify:Tl,pointToSegmentDistance:El,closestPointOnSegment:Tc,clipSegment:wl,_getEdgeIntersection:Ys,_getBitCode:Ri,_sqClosestPointOnSegment:ss,isFlat:rn,_flat:Js,polylineCenter:lo},js={project:function(s){return new se(s.lng,s.lat)},unproject:function(s){return new ge(s.y,s.x)},bounds:new B([-180,-90],[180,90])},Ks={R:6378137,R_MINOR:6356752314245179e-9,bounds:new B([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(s){var u=Math.PI/180,p=this.R,T=s.lat*u,w=this.R_MINOR/p,A=Math.sqrt(1-w*w),P=A*Math.sin(T),q=Math.tan(Math.PI/4-T/2)/Math.pow((1-P)/(1+P),A/2);return T=-p*Math.log(Math.max(q,1e-10)),new se(s.lng*u*p,T)},unproject:function(s){for(var u=180/Math.PI,p=this.R,T=this.R_MINOR/p,w=Math.sqrt(1-T*T),A=Math.exp(-s.y/p),P=Math.PI/2-2*Math.atan(A),q=0,Y=.1,te;q<15&&Math.abs(Y)>1e-7;q++)te=w*Math.sin(P),te=Math.pow((1-te)/(1+te),w/2),Y=Math.PI/2-2*Math.atan(A*te)-P,P+=Y;return new ge(P*u,s.x*u/p)}},Nl={__proto__:null,LonLat:js,Mercator:Ks,SphericalMercator:_i},Al=l({},ht,{code:"EPSG:3395",projection:Ks,transformation:(function(){var s=.5/(Math.PI*Ks.R);return xi(s,.5,-s,.5)})()}),dr=l({},ht,{code:"EPSG:4326",projection:js,transformation:xi(1/180,1,-1/180,.5)}),uo=l({},ke,{projection:js,transformation:xi(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,u){var p=u.lng-s.lng,T=u.lat-s.lat;return Math.sqrt(p*p+T*T)},infinite:!0});ke.Earth=ht,ke.EPSG3395=Al,ke.EPSG3857=ks,ke.EPSG900913=Si,ke.EPSG4326=dr,ke.Simple=uo;var xn=ae.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[x(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[x(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var u=s.target;if(u.hasLayer(this)){if(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents){var p=this.getEvents();u.on(p,this),this.once("remove",function(){u.off(p,this)},this)}this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this})}}});Ve.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var u=x(s);return this._layers[u]?this:(this._layers[u]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s),this)},removeLayer:function(s){var u=x(s);return this._layers[u]?(this._loaded&&s.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return x(s)in this._layers},eachLayer:function(s,u){for(var p in this._layers)s.call(u,this._layers[p]);return this},_addLayers:function(s){s=s?O(s)?s:[s]:[];for(var u=0,p=s.length;u<p;u++)this.addLayer(s[u])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[x(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var u=x(s);this._zoomBoundLayers[u]&&(delete this._zoomBoundLayers[u],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,u=-1/0,p=this._getZoomSpan();for(var T in this._zoomBoundLayers){var w=this._zoomBoundLayers[T].options;s=w.minZoom===void 0?s:Math.min(s,w.minZoom),u=w.maxZoom===void 0?u:Math.max(u,w.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=s===1/0?void 0:s,p!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var co=xn.extend({initialize:function(s,u){D(this,u),this._layers={};var p,T;if(s)for(p=0,T=s.length;p<T;p++)this.addLayer(s[p])},addLayer:function(s){var u=this.getLayerId(s);return this._layers[u]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var u=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[u]&&this._map.removeLayer(this._layers[u]),delete this._layers[u],this},hasLayer:function(s){var u=typeof s=="number"?s:this.getLayerId(s);return u in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var u=Array.prototype.slice.call(arguments,1),p,T;for(p in this._layers)T=this._layers[p],T[s]&&T[s].apply(T,u);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,u){for(var p in this._layers)s.call(u,this._layers[p]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return x(s)}}),wc=function(s,u){return new co(s,u)},Mn=co.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),co.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),co.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new re;for(var u in this._layers){var p=this._layers[u];s.extend(p.getBounds?p.getBounds():p.getLatLng())}return s}}),Ml=function(s,u){return new Mn(s,u)},Rn=ee.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){D(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,u){var p=this._getIconUrl(s);if(!p){if(s==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var T=this._createImg(p,u&&u.tagName==="IMG"?u:null);return this._setIconStyles(T,s),(this.options.crossOrigin||this.options.crossOrigin==="")&&(T.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),T},_setIconStyles:function(s,u){var p=this.options,T=p[u+"Size"];typeof T=="number"&&(T=[T,T]);var w=he(T),A=he(u==="shadow"&&p.shadowAnchor||p.iconAnchor||w&&w.divideBy(2,!0));s.className="leaflet-marker-"+u+" "+(p.className||""),A&&(s.style.marginLeft=-A.x+"px",s.style.marginTop=-A.y+"px"),w&&(s.style.width=w.x+"px",s.style.height=w.y+"px")},_createImg:function(s,u){return u=u||document.createElement("img"),u.src=s,u},_getIconUrl:function(s){return _e.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});function as(s){return new Rn(s)}var rs=Rn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return typeof rs.imagePath!="string"&&(rs.imagePath=this._detectIconPath()),(this.options.imagePath||rs.imagePath)+Rn.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var u=function(p,T,w){var A=T.exec(p);return A&&A[w]};return s=u(s,/^url\((['"])?(.+)\1\)$/,2),s&&u(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=Be("div","leaflet-default-icon-path",document.body),u=Qo(s,"background-image")||Qo(s,"backgroundImage");if(document.body.removeChild(s),u=this._stripUrl(u),u)return u;var p=document.querySelector('link[href$="leaflet.css"]');return p?p.href.substring(0,p.href.length-11-1):""}}),ls=An.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new ri(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Me(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&pt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var u=this._marker,p=u._map,T=this._marker.options.autoPanSpeed,w=this._marker.options.autoPanPadding,A=si(u._icon),P=p.getPixelBounds(),q=p.getPixelOrigin(),Y=Q(P.min._subtract(q).add(w),P.max._subtract(q).subtract(w));if(!Y.contains(A)){var te=he((Math.max(Y.max.x,A.x)-Y.max.x)/(P.max.x-Y.max.x)-(Math.min(Y.min.x,A.x)-Y.min.x)/(P.min.x-Y.min.x),(Math.max(Y.max.y,A.y)-Y.max.y)/(P.max.y-Y.max.y)-(Math.min(Y.min.y,A.y)-Y.min.y)/(P.min.y-Y.min.y)).multiplyBy(T);p.panBy(te,{animate:!1}),this._draggable._newPos._add(te),this._draggable._startPos._add(te),ut(u._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=be(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(Le(this._panRequest),this._panRequest=be(this._adjustPan.bind(this,s)))},_onDrag:function(s){var u=this._marker,p=u._shadow,T=si(u._icon),w=u._map.layerPointToLatLng(T);p&&ut(p,T),u._latlng=w,s.latlng=w,s.oldLatLng=this._oldLatLng,u.fire("move",s).fire("drag",s)},_onDragEnd:function(s){Le(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),us=xn.extend({options:{icon:new rs,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,u){D(this,u),this._latlng=me(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var u=this._latlng;return this._latlng=me(s),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),p=s.icon.createIcon(this._icon),T=!1;p!==this._icon&&(this._icon&&this._removeIcon(),T=!0,s.title&&(p.title=s.title),p.tagName==="IMG"&&(p.alt=s.alt||"")),Me(p,u),s.keyboard&&(p.tabIndex="0",p.setAttribute("role","button")),this._icon=p,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&we(p,"focus",this._panOnFocus,this);var w=s.icon.createShadow(this._shadow),A=!1;w!==this._shadow&&(this._removeShadow(),A=!0),w&&(Me(w,u),w.alt=""),this._shadow=w,s.opacity<1&&this._updateOpacity(),T&&this.getPane().appendChild(this._icon),this._initInteraction(),w&&A&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&et(this._icon,"focus",this._panOnFocus,this),it(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&it(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&ut(this._icon,s),this._shadow&&ut(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(u)},_initInteraction:function(){if(this.options.interactive&&(Me(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),ls)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new ls(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&dt(this._icon,s),this._shadow&&dt(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var u=this.options.icon.options,p=u.iconSize?he(u.iconSize):he(0,0),T=u.iconAnchor?he(u.iconAnchor):he(0,0);s.panInside(this._latlng,{paddingTopLeft:T,paddingBottomRight:p.subtract(T)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Rl(s,u){return new us(s,u)}var In=xn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return D(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),fo=In.extend({options:{fill:!0,radius:10},initialize:function(s,u){D(this,u),this._latlng=me(s),this._radius=this.options.radius},setLatLng:function(s){var u=this._latlng;return this._latlng=me(s),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var u=s&&s.radius||this._radius;return In.prototype.setStyle.call(this,s),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,u=this._radiusY||s,p=this._clickTolerance(),T=[s+p,u+p];this._pxBounds=new B(this._point.subtract(T),this._point.add(T))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Il(s,u){return new fo(s,u)}var Xs=fo.extend({initialize:function(s,u,p){if(typeof u=="number"&&(u=l({},p,{radius:u})),D(this,u),this._latlng=me(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new re(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:In.prototype.setStyle,_project:function(){var s=this._latlng.lng,u=this._latlng.lat,p=this._map,T=p.options.crs;if(T.distance===ht.distance){var w=Math.PI/180,A=this._mRadius/ht.R/w,P=p.project([u+A,s]),q=p.project([u-A,s]),Y=P.add(q).divideBy(2),te=p.unproject(Y).lat,ce=Math.acos((Math.cos(A*w)-Math.sin(u*w)*Math.sin(te*w))/(Math.cos(u*w)*Math.cos(te*w)))/w;(isNaN(ce)||ce===0)&&(ce=A/Math.cos(Math.PI/180*u)),this._point=Y.subtract(p.getPixelOrigin()),this._radius=isNaN(ce)?0:Y.x-p.project([te,s-ce]).x,this._radiusY=Y.y-P.y}else{var xe=T.unproject(T.project(this._latlng).subtract([this._mRadius,0]));this._point=p.latLngToLayerPoint(this._latlng),this._radius=this._point.x-p.latLngToLayerPoint(xe).x}this._updateBounds()}});function Ll(s,u,p){return new Xs(s,u,p)}var Zn=In.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,u){D(this,u),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var u=1/0,p=null,T=ss,w,A,P=0,q=this._parts.length;P<q;P++)for(var Y=this._parts[P],te=1,ce=Y.length;te<ce;te++){w=Y[te-1],A=Y[te];var xe=T(s,w,A,!0);xe<u&&(u=xe,p=T(s,w,A))}return p&&(p.distance=Math.sqrt(u)),p},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return lo(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,u){return u=u||this._defaultShape(),s=me(s),u.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new re,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return rn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var u=[],p=rn(s),T=0,w=s.length;T<w;T++)p?(u[T]=me(s[T]),this._bounds.extend(u[T])):u[T]=this._convertLatLngs(s[T]);return u},_project:function(){var s=new B;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),u=new se(s,s);this._rawPxBounds&&(this._pxBounds=new B([this._rawPxBounds.min.subtract(u),this._rawPxBounds.max.add(u)]))},_projectLatlngs:function(s,u,p){var T=s[0]instanceof ge,w=s.length,A,P;if(T){for(P=[],A=0;A<w;A++)P[A]=this._map.latLngToLayerPoint(s[A]),p.extend(P[A]);u.push(P)}else for(A=0;A<w;A++)this._projectLatlngs(s[A],u,p)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}var u=this._parts,p,T,w,A,P,q,Y;for(p=0,w=0,A=this._rings.length;p<A;p++)for(Y=this._rings[p],T=0,P=Y.length;T<P-1;T++)q=wl(Y[T],Y[T+1],s,T,!0),q&&(u[w]=u[w]||[],u[w].push(q[0]),(q[1]!==Y[T+1]||T===P-2)&&(u[w].push(q[1]),w++))}},_simplifyPoints:function(){for(var s=this._parts,u=this.options.smoothFactor,p=0,T=s.length;p<T;p++)s[p]=Tl(s[p],u)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,u){var p,T,w,A,P,q,Y=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(p=0,A=this._parts.length;p<A;p++)for(q=this._parts[p],T=0,P=q.length,w=P-1;T<P;w=T++)if(!(!u&&T===0)&&El(s,q[w],q[T])<=Y)return!0;return!1}});function Nc(s,u){return new Zn(s,u)}Zn._flat=Js;var ho=Zn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Sl(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var u=Zn.prototype._convertLatLngs.call(this,s),p=u.length;return p>=2&&u[0]instanceof ge&&u[0].equals(u[p-1])&&u.pop(),u},_setLatLngs:function(s){Zn.prototype._setLatLngs.call(this,s),rn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return rn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,u=this.options.weight,p=new se(u,u);if(s=new B(s.min.subtract(p),s.max.add(p)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}for(var T=0,w=this._rings.length,A;T<w;T++)A=xl(this._rings[T],s,!0),A.length&&this._parts.push(A)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var u=!1,p,T,w,A,P,q,Y,te;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(A=0,Y=this._parts.length;A<Y;A++)for(p=this._parts[A],P=0,te=p.length,q=te-1;P<te;q=P++)T=p[P],w=p[q],T.y>s.y!=w.y>s.y&&s.x<(w.x-T.x)*(s.y-T.y)/(w.y-T.y)+T.x&&(u=!u);return u||Zn.prototype._containsPoint.call(this,s,!0)}});function Ac(s,u){return new ho(s,u)}var Yn=Mn.extend({initialize:function(s,u){D(this,u),this._layers={},s&&this.addData(s)},addData:function(s){var u=O(s)?s:s.features,p,T,w;if(u){for(p=0,T=u.length;p<T;p++)w=u[p],(w.geometries||w.geometry||w.features||w.coordinates)&&this.addData(w);return this}var A=this.options;if(A.filter&&!A.filter(s))return this;var P=zt(s,A);return P?(P.feature=Ws(s),P.defaultOptions=P.options,this.resetStyle(P),A.onEachFeature&&A.onEachFeature(s,P),this.addLayer(P)):this},resetStyle:function(s){return s===void 0?this.eachLayer(this.resetStyle,this):(s.options=l({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(u){this._setLayerStyle(u,s)},this)},_setLayerStyle:function(s,u){s.setStyle&&(typeof u=="function"&&(u=u(s.feature)),s.setStyle(u))}});function zt(s,u){var p=s.type==="Feature"?s.geometry:s,T=p?p.coordinates:null,w=[],A=u&&u.pointToLayer,P=u&&u.coordsToLatLng||Qs,q,Y,te,ce;if(!T&&!p)return null;switch(p.type){case"Point":return q=P(T),mo(A,s,q,u);case"MultiPoint":for(te=0,ce=T.length;te<ce;te++)q=P(T[te]),w.push(mo(A,s,q,u));return new Mn(w);case"LineString":case"MultiLineString":return Y=cs(T,p.type==="LineString"?0:1,P),new Zn(Y,u);case"Polygon":case"MultiPolygon":return Y=cs(T,p.type==="Polygon"?1:2,P),new ho(Y,u);case"GeometryCollection":for(te=0,ce=p.geometries.length;te<ce;te++){var xe=zt({geometry:p.geometries[te],type:"Feature",properties:s.properties},u);xe&&w.push(xe)}return new Mn(w);case"FeatureCollection":for(te=0,ce=p.features.length;te<ce;te++){var De=zt(p.features[te],u);De&&w.push(De)}return new Mn(w);default:throw new Error("Invalid GeoJSON object.")}}function mo(s,u,p,T){return s?s(u,p):new us(p,T&&T.markersInheritOptions&&T)}function Qs(s){return new ge(s[1],s[0],s[2])}function cs(s,u,p){for(var T=[],w=0,A=s.length,P;w<A;w++)P=u?cs(s[w],u-1,p):(p||Qs)(s[w]),T.push(P);return T}function $s(s,u){return s=me(s),s.alt!==void 0?[C(s.lng,u),C(s.lat,u),C(s.alt,u)]:[C(s.lng,u),C(s.lat,u)]}function ds(s,u,p,T){for(var w=[],A=0,P=s.length;A<P;A++)w.push(u?ds(s[A],rn(s[A])?0:u-1,p,T):$s(s[A],T));return!u&&p&&w.length>0&&w.push(w[0].slice()),w}function li(s,u){return s.feature?l({},s.feature,{geometry:u}):Ws(u)}function Ws(s){return s.type==="Feature"||s.type==="FeatureCollection"?s:{type:"Feature",properties:{},geometry:s}}var ui={toGeoJSON:function(s){return li(this,{type:"Point",coordinates:$s(this.getLatLng(),s)})}};us.include(ui),Xs.include(ui),fo.include(ui),Zn.include({toGeoJSON:function(s){var u=!rn(this._latlngs),p=ds(this._latlngs,u?1:0,!1,s);return li(this,{type:(u?"Multi":"")+"LineString",coordinates:p})}}),ho.include({toGeoJSON:function(s){var u=!rn(this._latlngs),p=u&&!rn(this._latlngs[0]),T=ds(this._latlngs,p?2:u?1:0,!0,s);return u||(T=[T]),li(this,{type:(p?"Multi":"")+"Polygon",coordinates:T})}}),co.include({toMultiPoint:function(s){var u=[];return this.eachLayer(function(p){u.push(p.toGeoJSON(s).geometry.coordinates)}),li(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(s){var u=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(u==="MultiPoint")return this.toMultiPoint(s);var p=u==="GeometryCollection",T=[];return this.eachLayer(function(w){if(w.toGeoJSON){var A=w.toGeoJSON(s);if(p)T.push(A.geometry);else{var P=Ws(A);P.type==="FeatureCollection"?T.push.apply(T,P.features):T.push(P)}}}),p?li(this,{geometries:T,type:"GeometryCollection"}):{type:"FeatureCollection",features:T}}});function ea(s,u){return new Yn(s,u)}var fs=ea,po=xn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,u,p){this._url=s,this._bounds=ue(u),D(this,p)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Me(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){it(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&Dt(this._image),this},bringToBack:function(){return this._map&&Ni(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=ue(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s=this._url.tagName==="IMG",u=this._image=s?this._url:Be("img");if(Me(u,"leaflet-image-layer"),this._zoomAnimated&&Me(u,"leaflet-zoom-animated"),this.options.className&&Me(u,this.options.className),u.onselectstart=b,u.onmousemove=b,u.onload=h(this.fire,this,"load"),u.onerror=h(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s){this._url=u.src;return}u.src=this._url,u.alt=this.options.alt},_animateZoom:function(s){var u=this._map.getZoomScale(s.zoom),p=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;Vn(this._image,p,u)},_reset:function(){var s=this._image,u=new B(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),p=u.getSize();ut(s,u.min),s.style.width=p.x+"px",s.style.height=p.y+"px"},_updateOpacity:function(){dt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),Dl=function(s,u,p){return new po(s,u,p)},ci=po.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s=this._url.tagName==="VIDEO",u=this._image=s?this._url:Be("video");if(Me(u,"leaflet-image-layer"),this._zoomAnimated&&Me(u,"leaflet-zoom-animated"),this.options.className&&Me(u,this.options.className),u.onselectstart=b,u.onmousemove=b,u.onloadeddata=h(this.fire,this,"load"),s){for(var p=u.getElementsByTagName("source"),T=[],w=0;w<p.length;w++)T.push(p[w].src);this._url=p.length>0?T:[u.src];return}O(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var A=0;A<this._url.length;A++){var P=Be("source");P.src=this._url[A],u.appendChild(P)}}});function go(s,u,p){return new ci(s,u,p)}var ta=po.extend({_initImage:function(){var s=this._image=this._url;Me(s,"leaflet-image-layer"),this._zoomAnimated&&Me(s,"leaflet-zoom-animated"),this.options.className&&Me(s,this.options.className),s.onselectstart=b,s.onmousemove=b}});function Pl(s,u,p){return new ta(s,u,p)}var Bt=xn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,u){s&&(s instanceof ge||O(s))?(this._latlng=me(s),D(this,u)):(D(this,s),this._source=u),this.options.content&&(this._content=this.options.content)},openOn:function(s){return s=arguments.length?s:this._source._map,s.hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&dt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&dt(this._container,1),this.bringToFront(),this.options.interactive&&(Me(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(dt(this._container,0),this._removeTimeout=setTimeout(h(it,void 0,this._container),200)):it(this._container),this.options.interactive&&(pt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=me(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Dt(this._container),this},bringToBack:function(){return this._map&&Ni(this._container),this},_prepareOpen:function(s){var u=this._source;if(!u._map)return!1;if(u instanceof Mn){u=null;var p=this._source._layers;for(var T in p)if(p[T]._map){u=p[T];break}if(!u)return!1;this._source=u}if(!s)if(u.getCenter)s=u.getCenter();else if(u.getLatLng)s=u.getLatLng();else if(u.getBounds)s=u.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,u=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof u=="string")s.innerHTML=u;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),u=he(this.options.offset),p=this._getAnchor();this._zoomAnimated?ut(this._container,s.add(p)):u=u.add(s).add(p);var T=this._containerBottom=-u.y,w=this._containerLeft=-Math.round(this._containerWidth/2)+u.x;this._container.style.bottom=T+"px",this._container.style.left=w+"px"}},_getAnchor:function(){return[0,0]}});Ve.include({_initOverlay:function(s,u,p,T){var w=u;return w instanceof s||(w=new s(T).setContent(u)),p&&w.setLatLng(p),w}}),xn.include({_initOverlay:function(s,u,p,T){var w=p;return w instanceof s?(D(w,T),w._source=this):(w=u&&!T?u:new s(T,this),w.setContent(p)),w}});var hs=Bt.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return s=arguments.length?s:this._source._map,!s.hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,Bt.prototype.openOn.call(this,s)},onAdd:function(s){Bt.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof In||this._source.on("preclick",_n))},onRemove:function(s){Bt.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof In||this._source.off("preclick",_n))},getEvents:function(){var s=Bt.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",u=this._container=Be("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),p=this._wrapper=Be("div",s+"-content-wrapper",u);if(this._contentNode=Be("div",s+"-content",p),Mi(u),Nn(this._contentNode),we(u,"contextmenu",_n),this._tipContainer=Be("div",s+"-tip-container",u),this._tip=Be("div",s+"-tip",this._tipContainer),this.options.closeButton){var T=this._closeButton=Be("a",s+"-close-button",u);T.setAttribute("role","button"),T.setAttribute("aria-label","Close popup"),T.href="#close",T.innerHTML='<span aria-hidden="true">&#215;</span>',we(T,"click",function(w){xt(w),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,u=s.style;u.width="",u.whiteSpace="nowrap";var p=s.offsetWidth;p=Math.min(p,this.options.maxWidth),p=Math.max(p,this.options.minWidth),u.width=p+1+"px",u.whiteSpace="",u.height="";var T=s.offsetHeight,w=this.options.maxHeight,A="leaflet-popup-scrolled";w&&T>w?(u.height=w+"px",Me(s,A)):pt(s,A),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),p=this._getAnchor();ut(this._container,u.add(p))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var s=this._map,u=parseInt(Qo(this._container,"marginBottom"),10)||0,p=this._container.offsetHeight+u,T=this._containerWidth,w=new se(this._containerLeft,-p-this._containerBottom);w._add(si(this._container));var A=s.layerPointToContainerPoint(w),P=he(this.options.autoPanPadding),q=he(this.options.autoPanPaddingTopLeft||P),Y=he(this.options.autoPanPaddingBottomRight||P),te=s.getSize(),ce=0,xe=0;A.x+T+Y.x>te.x&&(ce=A.x+T-te.x+Y.x),A.x-ce-q.x<0&&(ce=A.x-q.x),A.y+p+Y.y>te.y&&(xe=A.y+p-te.y+Y.y),A.y-xe-q.y<0&&(xe=A.y-q.y),(ce||xe)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([ce,xe]))}},_getAnchor:function(){return he(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),kl=function(s,u){return new hs(s,u)};Ve.mergeOptions({closePopupOnClick:!0}),Ve.include({openPopup:function(s,u,p){return this._initOverlay(hs,s,u,p).openOn(this),this},closePopup:function(s){return s=arguments.length?s:this._popup,s&&s.close(),this}}),xn.include({bindPopup:function(s,u){return this._popup=this._initOverlay(hs,this._popup,s,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof Mn||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(!(!this._popup||!this._map)){ai(s);var u=s.layer||s.target;if(this._popup._source===u&&!(u instanceof In)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng);return}this._popup._source=u,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){s.originalEvent.keyCode===13&&this._openPopup(s)}});var ms=Bt.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){Bt.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){Bt.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=Bt.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){var s="leaflet-tooltip",u=s+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Be("div",u),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+x(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var u,p,T=this._map,w=this._container,A=T.latLngToContainerPoint(T.getCenter()),P=T.layerPointToContainerPoint(s),q=this.options.direction,Y=w.offsetWidth,te=w.offsetHeight,ce=he(this.options.offset),xe=this._getAnchor();q==="top"?(u=Y/2,p=te):q==="bottom"?(u=Y/2,p=0):q==="center"?(u=Y/2,p=te/2):q==="right"?(u=0,p=te/2):q==="left"?(u=Y,p=te/2):P.x<A.x?(q="right",u=0,p=te/2):(q="left",u=Y+(ce.x+xe.x)*2,p=te/2),s=s.subtract(he(u,p,!0)).add(ce).add(xe),pt(w,"leaflet-tooltip-right"),pt(w,"leaflet-tooltip-left"),pt(w,"leaflet-tooltip-top"),pt(w,"leaflet-tooltip-bottom"),Me(w,"leaflet-tooltip-"+q),ut(w,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&dt(this._container,s)},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(u)},_getAnchor:function(){return he(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Mc=function(s,u){return new ms(s,u)};Ve.include({openTooltip:function(s,u,p){return this._initOverlay(ms,s,u,p).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),xn.include({bindTooltip:function(s,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(ms,this._tooltip,s,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(!(!s&&this._tooltipHandlersAdded)){var u=s?"off":"on",p={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?p.add=this._openTooltip:(p.mouseover=this._openTooltip,p.mouseout=this.closeTooltip,p.click=this._openTooltip,this._map?this._addFocusListeners():p.add=this._addFocusListeners),this._tooltip.options.sticky&&(p.mousemove=this._moveTooltip),this[u](p),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof Mn||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var u=typeof s.getElement=="function"&&s.getElement();u&&(we(u,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),we(u,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var u=typeof s.getElement=="function"&&s.getElement();u&&u.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var u=this;this._map.once("moveend",function(){u._openOnceFlag=!1,u._openTooltip(s)});return}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var u=s.latlng,p,T;this._tooltip.options.sticky&&s.originalEvent&&(p=this._map.mouseEventToContainerPoint(s.originalEvent),T=this._map.containerPointToLayerPoint(p),u=this._map.layerPointToLatLng(T)),this._tooltip.setLatLng(u)}});var Ul=Rn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var u=s&&s.tagName==="DIV"?s:document.createElement("div"),p=this.options;if(p.html instanceof Element?(sn(u),u.appendChild(p.html)):u.innerHTML=p.html!==!1?p.html:"",p.bgPos){var T=he(p.bgPos);u.style.backgroundPosition=-T.x+"px "+-T.y+"px"}return this._setIconStyles(u,"icon"),u},createShadow:function(){return null}});function Rc(s){return new Ul(s)}Rn.Default=rs;var vo=xn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:_e.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){D(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),it(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Dt(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ni(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=y(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof se?s:new se(s,s)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var u=this.getPane().children,p=-s(-1/0,1/0),T=0,w=u.length,A;T<w;T++)A=u[T].style.zIndex,u[T]!==this._container&&A&&(p=s(p,+A));isFinite(p)&&(this.options.zIndex=p+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!_e.ielt9){dt(this._container,this.options.opacity);var s=+new Date,u=!1,p=!1;for(var T in this._tiles){var w=this._tiles[T];if(!(!w.current||!w.loaded)){var A=Math.min(1,(s-w.loaded)/200);dt(w.el,A),A<1?u=!0:(w.active?p=!0:this._onOpaqueTile(w),w.active=!0)}}p&&!this._noPrune&&this._pruneTiles(),u&&(Le(this._fadeFrame),this._fadeFrame=be(this._updateOpacity,this))}},_onOpaqueTile:b,_initContainer:function(){this._container||(this._container=Be("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,u=this.options.maxZoom;if(s!==void 0){for(var p in this._levels)p=Number(p),this._levels[p].el.children.length||p===s?(this._levels[p].el.style.zIndex=u-Math.abs(s-p),this._onUpdateLevel(p)):(it(this._levels[p].el),this._removeTilesAtZoom(p),this._onRemoveLevel(p),delete this._levels[p]);var T=this._levels[s],w=this._map;return T||(T=this._levels[s]={},T.el=Be("div","leaflet-tile-container leaflet-zoom-animated",this._container),T.el.style.zIndex=u,T.origin=w.project(w.unproject(w.getPixelOrigin()),s).round(),T.zoom=s,this._setZoomTransform(T,w.getCenter(),w.getZoom()),b(T.el.offsetWidth),this._onCreateLevel(T)),this._level=T,T}},_onUpdateLevel:b,_onRemoveLevel:b,_onCreateLevel:b,_pruneTiles:function(){if(this._map){var s,u,p=this._map.getZoom();if(p>this.options.maxZoom||p<this.options.minZoom){this._removeAllTiles();return}for(s in this._tiles)u=this._tiles[s],u.retain=u.current;for(s in this._tiles)if(u=this._tiles[s],u.current&&!u.active){var T=u.coords;this._retainParent(T.x,T.y,T.z,T.z-5)||this._retainChildren(T.x,T.y,T.z,T.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var u in this._tiles)this._tiles[u].coords.z===s&&this._removeTile(u)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)it(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,u,p,T){var w=Math.floor(s/2),A=Math.floor(u/2),P=p-1,q=new se(+w,+A);q.z=+P;var Y=this._tileCoordsToKey(q),te=this._tiles[Y];return te&&te.active?(te.retain=!0,!0):(te&&te.loaded&&(te.retain=!0),P>T?this._retainParent(w,A,P,T):!1)},_retainChildren:function(s,u,p,T){for(var w=2*s;w<2*s+2;w++)for(var A=2*u;A<2*u+2;A++){var P=new se(w,A);P.z=p+1;var q=this._tileCoordsToKey(P),Y=this._tiles[q];if(Y&&Y.active){Y.retain=!0;continue}else Y&&Y.loaded&&(Y.retain=!0);p+1<T&&this._retainChildren(w,A,p+1,T)}},_resetView:function(s){var u=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),u,u)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var u=this.options;return u.minNativeZoom!==void 0&&s<u.minNativeZoom?u.minNativeZoom:u.maxNativeZoom!==void 0&&u.maxNativeZoom<s?u.maxNativeZoom:s},_setView:function(s,u,p,T){var w=Math.round(u);this.options.maxZoom!==void 0&&w>this.options.maxZoom||this.options.minZoom!==void 0&&w<this.options.minZoom?w=void 0:w=this._clampZoom(w);var A=this.options.updateWhenZooming&&w!==this._tileZoom;(!T||A)&&(this._tileZoom=w,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),w!==void 0&&this._update(s),p||this._pruneTiles(),this._noPrune=!!p),this._setZoomTransforms(s,u)},_setZoomTransforms:function(s,u){for(var p in this._levels)this._setZoomTransform(this._levels[p],s,u)},_setZoomTransform:function(s,u,p){var T=this._map.getZoomScale(p,s.zoom),w=s.origin.multiplyBy(T).subtract(this._map._getNewPixelOrigin(u,p)).round();_e.any3d?Vn(s.el,w,T):ut(s.el,w)},_resetGrid:function(){var s=this._map,u=s.options.crs,p=this._tileSize=this.getTileSize(),T=this._tileZoom,w=this._map.getPixelWorldBounds(this._tileZoom);w&&(this._globalTileRange=this._pxBoundsToTileRange(w)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,u.wrapLng[0]],T).x/p.x),Math.ceil(s.project([0,u.wrapLng[1]],T).x/p.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([u.wrapLat[0],0],T).y/p.x),Math.ceil(s.project([u.wrapLat[1],0],T).y/p.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var u=this._map,p=u._animatingZoom?Math.max(u._animateToZoom,u.getZoom()):u.getZoom(),T=u.getZoomScale(p,this._tileZoom),w=u.project(s,this._tileZoom).floor(),A=u.getSize().divideBy(T*2);return new B(w.subtract(A),w.add(A))},_update:function(s){var u=this._map;if(u){var p=this._clampZoom(u.getZoom());if(s===void 0&&(s=u.getCenter()),this._tileZoom!==void 0){var T=this._getTiledPixelBounds(s),w=this._pxBoundsToTileRange(T),A=w.getCenter(),P=[],q=this.options.keepBuffer,Y=new B(w.getBottomLeft().subtract([q,-q]),w.getTopRight().add([q,-q]));if(!(isFinite(w.min.x)&&isFinite(w.min.y)&&isFinite(w.max.x)&&isFinite(w.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var te in this._tiles){var ce=this._tiles[te].coords;(ce.z!==this._tileZoom||!Y.contains(new se(ce.x,ce.y)))&&(this._tiles[te].current=!1)}if(Math.abs(p-this._tileZoom)>1){this._setView(s,p);return}for(var xe=w.min.y;xe<=w.max.y;xe++)for(var De=w.min.x;De<=w.max.x;De++){var Pt=new se(De,xe);if(Pt.z=this._tileZoom,!!this._isValidTile(Pt)){var St=this._tiles[this._tileCoordsToKey(Pt)];St?St.current=!0:P.push(Pt)}}if(P.sort(function(Ze,Ye){return Ze.distanceTo(A)-Ye.distanceTo(A)}),P.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Wt=document.createDocumentFragment();for(De=0;De<P.length;De++)this._addTile(P[De],Wt);this._level.el.appendChild(Wt)}}}},_isValidTile:function(s){var u=this._map.options.crs;if(!u.infinite){var p=this._globalTileRange;if(!u.wrapLng&&(s.x<p.min.x||s.x>p.max.x)||!u.wrapLat&&(s.y<p.min.y||s.y>p.max.y))return!1}if(!this.options.bounds)return!0;var T=this._tileCoordsToBounds(s);return ue(this.options.bounds).overlaps(T)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var u=this._map,p=this.getTileSize(),T=s.scaleBy(p),w=T.add(p),A=u.unproject(T,s.z),P=u.unproject(w,s.z);return[A,P]},_tileCoordsToBounds:function(s){var u=this._tileCoordsToNwSe(s),p=new re(u[0],u[1]);return this.options.noWrap||(p=this._map.wrapLatLngBounds(p)),p},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var u=s.split(":"),p=new se(+u[0],+u[1]);return p.z=+u[2],p},_removeTile:function(s){var u=this._tiles[s];u&&(it(u.el),delete this._tiles[s],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){Me(s,"leaflet-tile");var u=this.getTileSize();s.style.width=u.x+"px",s.style.height=u.y+"px",s.onselectstart=b,s.onmousemove=b,_e.ielt9&&this.options.opacity<1&&dt(s,this.options.opacity)},_addTile:function(s,u){var p=this._getTilePos(s),T=this._tileCoordsToKey(s),w=this.createTile(this._wrapCoords(s),h(this._tileReady,this,s));this._initTile(w),this.createTile.length<2&&be(h(this._tileReady,this,s,null,w)),ut(w,p),this._tiles[T]={el:w,coords:s,current:!0},u.appendChild(w),this.fire("tileloadstart",{tile:w,coords:s})},_tileReady:function(s,u,p){u&&this.fire("tileerror",{error:u,tile:p,coords:s});var T=this._tileCoordsToKey(s);p=this._tiles[T],p&&(p.loaded=+new Date,this._map._fadeAnimated?(dt(p.el,0),Le(this._fadeFrame),this._fadeFrame=be(this._updateOpacity,this)):(p.active=!0,this._pruneTiles()),u||(Me(p.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:p.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),_e.ielt9||!this._map._fadeAnimated?be(this._pruneTiles,this):setTimeout(h(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var u=new se(this._wrapX?E(s.x,this._wrapX):s.x,this._wrapY?E(s.y,this._wrapY):s.y);return u.z=s.z,u},_pxBoundsToTileRange:function(s){var u=this.getTileSize();return new B(s.min.unscaleBy(u).floor(),s.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});function zl(s){return new vo(s)}var di=vo.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,u){this._url=s,u=D(this,u),u.detectRetina&&_e.retina&&u.maxZoom>0?(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom=Math.min(u.maxZoom,u.minZoom+1)):(u.zoomOffset++,u.maxZoom=Math.max(u.minZoom,u.maxZoom-1)),u.minZoom=Math.max(0,u.minZoom)):u.zoomReverse?u.minZoom=Math.min(u.maxZoom,u.minZoom):u.maxZoom=Math.max(u.minZoom,u.maxZoom),typeof u.subdomains=="string"&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,u){return this._url===s&&u===void 0&&(u=!0),this._url=s,u||this.redraw(),this},createTile:function(s,u){var p=document.createElement("img");return we(p,"load",h(this._tileOnLoad,this,u,p)),we(p,"error",h(this._tileOnError,this,u,p)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(p.referrerPolicy=this.options.referrerPolicy),p.alt="",p.src=this.getTileUrl(s),p},getTileUrl:function(s){var u={r:_e.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var p=this._globalTileRange.max.y-s.y;this.options.tms&&(u.y=p),u["-y"]=p}return X(this._url,l(u,this.options))},_tileOnLoad:function(s,u){_e.ielt9?setTimeout(h(s,this,null,u),0):s(null,u)},_tileOnError:function(s,u,p){var T=this.options.errorTileUrl;T&&u.getAttribute("src")!==T&&(u.src=T),s(p,u)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom,u=this.options.maxZoom,p=this.options.zoomReverse,T=this.options.zoomOffset;return p&&(s=u-s),s+T},_getSubdomain:function(s){var u=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[u]},_abortLoading:function(){var s,u;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&(u=this._tiles[s].el,u.onload=b,u.onerror=b,!u.complete)){u.src=le;var p=this._tiles[s].coords;it(u),delete this._tiles[s],this.fire("tileabort",{tile:u,coords:p})}},_removeTile:function(s){var u=this._tiles[s];if(u)return u.el.setAttribute("src",le),vo.prototype._removeTile.call(this,s)},_tileReady:function(s,u,p){if(!(!this._map||p&&p.getAttribute("src")===le))return vo.prototype._tileReady.call(this,s,u,p)}});function ln(s,u){return new di(s,u)}var ps=di.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,u){this._url=s;var p=l({},this.defaultWmsParams);for(var T in u)T in this.options||(p[T]=u[T]);u=D(this,u);var w=u.detectRetina&&_e.retina?2:1,A=this.getTileSize();p.width=A.x*w,p.height=A.y*w,this.wmsParams=p},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var u=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[u]=this._crs.code,di.prototype.onAdd.call(this,s)},getTileUrl:function(s){var u=this._tileCoordsToNwSe(s),p=this._crs,T=Q(p.project(u[0]),p.project(u[1])),w=T.min,A=T.max,P=(this._wmsVersion>=1.3&&this._crs===dr?[w.y,w.x,A.y,A.x]:[w.x,w.y,A.x,A.y]).join(","),q=di.prototype.getTileUrl.call(this,s);return q+I(this.wmsParams,q,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+P},setParams:function(s,u){return l(this.wmsParams,s),u||this.redraw(),this}});function un(s,u){return new ps(s,u)}di.WMS=ps,ln.wms=un;var Yt=xn.extend({options:{padding:.1},initialize:function(s){D(this,s),x(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Me(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,u){var p=this._map.getZoomScale(u,this._zoom),T=this._map.getSize().multiplyBy(.5+this.options.padding),w=this._map.project(this._center,u),A=T.multiplyBy(-p).add(w).subtract(this._map._getNewPixelOrigin(s,u));_e.any3d?Vn(this._container,A,p):ut(this._container,A)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var s in this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,u=this._map.getSize(),p=this._map.containerPointToLayerPoint(u.multiplyBy(-s)).round();this._bounds=new B(p,p.add(u.multiplyBy(1+s*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),na=Yt.extend({options:{tolerance:0},getEvents:function(){var s=Yt.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Yt.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");we(s,"mousemove",this._onMouseMove,this),we(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),we(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){Le(this._redrawRequest),delete this._ctx,it(this._container),et(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var s;this._redrawBounds=null;for(var u in this._layers)s=this._layers[u],s._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Yt.prototype._update.call(this);var s=this._bounds,u=this._container,p=s.getSize(),T=_e.retina?2:1;ut(u,s.min),u.width=T*p.x,u.height=T*p.y,u.style.width=p.x+"px",u.style.height=p.y+"px",_e.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){Yt.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[x(s)]=s;var u=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=u),this._drawLast=u,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var u=s._order,p=u.next,T=u.prev;p?p.prev=T:this._drawLast=T,T?T.next=p:this._drawFirst=p,delete s._order,delete this._layers[x(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if(typeof s.options.dashArray=="string"){var u=s.options.dashArray.split(/[, ]+/),p=[],T,w;for(w=0;w<u.length;w++){if(T=Number(u[w]),isNaN(T))return;p.push(T)}s.options._dashArray=p}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||be(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var u=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new B,this._redrawBounds.extend(s._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(s._pxBounds.max.add([u,u]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var u=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,u.x,u.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,u=this._redrawBounds;if(this._ctx.save(),u){var p=u.getSize();this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,p.x,p.y),this._ctx.clip()}this._drawing=!0;for(var T=this._drawFirst;T;T=T.next)s=T.layer,(!u||s._pxBounds&&s._pxBounds.intersects(u))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,u){if(this._drawing){var p,T,w,A,P=s._parts,q=P.length,Y=this._ctx;if(q){for(Y.beginPath(),p=0;p<q;p++){for(T=0,w=P[p].length;T<w;T++)A=P[p][T],Y[T?"lineTo":"moveTo"](A.x,A.y);u&&Y.closePath()}this._fillStroke(Y,s)}}},_updateCircle:function(s){if(!(!this._drawing||s._empty())){var u=s._point,p=this._ctx,T=Math.max(Math.round(s._radius),1),w=(Math.max(Math.round(s._radiusY),1)||T)/T;w!==1&&(p.save(),p.scale(1,w)),p.beginPath(),p.arc(u.x,u.y/w,T,0,Math.PI*2,!1),w!==1&&p.restore(),this._fillStroke(p,s)}},_fillStroke:function(s,u){var p=u.options;p.fill&&(s.globalAlpha=p.fillOpacity,s.fillStyle=p.fillColor||p.color,s.fill(p.fillRule||"evenodd")),p.stroke&&p.weight!==0&&(s.setLineDash&&s.setLineDash(u.options&&u.options._dashArray||[]),s.globalAlpha=p.opacity,s.lineWidth=p.weight,s.strokeStyle=p.color,s.lineCap=p.lineCap,s.lineJoin=p.lineJoin,s.stroke())},_onClick:function(s){for(var u=this._map.mouseEventToLayerPoint(s),p,T,w=this._drawFirst;w;w=w.next)p=w.layer,p.options.interactive&&p._containsPoint(u)&&(!(s.type==="click"||s.type==="preclick")||!this._map._draggableMoved(p))&&(T=p);this._fireEvent(T?[T]:!1,s)},_onMouseMove:function(s){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var u=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,u)}},_handleMouseOut:function(s){var u=this._hoveredLayer;u&&(pt(this._container,"leaflet-interactive"),this._fireEvent([u],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,u){if(!this._mouseHoverThrottled){for(var p,T,w=this._drawFirst;w;w=w.next)p=w.layer,p.options.interactive&&p._containsPoint(u)&&(T=p);T!==this._hoveredLayer&&(this._handleMouseOut(s),T&&(Me(this._container,"leaflet-interactive"),this._fireEvent([T],s,"mouseover"),this._hoveredLayer=T)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,s),this._mouseHoverThrottled=!0,setTimeout(h(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,u,p){this._map._fireDOMEvent(u,p||u.type,s)},_bringToFront:function(s){var u=s._order;if(u){var p=u.next,T=u.prev;if(p)p.prev=T;else return;T?T.next=p:p&&(this._drawFirst=p),u.prev=this._drawLast,this._drawLast.next=u,u.next=null,this._drawLast=u,this._requestRedraw(s)}},_bringToBack:function(s){var u=s._order;if(u){var p=u.next,T=u.prev;if(T)T.next=p;else return;p?p.prev=T:T&&(this._drawLast=T),u.prev=null,u.next=this._drawFirst,this._drawFirst.prev=u,this._drawFirst=u,this._requestRedraw(s)}}});function gs(s){return _e.canvas?new na(s):null}var fi=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),fr={_initContainer:function(){this._container=Be("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Yt.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var u=s._container=fi("shape");Me(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",s._path=fi("path"),u.appendChild(s._path),this._updateStyle(s),this._layers[x(s)]=s},_addPath:function(s){var u=s._container;this._container.appendChild(u),s.options.interactive&&s.addInteractiveTarget(u)},_removePath:function(s){var u=s._container;it(u),s.removeInteractiveTarget(u),delete this._layers[x(s)]},_updateStyle:function(s){var u=s._stroke,p=s._fill,T=s.options,w=s._container;w.stroked=!!T.stroke,w.filled=!!T.fill,T.stroke?(u||(u=s._stroke=fi("stroke")),w.appendChild(u),u.weight=T.weight+"px",u.color=T.color,u.opacity=T.opacity,T.dashArray?u.dashStyle=O(T.dashArray)?T.dashArray.join(" "):T.dashArray.replace(/( *, *)/g," "):u.dashStyle="",u.endcap=T.lineCap.replace("butt","flat"),u.joinstyle=T.lineJoin):u&&(w.removeChild(u),s._stroke=null),T.fill?(p||(p=s._fill=fi("fill")),w.appendChild(p),p.color=T.fillColor||T.color,p.opacity=T.fillOpacity):p&&(w.removeChild(p),s._fill=null)},_updateCircle:function(s){var u=s._point.round(),p=Math.round(s._radius),T=Math.round(s._radiusY||p);this._setPath(s,s._empty()?"M0 0":"AL "+u.x+","+u.y+" "+p+","+T+" 0,"+65535*360)},_setPath:function(s,u){s._path.v=u},_bringToFront:function(s){Dt(s._container)},_bringToBack:function(s){Ni(s._container)}},Ln=_e.vml?fi:Us,yo=Yt.extend({_initContainer:function(){this._container=Ln("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ln("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){it(this._container),et(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Yt.prototype._update.call(this);var s=this._bounds,u=s.getSize(),p=this._container;(!this._svgSize||!this._svgSize.equals(u))&&(this._svgSize=u,p.setAttribute("width",u.x),p.setAttribute("height",u.y)),ut(p,s.min),p.setAttribute("viewBox",[s.min.x,s.min.y,u.x,u.y].join(" ")),this.fire("update")}},_initPath:function(s){var u=s._path=Ln("path");s.options.className&&Me(u,s.options.className),s.options.interactive&&Me(u,"leaflet-interactive"),this._updateStyle(s),this._layers[x(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){it(s._path),s.removeInteractiveTarget(s._path),delete this._layers[x(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var u=s._path,p=s.options;u&&(p.stroke?(u.setAttribute("stroke",p.color),u.setAttribute("stroke-opacity",p.opacity),u.setAttribute("stroke-width",p.weight),u.setAttribute("stroke-linecap",p.lineCap),u.setAttribute("stroke-linejoin",p.lineJoin),p.dashArray?u.setAttribute("stroke-dasharray",p.dashArray):u.removeAttribute("stroke-dasharray"),p.dashOffset?u.setAttribute("stroke-dashoffset",p.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),p.fill?(u.setAttribute("fill",p.fillColor||p.color),u.setAttribute("fill-opacity",p.fillOpacity),u.setAttribute("fill-rule",p.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(s,u){this._setPath(s,zs(s._parts,u))},_updateCircle:function(s){var u=s._point,p=Math.max(Math.round(s._radius),1),T=Math.max(Math.round(s._radiusY),1)||p,w="a"+p+","+T+" 0 1,0 ",A=s._empty()?"M0 0":"M"+(u.x-p)+","+u.y+w+p*2+",0 "+w+-p*2+",0 ";this._setPath(s,A)},_setPath:function(s,u){s._path.setAttribute("d",u)},_bringToFront:function(s){Dt(s._path)},_bringToBack:function(s){Ni(s._path)}});_e.vml&&yo.include(fr);function vs(s){return _e.svg||_e.vml?new yo(s):null}Ve.include({getRenderer:function(s){var u=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return u||(u=this._renderer=this._createRenderer()),this.hasLayer(u)||this.addLayer(u),u},_getPaneRenderer:function(s){if(s==="overlayPane"||s===void 0)return!1;var u=this._paneRenderers[s];return u===void 0&&(u=this._createRenderer({pane:s}),this._paneRenderers[s]=u),u},_createRenderer:function(s){return this.options.preferCanvas&&gs(s)||vs(s)}});var Ii=ho.extend({initialize:function(s,u){ho.prototype.initialize.call(this,this._boundsToLatLngs(s),u)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return s=ue(s),[s.getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});function Ic(s,u){return new Ii(s,u)}yo.create=Ln,yo.pointsToPath=zs,Yn.geometryToLayer=zt,Yn.coordsToLatLng=Qs,Yn.coordsToLatLngs=cs,Yn.latLngToCoords=$s,Yn.latLngsToCoords=ds,Yn.getFeature=li,Yn.asFeature=Ws,Ve.mergeOptions({boxZoom:!0});var Jt=An.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){we(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){et(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){it(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||s.which!==1&&s.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),io(),Vs(),this._startPoint=this._map.mouseEventToContainerPoint(s),we(document,{contextmenu:ai,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=Be("div","leaflet-zoom-box",this._container),Me(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var u=new B(this._point,this._startPoint),p=u.getSize();ut(this._box,u.min),this._box.style.width=p.x+"px",this._box.style.height=p.y+"px"},_finish:function(){this._moved&&(it(this._box),pt(this._container,"leaflet-crosshair")),wn(),Wo(),et(document,{contextmenu:ai,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if(!(s.which!==1&&s.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(h(this._resetState,this),0);var u=new re(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(u).fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(s){s.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Ve.addInitHook("addHandler","boxZoom",Jt),Ve.mergeOptions({doubleClickZoom:!0});var ia=An.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var u=this._map,p=u.getZoom(),T=u.options.zoomDelta,w=s.originalEvent.shiftKey?p-T:p+T;u.options.doubleClickZoom==="center"?u.setZoom(w):u.setZoomAround(s.containerPoint,w)}});Ve.addInitHook("addHandler","doubleClickZoom",ia),Ve.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Dn=An.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new ri(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}Me(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){pt(this._map._container,"leaflet-grab"),pt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var u=ue(this._map.options.maxBounds);this._offsetLimit=Q(this._map.latLngToContainerPoint(u.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(u.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var u=this._lastTime=+new Date,p=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(p),this._times.push(u),this._prunePositions(u)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,u){return s-(s-u)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var s=this._draggable._newPos.subtract(this._draggable._startPos),u=this._offsetLimit;s.x<u.min.x&&(s.x=this._viscousLimit(s.x,u.min.x)),s.y<u.min.y&&(s.y=this._viscousLimit(s.y,u.min.y)),s.x>u.max.x&&(s.x=this._viscousLimit(s.x,u.max.x)),s.y>u.max.y&&(s.y=this._viscousLimit(s.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,u=Math.round(s/2),p=this._initialWorldOffset,T=this._draggable._newPos.x,w=(T-u+p)%s+u-p,A=(T+u+p)%s-u-p,P=Math.abs(w+p)<Math.abs(A+p)?w:A;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=P},_onDragEnd:function(s){var u=this._map,p=u.options,T=!p.inertia||s.noInertia||this._times.length<2;if(u.fire("dragend",s),T)u.fire("moveend");else{this._prunePositions(+new Date);var w=this._lastPos.subtract(this._positions[0]),A=(this._lastTime-this._times[0])/1e3,P=p.easeLinearity,q=w.multiplyBy(P/A),Y=q.distanceTo([0,0]),te=Math.min(p.inertiaMaxSpeed,Y),ce=q.multiplyBy(te/Y),xe=te/(p.inertiaDeceleration*P),De=ce.multiplyBy(-xe/2).round();!De.x&&!De.y?u.fire("moveend"):(De=u._limitOffset(De,u.options.maxBounds),be(function(){u.panBy(De,{duration:xe,easeLinearity:P,noMoveStart:!0,animate:!0})}))}}});Ve.addInitHook("addHandler","dragging",Dn),Ve.mergeOptions({keyboard:!0,keyboardPanDelta:80});var hr=An.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),we(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),et(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,u=document.documentElement,p=s.scrollTop||u.scrollTop,T=s.scrollLeft||u.scrollLeft;this._map._container.focus(),window.scrollTo(T,p)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var u=this._panKeys={},p=this.keyCodes,T,w;for(T=0,w=p.left.length;T<w;T++)u[p.left[T]]=[-1*s,0];for(T=0,w=p.right.length;T<w;T++)u[p.right[T]]=[s,0];for(T=0,w=p.down.length;T<w;T++)u[p.down[T]]=[0,s];for(T=0,w=p.up.length;T<w;T++)u[p.up[T]]=[0,-1*s]},_setZoomDelta:function(s){var u=this._zoomKeys={},p=this.keyCodes,T,w;for(T=0,w=p.zoomIn.length;T<w;T++)u[p.zoomIn[T]]=s;for(T=0,w=p.zoomOut.length;T<w;T++)u[p.zoomOut[T]]=-s},_addHooks:function(){we(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){et(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var u=s.keyCode,p=this._map,T;if(u in this._panKeys){if(!p._panAnim||!p._panAnim._inProgress)if(T=this._panKeys[u],s.shiftKey&&(T=he(T).multiplyBy(3)),p.options.maxBounds&&(T=p._limitOffset(he(T),p.options.maxBounds)),p.options.worldCopyJump){var w=p.wrapLatLng(p.unproject(p.project(p.getCenter()).add(T)));p.panTo(w)}else p.panBy(T)}else if(u in this._zoomKeys)p.setZoom(p.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[u]);else if(u===27&&p._popup&&p._popup.options.closeOnEscapeKey)p.closePopup();else return;ai(s)}}});Ve.addInitHook("addHandler","keyboard",hr),Ve.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ys=An.extend({addHooks:function(){we(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){et(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var u=Vt(s),p=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var T=Math.max(p-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(h(this._performZoom,this),T),ai(s)},_performZoom:function(){var s=this._map,u=s.getZoom(),p=this._map.options.zoomSnap||0;s._stop();var T=this._delta/(this._map.options.wheelPxPerZoomLevel*4),w=4*Math.log(2/(1+Math.exp(-Math.abs(T))))/Math.LN2,A=p?Math.ceil(w/p)*p:w,P=s._limitZoom(u+(this._delta>0?A:-A))-u;this._delta=0,this._startTime=null,P&&(s.options.scrollWheelZoom==="center"?s.setZoom(u+P):s.setZoomAround(this._lastMousePos,u+P))}});Ve.addInitHook("addHandler","scrollWheelZoom",ys);var Li=600;Ve.mergeOptions({tapHold:_e.touchNative&&_e.safari&&_e.mobile,tapTolerance:15});var oa=An.extend({addHooks:function(){we(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){et(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),s.touches.length===1){var u=s.touches[0];this._startPos=this._newPos=new se(u.clientX,u.clientY),this._holdTimeout=setTimeout(h(function(){this._cancel(),this._isTapValid()&&(we(document,"touchend",xt),we(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),Li),we(document,"touchend touchcancel contextmenu",this._cancel,this),we(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){et(document,"touchend",xt),et(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),et(document,"touchend touchcancel contextmenu",this._cancel,this),et(document,"touchmove",this._onMove,this)},_onMove:function(s){var u=s.touches[0];this._newPos=new se(u.clientX,u.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,u){var p=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY});p._simulated=!0,u.target.dispatchEvent(p)}});Ve.addInitHook("addHandler","tapHold",oa),Ve.mergeOptions({touchZoom:_e.touch,bounceAtZoomLimits:!0});var mr=An.extend({addHooks:function(){Me(this._map._container,"leaflet-touch-zoom"),we(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){pt(this._map._container,"leaflet-touch-zoom"),et(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var u=this._map;if(!(!s.touches||s.touches.length!==2||u._animatingZoom||this._zooming)){var p=u.mouseEventToContainerPoint(s.touches[0]),T=u.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=u.getSize()._divideBy(2),this._startLatLng=u.containerPointToLatLng(this._centerPoint),u.options.touchZoom!=="center"&&(this._pinchStartLatLng=u.containerPointToLatLng(p.add(T)._divideBy(2))),this._startDist=p.distanceTo(T),this._startZoom=u.getZoom(),this._moved=!1,this._zooming=!0,u._stop(),we(document,"touchmove",this._onTouchMove,this),we(document,"touchend touchcancel",this._onTouchEnd,this),xt(s)}},_onTouchMove:function(s){if(!(!s.touches||s.touches.length!==2||!this._zooming)){var u=this._map,p=u.mouseEventToContainerPoint(s.touches[0]),T=u.mouseEventToContainerPoint(s.touches[1]),w=p.distanceTo(T)/this._startDist;if(this._zoom=u.getScaleZoom(w,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&w<1||this._zoom>u.getMaxZoom()&&w>1)&&(this._zoom=u._limitZoom(this._zoom)),u.options.touchZoom==="center"){if(this._center=this._startLatLng,w===1)return}else{var A=p._add(T)._divideBy(2)._subtract(this._centerPoint);if(w===1&&A.x===0&&A.y===0)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract(A),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),Le(this._animRequest);var P=h(u._move,u,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=be(P,this,!0),xt(s)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Le(this._animRequest),et(document,"touchmove",this._onTouchMove,this),et(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Ve.addInitHook("addHandler","touchZoom",mr),Ve.BoxZoom=Jt,Ve.DoubleClickZoom=ia,Ve.Drag=Dn,Ve.Keyboard=hr,Ve.ScrollWheelZoom=ys,Ve.TapHold=oa,Ve.TouchZoom=mr,o.Bounds=B,o.Browser=_e,o.CRS=ke,o.Canvas=na,o.Circle=Xs,o.CircleMarker=fo,o.Class=ee,o.Control=$t,o.DivIcon=Ul,o.DivOverlay=Bt,o.DomEvent=Zs,o.DomUtil=ao,o.Draggable=ri,o.Evented=ae,o.FeatureGroup=Mn,o.GeoJSON=Yn,o.GridLayer=vo,o.Handler=An,o.Icon=Rn,o.ImageOverlay=po,o.LatLng=ge,o.LatLngBounds=re,o.Layer=xn,o.LayerGroup=co,o.LineUtil=Cc,o.Map=Ve,o.Marker=us,o.Mixin=Sc,o.Path=In,o.Point=se,o.PolyUtil=ur,o.Polygon=ho,o.Polyline=Zn,o.Popup=hs,o.PosAnimation=ro,o.Projection=Nl,o.Rectangle=Ii,o.Renderer=Yt,o.SVG=yo,o.SVGOverlay=ta,o.TileLayer=di,o.Tooltip=ms,o.Transformation=$i,o.Util=ze,o.VideoOverlay=ci,o.bind=h,o.bounds=Q,o.canvas=gs,o.circle=Ll,o.circleMarker=Il,o.control=Fn,o.divIcon=Rc,o.extend=l,o.featureGroup=Ml,o.geoJSON=ea,o.geoJson=fs,o.gridLayer=zl,o.icon=as,o.imageOverlay=Dl,o.latLng=me,o.latLngBounds=ue,o.layerGroup=wc,o.map=ir,o.marker=Rl,o.point=he,o.polygon=Ac,o.polyline=Nc,o.popup=kl,o.rectangle=Ic,o.setOptions=D,o.stamp=x,o.svg=vs,o.svgOverlay=Pl,o.tileLayer=ln,o.tooltip=Mc,o.transformation=xi,o.version=r,o.videoOverlay=go;var pr=window.L;o.noConflict=function(){return window.L=pr,this},window.L=o}))})($r,$r.exports)),$r.exports}var Na=vE();const Ly=({events:n,center:t={lat:28.5097,lng:34.5136},zoom:o=13})=>{const r=z.useRef(null),l=z.useRef(null);return z.useEffect(()=>{if(r.current)return l.current?l.current.setView([t.lat,t.lng],o):(l.current=Na.map(r.current).setView([t.lat,t.lng],o),Na.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(l.current),delete Na.Icon.Default.prototype._getIconUrl,Na.Icon.Default.mergeOptions({iconRetinaUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png",iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png"})),l.current.eachLayer(f=>{var h;f instanceof Na.Marker&&((h=l.current)==null||h.removeLayer(f))}),n.forEach(f=>{f.coordinates&&Na.marker([f.coordinates.lat,f.coordinates.lng]).addTo(l.current).bindPopup(`
            <div class="font-sans">
              <div class="h-24 w-full overflow-hidden rounded-t-lg relative">
                <img src="${f.imageUrl}" class="object-cover w-full h-full" />
                <span class="absolute top-2 right-2 bg-white/90 px-2 py-0.5 rounded text-[10px] font-bold uppercase">${f.category}</span>
              </div>
              <div class="p-3">
                <h3 class="font-bold text-sm mb-1 line-clamp-1">${f.title}</h3>
                <p class="text-xs text-gray-500 mb-2">${f.location}</p>
                <a href="#/book/event/${f.id}" class="block text-center bg-teal-600 text-white text-xs font-bold py-1.5 rounded hover:bg-teal-700">
                  Book  ${f.price} EGP
                </a>
              </div>
            </div>
          `)}),()=>{l.current&&(l.current.remove(),l.current=null)}},[n,t,o]),v.jsx("div",{ref:r,className:"w-full h-full rounded-2xl z-0"})},Tg=["All","Party","Hike","Diving","Wellness","Workshop"],yE=n=>{const[t,o,r]=n.date.split("-").map(Number),[l,f]=n.time.split(" ");let[h,_]=l.split(":").map(Number);f==="PM"&&h<12&&(h+=12),f==="AM"&&h===12&&(h=0);const x=new Date(t,o-1,r,h,_),y=new Date(x.getTime()+7200*1e3),E=b=>b.toISOString().replace(/-|:|\.\d+/g,"");return`https://calendar.google.com/calendar/render?action=TEMPLATE&text=${encodeURIComponent(n.title)}&dates=${E(x)}/${E(y)}&details=${encodeURIComponent(n.description)}&location=${encodeURIComponent(n.location)}`},_E=n=>{const[t,o,r]=n.date.split("-").map(Number),[l,f]=n.time.split(" ");let[h,_]=l.split(":").map(Number);f==="PM"&&h<12&&(h+=12),f==="AM"&&h===12&&(h=0);const x=new Date(t,o-1,r,h,_),y=new Date(x.getTime()+7200*1e3),E=D=>D.toISOString().replace(/[-:]/g,"").split(".")[0]+"Z",b=["BEGIN:VCALENDAR","VERSION:2.0","PRODID:-//AmakenDahab//Events//EN","BEGIN:VEVENT",`UID:${n.id}@amakendahab.com`,`DTSTAMP:${E(new Date)}`,`DTSTART:${E(x)}`,`DTEND:${E(y)}`,`SUMMARY:${n.title}`,`DESCRIPTION:${n.description}`,`LOCATION:${n.location}`,"END:VEVENT","END:VCALENDAR"].join(`\r
`),C=new Blob([b],{type:"text/calendar;charset=utf-8"}),R=window.URL.createObjectURL(C),k=document.createElement("a");k.href=R,k.setAttribute("download",`${n.title.replace(/\s+/g,"_")}.ics`),document.body.appendChild(k),k.click(),document.body.removeChild(k)},xE=({event:n})=>{const[t,o]=z.useState(!1),r=z.useRef(null);return z.useEffect(()=>{const l=f=>{r.current&&!r.current.contains(f.target)&&o(!1)};return document.addEventListener("mousedown",l),()=>document.removeEventListener("mousedown",l)},[]),v.jsxs("div",{className:"relative",ref:r,children:[v.jsx("button",{onClick:()=>o(!t),className:`p-3 rounded-xl border-2 transition flex items-center justify-center ${t?"border-dahab-teal text-dahab-teal bg-teal-50":"border-gray-100 text-gray-500 hover:border-dahab-teal hover:text-dahab-teal hover:bg-teal-50"}`,title:"Add to Calendar",children:v.jsx(HS,{size:20})}),t&&v.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 w-48 bg-white rounded-xl shadow-xl border border-gray-100 p-1.5 z-30 animate-in fade-in zoom-in-95 duration-200",children:[v.jsx("div",{className:"text-xs font-bold text-gray-400 px-3 py-1 uppercase tracking-wider",children:"Add to Calendar"}),v.jsxs("button",{onClick:()=>{window.open(yE(n),"_blank"),o(!1)},className:"w-full text-left px-3 py-2.5 text-sm font-medium text-gray-700 hover:bg-gray-50 hover:text-dahab-teal rounded-lg flex items-center gap-2 transition-colors",children:[v.jsx(eT,{size:16})," Google Calendar"]}),v.jsxs("button",{onClick:()=>{_E(n),o(!1)},className:"w-full text-left px-3 py-2.5 text-sm font-medium text-gray-700 hover:bg-gray-50 hover:text-dahab-teal rounded-lg flex items-center gap-2 transition-colors",children:[v.jsx(Ef,{size:16})," Outlook / iCal"]}),v.jsx("div",{className:"absolute -bottom-1.5 left-1/2 -translate-x-1/2 w-3 h-3 bg-white border-b border-r border-gray-100 rotate-45"})]})]})},SE=({user:n,onToggleSave:t})=>{const[o,r]=z.useState([]),[l,f]=z.useState(!0),[h,_]=z.useState(""),[x]=vy(),[y,E]=z.useState("All"),[b,C]=z.useState("list"),[R,k]=z.useState(!1),[D,I]=z.useState(null);z.useEffect(()=>{const O=x.get("category");O&&Tg.includes(O)&&E(O),Ue.getPublicEvents().then(ie=>{r(ie),f(!1)})},[x]);const H=(O,ie)=>{O.preventDefault(),I({id:ie.id,title:ie.title}),k(!0)},X=o.filter(O=>{const ie=O.title.toLowerCase().includes(h.toLowerCase())||O.description.toLowerCase().includes(h.toLowerCase()),le=y==="All"||O.category===y;return ie&&le});return v.jsxs("div",{className:"space-y-8 h-full flex flex-col",children:[v.jsxs("div",{className:"flex flex-col gap-6",children:[v.jsxs("div",{className:"flex justify-between items-end",children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-3xl font-bold",children:"Upcoming Events"}),v.jsx("p",{className:"opacity-80",children:"Discover what's happening in town"})]}),v.jsxs("div",{className:"bg-white p-1 rounded-xl shadow-sm border border-gray-200 flex",children:[v.jsx("button",{onClick:()=>C("list"),className:`p-2 rounded-lg transition ${b==="list"?"bg-dahab-teal text-white shadow-sm":"text-gray-400 hover:text-gray-600"}`,children:v.jsx(uT,{size:20})}),v.jsx("button",{onClick:()=>C("map"),className:`p-2 rounded-lg transition ${b==="map"?"bg-dahab-teal text-white shadow-sm":"text-gray-400 hover:text-gray-600"}`,children:v.jsx(yT,{size:20})})]})]}),v.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[v.jsxs("div",{className:"relative flex-1",children:[v.jsx(PT,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),v.jsx("input",{type:"text",placeholder:"Search events...",value:h,onChange:O=>_(O.target.value),className:"w-full pl-10 pr-4 py-3 bg-white border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-dahab-teal/50 transition shadow-sm text-gray-900"}),h&&v.jsx("button",{onClick:()=>_(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:v.jsx(Ji,{size:16})})]}),v.jsx("div",{className:"flex gap-2 overflow-x-auto no-scrollbar pb-2 md:pb-0 items-center",children:Tg.map(O=>v.jsx("button",{onClick:()=>E(O),className:`px-5 py-2.5 rounded-full text-sm font-medium whitespace-nowrap transition border ${y===O?"bg-dahab-teal text-white border-dahab-teal shadow-md":"bg-white text-gray-600 border-gray-200 hover:bg-gray-50"}`,children:O},O))})]})]}),l?v.jsxs("div",{className:"text-center py-20 opacity-70 flex flex-col items-center",children:[v.jsx("div",{className:"w-8 h-8 border-4 border-dahab-teal border-t-transparent rounded-full animate-spin mb-4"}),"Loading events..."]}):X.length===0?v.jsxs("div",{className:"text-center py-20 bg-white rounded-3xl border border-dashed border-gray-300",children:[v.jsx("p",{className:"text-gray-500 text-lg",children:"No events found matching your criteria."}),v.jsx("button",{onClick:()=>{_(""),E("All")},className:"mt-4 text-dahab-teal font-bold hover:underline",children:"Clear Filters"})]}):b==="map"?v.jsx("div",{className:"h-[600px] bg-white rounded-3xl shadow-sm border border-gray-200 overflow-hidden relative",children:v.jsx(Ly,{events:X})}):v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:X.map(O=>{var le;const ie=(le=n==null?void 0:n.savedEventIds)==null?void 0:le.includes(O.id);return v.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 hover:shadow-xl transition duration-300 group flex flex-col h-full relative text-gray-900",children:[v.jsxs("div",{className:"relative h-48 overflow-hidden rounded-t-2xl",children:[v.jsx("img",{src:O.imageUrl,alt:O.title,className:"w-full h-full object-cover group-hover:scale-110 transition duration-700"}),v.jsxs("div",{className:"absolute top-4 right-4 flex gap-2",children:[v.jsx("button",{onClick:()=>t(O.id),className:"p-2 bg-white/90 backdrop-blur-sm rounded-full shadow-sm hover:bg-white transition",children:v.jsx(nl,{size:18,className:`transition-colors ${ie?"fill-red-500 text-red-500":"text-gray-500"}`})}),v.jsx("div",{className:"bg-white/90 backdrop-blur-sm px-3 py-1.5 rounded-full text-xs font-bold uppercase tracking-wider text-gray-800 shadow-sm flex items-center",children:O.category})]})]}),v.jsxs("div",{className:"p-6 flex-1 flex flex-col",children:[v.jsxs("div",{className:"flex justify-between items-start mb-2",children:[v.jsx("h3",{className:"text-xl font-bold text-gray-900 line-clamp-2",children:O.title}),v.jsxs("span",{className:"text-dahab-teal font-bold whitespace-nowrap ml-2",children:[O.price," EGP"]})]}),v.jsxs("div",{className:"space-y-3 mb-6 flex-1",children:[v.jsxs("div",{className:"flex items-center gap-2 text-gray-500 text-sm",children:[v.jsx(Ho,{size:16,className:"text-dahab-gold"}),v.jsx("span",{children:O.date})]}),v.jsxs("div",{className:"flex items-center gap-2 text-gray-500 text-sm",children:[v.jsx(Kf,{size:16,className:"text-dahab-gold"}),v.jsx("span",{children:O.time})]}),v.jsxs("div",{className:"flex items-center gap-2 text-gray-500 text-sm",children:[v.jsx(Ba,{size:16,className:"text-dahab-gold"}),v.jsx("span",{className:"truncate",children:O.location})]})]}),v.jsxs("div",{className:"flex gap-3 mt-auto pt-4 border-t border-gray-100",children:[v.jsx("button",{onClick:pe=>H(pe,O),className:"p-3 rounded-xl border-2 border-gray-100 text-gray-500 hover:border-dahab-teal hover:text-dahab-teal hover:bg-teal-50 transition flex items-center justify-center",title:"See Reviews",children:v.jsx(bT,{size:20})}),v.jsx(xE,{event:O}),v.jsx(Ke,{to:`/book/event/${O.id}`,className:"flex-1 flex items-center justify-center bg-gray-900 text-white py-3 rounded-xl font-medium hover:bg-dahab-teal transition shadow-lg shadow-gray-200",children:"Book Now"})]})]})]},O.id)})}),v.jsx(Iy,{isOpen:R,onClose:()=>k(!1),itemId:(D==null?void 0:D.id)||null,itemTitle:(D==null?void 0:D.title)||"",user:n})]})},TE=({user:n})=>{const[t,o]=z.useState([]),[r,l]=z.useState("all"),[f,h]=z.useState(!0),[_,x]=z.useState(!1),[y,E]=z.useState(null);z.useEffect(()=>{const R=()=>{Ue.getProviders().then(D=>{o(D),h(!1)})};R();const k=setInterval(R,5e3);return()=>clearInterval(k)},[]);const b=R=>{E({id:R.id,title:R.name}),x(!0)},C=r==="all"?t:t.filter(R=>r==="Driver"?R.serviceType==="Driver":R.serviceType!=="Driver");return v.jsxs("div",{className:"space-y-8",children:[v.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-sm border border-gray-100 text-gray-900",children:[v.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4 mb-6",children:[v.jsx("h1",{className:"text-2xl font-bold",children:"Services Directory"}),v.jsx("div",{className:"flex p-1 bg-gray-100 rounded-xl",children:["all","Driver","Other"].map(R=>v.jsx("button",{onClick:()=>l(R),className:`px-6 py-2 rounded-lg text-sm font-medium transition ${r===R?"bg-white shadow text-dahab-teal":"text-gray-500 hover:text-gray-700"}`,children:R==="all"?"All Services":R==="Driver"?"Drivers":"Home Services"},R))})]}),v.jsxs("div",{className:"bg-blue-50 p-6 rounded-2xl border border-blue-100 flex flex-col md:flex-row items-center justify-between gap-4",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"font-bold text-blue-900 text-lg",children:"Drive or Work with AmakenDahab"}),v.jsx("p",{className:"text-sm text-blue-700",children:"Join our verified network of local professionals."})]}),v.jsxs("div",{className:"flex gap-3",children:[v.jsxs(Ke,{to:"/login?role=provider",className:"bg-white text-blue-600 border border-blue-200 px-4 py-2 rounded-lg text-sm font-bold hover:bg-blue-50 flex items-center gap-2",children:[v.jsx(_y,{size:16}),"Are you a Driver?"]}),v.jsxs(Ke,{to:"/login?role=provider",className:"bg-blue-600 text-white px-4 py-2 rounded-lg text-sm font-bold hover:bg-blue-700 flex items-center gap-2",children:[v.jsx(jf,{size:16}),"List a Service"]})]})]})]}),f?v.jsx("div",{className:"text-center py-20 opacity-70",children:"Loading directory..."}):v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:C.map(R=>v.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm hover:shadow-md transition border border-gray-100 flex flex-col gap-4 text-gray-900",children:[v.jsxs("div",{className:"flex items-start justify-between",children:[v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx("img",{src:R.imageUrl,alt:R.name,className:"w-16 h-16 rounded-full object-cover border-2 border-white shadow-sm"}),v.jsxs("div",{children:[v.jsxs("h3",{className:"font-bold text-lg flex items-center gap-1",children:[R.name,R.isVerified&&v.jsx(Ay,{size:16,className:"text-dahab-teal"})]}),v.jsx("span",{className:"text-sm text-gray-500 bg-gray-100 px-2 py-0.5 rounded text-xs uppercase",children:R.serviceType})]})]}),v.jsxs("button",{onClick:()=>b(R),className:"flex items-center gap-1 bg-yellow-50 text-yellow-600 px-2 py-1 rounded-lg text-sm font-bold hover:bg-yellow-100 transition",children:[v.jsx(Ia,{size:14,fill:"currentColor"}),R.rating]})]}),v.jsx("p",{className:"text-gray-600 text-sm line-clamp-2",children:R.description}),v.jsxs("div",{className:"mt-auto pt-4 border-t border-gray-100 flex gap-3",children:[v.jsx(Ke,{to:`/book/service/${R.id}`,className:"flex-1 bg-dahab-teal text-white py-2 rounded-lg font-medium text-center text-sm hover:bg-teal-700 transition",children:"Book"}),v.jsx("a",{href:`tel:${R.phone}`,className:"flex items-center justify-center w-10 h-10 bg-green-50 text-green-600 rounded-lg hover:bg-green-100",children:v.jsx(IT,{size:18})})]})]},R.id))}),v.jsx(Iy,{isOpen:_,onClose:()=>x(!1),itemId:(y==null?void 0:y.id)||null,itemTitle:(y==null?void 0:y.title)||"",user:n})]})},EE=["Party","Hike","Diving","Wellness","Workshop"],Dy=({isOpen:n,onClose:t,onSubmit:o,initialData:r,userRole:l})=>{const[f,h]=z.useState(!1),_=z.useRef(null),[x,y]=z.useState({title:"",description:"",date:"",time:"",location:"",price:0,category:"Party",imageUrl:"",status:"pending",isFeatured:!1});if(z.useEffect(()=>{y(r||{title:"",description:"",date:"",time:"",location:"",price:0,category:"Party",imageUrl:"",status:"pending",isFeatured:!1})},[r,n]),!n)return null;const E=C=>{var k;const R=(k=C.target.files)==null?void 0:k[0];if(R){const D=new FileReader;D.onloadend=()=>{y(I=>({...I,imageUrl:D.result}))},D.readAsDataURL(R)}},b=async C=>{C.preventDefault(),h(!0),await o(x),h(!1),t()};return v.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[v.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:t}),v.jsxs("div",{className:"relative bg-white rounded-3xl w-full max-w-lg overflow-hidden shadow-2xl flex flex-col max-h-[90vh] text-gray-900",children:[v.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[v.jsx("h3",{className:"font-bold text-lg text-gray-900",children:r?"Edit Event":"Create Event"}),v.jsx("button",{onClick:t,className:"p-2 bg-white rounded-full text-gray-400 hover:text-gray-600 shadow-sm",children:v.jsx(Ji,{size:20})})]}),v.jsxs("form",{onSubmit:b,className:"overflow-y-auto p-6 space-y-4",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx("label",{className:"text-sm font-bold text-gray-700",children:"Event Image"}),v.jsx("div",{onClick:()=>{var C;return(C=_.current)==null?void 0:C.click()},className:"h-40 border-2 border-dashed border-gray-300 rounded-xl flex flex-col items-center justify-center cursor-pointer hover:bg-gray-50 transition relative overflow-hidden group",children:x.imageUrl?v.jsxs(v.Fragment,{children:[v.jsx("img",{src:x.imageUrl,alt:"Preview",className:"w-full h-full object-cover"}),v.jsx("div",{className:"absolute inset-0 bg-black/30 flex items-center justify-center opacity-0 group-hover:opacity-100 transition",children:v.jsx("span",{className:"text-white font-bold text-sm",children:"Change Image"})})]}):v.jsxs(v.Fragment,{children:[v.jsx(Qf,{className:"text-gray-400 mb-2",size:24}),v.jsx("span",{className:"text-sm text-gray-500",children:"Click to upload image"})]})}),v.jsx("input",{type:"file",ref:_,className:"hidden",accept:"image/*",onChange:E})]}),v.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"text-sm font-bold text-gray-700 mb-1 block",children:"Title"}),v.jsxs("div",{className:"relative",children:[v.jsx($T,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),v.jsx("input",{type:"text",required:!0,value:x.title,onChange:C=>y({...x,title:C.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-xl focus:ring-2 focus:ring-dahab-teal/50 outline-none bg-white text-gray-900",placeholder:"Event Name"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-sm font-bold text-gray-700 mb-1 block",children:"Category"}),v.jsx("select",{value:x.category,onChange:C=>y({...x,category:C.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl focus:ring-2 focus:ring-dahab-teal/50 outline-none bg-white text-gray-900",children:EE.map(C=>v.jsx("option",{value:C,children:C},C))})]})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"text-sm font-bold text-gray-700 mb-1 block",children:"Date"}),v.jsxs("div",{className:"relative",children:[v.jsx(Ho,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),v.jsx("input",{type:"date",required:!0,value:x.date,onChange:C=>y({...x,date:C.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-xl focus:ring-2 focus:ring-dahab-teal/50 outline-none bg-white text-gray-900"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-sm font-bold text-gray-700 mb-1 block",children:"Time"}),v.jsx("input",{type:"text",required:!0,value:x.time,onChange:C=>y({...x,time:C.target.value}),placeholder:"08:00 AM",className:"w-full px-4 py-2 border border-gray-200 rounded-xl focus:ring-2 focus:ring-dahab-teal/50 outline-none bg-white text-gray-900"})]})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"text-sm font-bold text-gray-700 mb-1 block",children:"Location"}),v.jsxs("div",{className:"relative",children:[v.jsx(Ba,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),v.jsx("input",{type:"text",required:!0,value:x.location,onChange:C=>y({...x,location:C.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-xl focus:ring-2 focus:ring-dahab-teal/50 outline-none bg-white text-gray-900",placeholder:"Place name"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-sm font-bold text-gray-700 mb-1 block",children:"Price (EGP)"}),v.jsxs("div",{className:"relative",children:[v.jsx(Ty,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),v.jsx("input",{type:"number",required:!0,value:x.price,onChange:C=>y({...x,price:Number(C.target.value)}),className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-xl focus:ring-2 focus:ring-dahab-teal/50 outline-none bg-white text-gray-900"})]})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-sm font-bold text-gray-700 mb-1 block",children:"Description"}),v.jsx("textarea",{required:!0,value:x.description,onChange:C=>y({...x,description:C.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl focus:ring-2 focus:ring-dahab-teal/50 outline-none h-24 resize-none bg-white text-gray-900",placeholder:"Tell people about the event..."})]}),l==="admin"&&v.jsx("div",{className:"p-4 bg-yellow-50 rounded-xl border border-yellow-100",children:v.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[v.jsx("div",{className:`w-5 h-5 border-2 rounded flex items-center justify-center transition ${x.isFeatured?"bg-dahab-gold border-dahab-gold":"border-gray-400 bg-white"}`,children:x.isFeatured&&v.jsx(Ia,{size:12,className:"text-white",fill:"currentColor"})}),v.jsx("input",{type:"checkbox",className:"hidden",checked:x.isFeatured||!1,onChange:C=>y({...x,isFeatured:C.target.checked})}),v.jsxs("div",{children:[v.jsx("span",{className:"block font-bold text-gray-900 text-sm",children:"Feature Event"}),v.jsx("span",{className:"text-xs text-gray-500",children:"Show this event on the home page hero section"})]})]})}),v.jsx("div",{className:"pt-2",children:v.jsx("button",{type:"submit",disabled:f,className:"w-full bg-dahab-teal text-white py-3 rounded-xl font-bold hover:bg-teal-700 flex items-center justify-center gap-2",children:f?v.jsx(Pa,{className:"animate-spin"}):r?"Update Event":"Create Event"})})]})]})]})},bE=[{name:"Dahab Mesh",value:"radial-gradient(at 0% 0%, hsla(172, 85%, 93%, 1) 0px, transparent 50%), radial-gradient(at 100% 0%, hsla(45, 90%, 96%, 1) 0px, transparent 50%), radial-gradient(at 100% 100%, hsla(200, 85%, 95%, 1) 0px, transparent 50%), radial-gradient(at 0% 100%, hsla(180, 80%, 94%, 1) 0px, transparent 50%)"},{name:"Clean White",value:"#ffffff"},{name:"Soft Gray",value:"#f3f4f6"},{name:"Deep Ocean",value:"linear-gradient(to bottom, #0f172a, #1e293b)"},{name:"Sunset Glow",value:"linear-gradient(120deg, #f6d365 0%, #fda085 100%)"}],CE=()=>{const[n,t]=z.useState([]),[o,r]=z.useState([]),[l,f]=z.useState([]),[h,_]=z.useState("bookings"),[x,y]=z.useState(!1),[E,b]=z.useState(null),{settings:C,updateSettings:R}=nc(),[k,D]=z.useState(C),[I,H]=z.useState(""),X=z.useRef(null);z.useEffect(()=>{O()},[]),z.useEffect(()=>{D(C)},[C]);const O=async()=>{const ee=await Ue.getBookings();t(ee);const Qe=await Ue.getPendingProviders();r(Qe);const j=await Ue.getEvents();f(j)},ie=async(ee,Qe)=>{await Ue.updateBookingStatus(ee,Qe),await O()},le=async(ee,Qe)=>{Qe?await Ue.approveProvider(ee):await Ue.rejectProvider(ee),await O()},pe=ee=>{b(ee||null),y(!0)},oe=async ee=>{E?await Ue.updateEvent({...E,...ee}):await Ue.addEvent({id:Math.random().toString(36).substr(2,9),title:ee.title,description:ee.description,date:ee.date,time:ee.time,location:ee.location,price:ee.price,imageUrl:ee.imageUrl||"https://images.unsplash.com/photo-1514525253440-b393452e8d26?auto=format&fit=crop&q=80&w=800",category:ee.category,organizerId:"admin1",status:"approved",isFeatured:ee.isFeatured||!1}),await O()},Ae=async ee=>{window.confirm("Are you sure you want to delete this event?")&&(await Ue.deleteEvent(ee),await O())},fe=async ee=>{await Ue.updateEvent({...ee,status:"approved"}),await O()},Ee=async ee=>{await Ue.updateEvent({...ee,status:"rejected"}),await O()},be=async()=>{await R(k),alert("Settings saved successfully!")},Le=ee=>{var j;const Qe=(j=ee.target.files)==null?void 0:j[0];if(Qe){const ae=new FileReader;ae.onloadend=()=>{D(se=>({...se,logoUrl:ae.result}))},ae.readAsDataURL(Qe)}},ze=l.filter(ee=>ee.status==="pending");return v.jsxs("div",{className:"space-y-6 pb-20",children:[v.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[v.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Dashboard"}),v.jsxs("div",{className:"flex gap-2 overflow-x-auto w-full md:w-auto pb-2 md:pb-0",children:[v.jsxs("button",{onClick:()=>_("bookings"),className:`px-4 py-2 rounded-lg font-medium whitespace-nowrap ${h==="bookings"?"bg-dahab-teal text-white":"bg-white text-gray-700"}`,children:["Bookings (",n.filter(ee=>ee.status===Ls.PENDING).length,")"]}),v.jsxs("button",{onClick:()=>_("verifications"),className:`px-4 py-2 rounded-lg font-medium whitespace-nowrap flex items-center gap-2 ${h==="verifications"?"bg-dahab-teal text-white":"bg-white text-gray-700"}`,children:["Verifications",o.length>0&&v.jsx("span",{className:"bg-red-500 text-white text-xs px-1.5 rounded-full",children:o.length})]}),v.jsxs("button",{onClick:()=>_("pending-events"),className:`px-4 py-2 rounded-lg font-medium whitespace-nowrap flex items-center gap-2 ${h==="pending-events"?"bg-dahab-teal text-white":"bg-white text-gray-700"}`,children:["Event Approvals",ze.length>0&&v.jsx("span",{className:"bg-orange-500 text-white text-xs px-1.5 rounded-full",children:ze.length})]}),v.jsx("button",{onClick:()=>_("events"),className:`px-4 py-2 rounded-lg font-medium whitespace-nowrap ${h==="events"?"bg-dahab-teal text-white":"bg-white text-gray-700"}`,children:"All Events"}),v.jsxs("button",{onClick:()=>_("settings"),className:`px-4 py-2 rounded-lg font-medium whitespace-nowrap flex items-center gap-2 ${h==="settings"?"bg-dahab-teal text-white":"bg-white text-gray-700"}`,children:[v.jsx(zT,{size:18})," Settings"]})]})]}),h==="bookings"&&v.jsx("div",{className:"bg-white rounded-2xl shadow-sm overflow-hidden border border-gray-100",children:v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"w-full text-left",children:[v.jsx("thead",{className:"bg-gray-50 text-gray-500 text-sm uppercase",children:v.jsxs("tr",{children:[v.jsx("th",{className:"p-4",children:"User"}),v.jsx("th",{className:"p-4",children:"Item"}),v.jsx("th",{className:"p-4",children:"Amount"}),v.jsx("th",{className:"p-4",children:"Proof"}),v.jsx("th",{className:"p-4 text-right",children:"Actions"})]})}),v.jsxs("tbody",{className:"divide-y divide-gray-100",children:[n.length===0&&v.jsx("tr",{children:v.jsx("td",{colSpan:5,className:"p-8 text-center text-gray-400",children:"No bookings found"})}),n.map(ee=>v.jsxs("tr",{className:"hover:bg-gray-50 text-gray-900",children:[v.jsx("td",{className:"p-4 font-medium",children:ee.userName}),v.jsx("td",{className:"p-4",children:v.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${ee.itemType==="event"?"bg-purple-100 text-purple-700":"bg-blue-100 text-blue-700"}`,children:ee.itemType.toUpperCase()})}),v.jsxs("td",{className:"p-4",children:[ee.amount," EGP ",v.jsx("br",{}),v.jsx("span",{className:"text-xs text-gray-400",children:ee.method})]}),v.jsx("td",{className:"p-4 text-blue-600 text-sm underline cursor-pointer",children:"View Receipt"}),v.jsx("td",{className:"p-4 flex justify-end gap-2",children:ee.status===Ls.PENDING?v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:()=>ie(ee.id,Ls.CONFIRMED),className:"p-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200",children:v.jsx(qu,{size:18})}),v.jsx("button",{onClick:()=>ie(ee.id,Ls.REJECTED),className:"p-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200",children:v.jsx(Ji,{size:18})})]}):v.jsx("span",{className:`text-sm font-bold ${ee.status===Ls.CONFIRMED?"text-green-600":"text-red-600"}`,children:ee.status.toUpperCase()})})]},ee.id))]})]})})}),h==="verifications"&&v.jsxs("div",{className:"bg-white rounded-2xl shadow-sm overflow-hidden border border-gray-100",children:[v.jsxs("div",{className:"p-6 border-b border-gray-100 flex items-center gap-2",children:[v.jsx(tE,{className:"text-dahab-teal"}),v.jsx("h3",{className:"font-bold text-gray-900",children:"Pending Provider Applications"})]}),v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"w-full text-left",children:[v.jsx("thead",{className:"bg-gray-50 text-gray-500 text-sm uppercase",children:v.jsxs("tr",{children:[v.jsx("th",{className:"p-4",children:"Name"}),v.jsx("th",{className:"p-4",children:"Email"}),v.jsx("th",{className:"p-4",children:"Status"}),v.jsx("th",{className:"p-4 text-right",children:"Actions"})]})}),v.jsxs("tbody",{className:"divide-y divide-gray-100",children:[o.length===0&&v.jsx("tr",{children:v.jsx("td",{colSpan:4,className:"p-8 text-center text-gray-400",children:"No pending verifications"})}),o.map(ee=>v.jsxs("tr",{className:"hover:bg-gray-50 text-gray-900",children:[v.jsx("td",{className:"p-4 font-bold",children:ee.name}),v.jsx("td",{className:"p-4 text-gray-600",children:ee.email}),v.jsx("td",{className:"p-4",children:v.jsxs("span",{className:"bg-yellow-100 text-yellow-800 text-xs px-2 py-1 rounded-full font-bold flex items-center w-fit gap-1",children:[v.jsx(Xf,{size:12})," Pending Review"]})}),v.jsxs("td",{className:"p-4 flex justify-end gap-2",children:[v.jsxs("button",{onClick:()=>le(ee.id,!0),className:"px-3 py-1.5 bg-green-600 text-white rounded-lg text-sm font-bold hover:bg-green-700 flex items-center gap-1",children:[v.jsx(qu,{size:14})," Approve"]}),v.jsxs("button",{onClick:()=>le(ee.id,!1),className:"px-3 py-1.5 bg-gray-200 text-gray-700 rounded-lg text-sm font-bold hover:bg-gray-300 flex items-center gap-1",children:[v.jsx(Ji,{size:14})," Reject"]})]})]},ee.id))]})]})})]}),h==="pending-events"&&v.jsxs("div",{className:"bg-white rounded-2xl shadow-sm overflow-hidden border border-gray-100",children:[v.jsxs("div",{className:"p-6 border-b border-gray-100 flex items-center gap-2",children:[v.jsx(xy,{className:"text-orange-500"}),v.jsx("h3",{className:"font-bold text-gray-900",children:"Pending Event Approvals"})]}),v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"w-full text-left",children:[v.jsx("thead",{className:"bg-gray-50 text-gray-500 text-sm uppercase",children:v.jsxs("tr",{children:[v.jsx("th",{className:"p-4",children:"Event"}),v.jsx("th",{className:"p-4",children:"Organizer"}),v.jsx("th",{className:"p-4",children:"Date"}),v.jsx("th",{className:"p-4 text-right",children:"Actions"})]})}),v.jsxs("tbody",{className:"divide-y divide-gray-100",children:[ze.length===0&&v.jsx("tr",{children:v.jsx("td",{colSpan:4,className:"p-8 text-center text-gray-400",children:"No pending events"})}),ze.map(ee=>v.jsxs("tr",{className:"hover:bg-gray-50 text-gray-900",children:[v.jsx("td",{className:"p-4",children:v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("img",{src:ee.imageUrl,className:"w-12 h-12 rounded-lg object-cover bg-gray-100"}),v.jsxs("div",{children:[v.jsx("span",{className:"font-bold text-gray-900 block",children:ee.title}),v.jsx("span",{className:"text-xs text-gray-500 line-clamp-1",children:ee.description})]})]})}),v.jsx("td",{className:"p-4 text-sm text-gray-600",children:ee.organizerId}),v.jsxs("td",{className:"p-4 text-sm text-gray-600",children:[ee.date," at ",ee.time]}),v.jsxs("td",{className:"p-4 flex justify-end gap-2",children:[v.jsxs("button",{onClick:()=>pe(ee),className:"px-3 py-1.5 bg-gray-100 text-gray-700 rounded-lg text-sm font-bold hover:bg-gray-200 flex items-center gap-1",children:[v.jsx(bf,{size:14})," View/Edit"]}),v.jsxs("button",{onClick:()=>fe(ee),className:"px-3 py-1.5 bg-green-600 text-white rounded-lg text-sm font-bold hover:bg-green-700 flex items-center gap-1",children:[v.jsx(qu,{size:14})," Approve"]}),v.jsxs("button",{onClick:()=>Ee(ee),className:"px-3 py-1.5 bg-red-100 text-red-600 rounded-lg text-sm font-bold hover:bg-red-200 flex items-center gap-1",children:[v.jsx(Ji,{size:14})," Reject"]})]})]},ee.id))]})]})})]}),h==="events"&&v.jsxs("div",{className:"bg-white rounded-2xl shadow-sm overflow-hidden border border-gray-100",children:[v.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(Ho,{className:"text-dahab-teal"}),v.jsx("h3",{className:"font-bold text-gray-900",children:"All Events"})]}),v.jsxs("button",{onClick:()=>pe(),className:"bg-dahab-teal text-white px-4 py-2 rounded-lg font-bold hover:bg-teal-700 flex items-center gap-2",children:[v.jsx(Ny,{size:18})," New Event"]})]}),v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"w-full text-left",children:[v.jsx("thead",{className:"bg-gray-50 text-gray-500 text-sm uppercase",children:v.jsxs("tr",{children:[v.jsx("th",{className:"p-4",children:"Event"}),v.jsx("th",{className:"p-4",children:"Date"}),v.jsx("th",{className:"p-4",children:"Status"}),v.jsx("th",{className:"p-4 text-right",children:"Actions"})]})}),v.jsx("tbody",{className:"divide-y divide-gray-100",children:l.map(ee=>v.jsxs("tr",{className:"hover:bg-gray-50 text-gray-900",children:[v.jsx("td",{className:"p-4",children:v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("img",{src:ee.imageUrl,className:"w-10 h-10 rounded-lg object-cover bg-gray-100"}),v.jsxs("div",{children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"font-bold text-gray-900",children:ee.title}),ee.isFeatured&&v.jsx(Ia,{size:12,className:"text-dahab-gold",fill:"currentColor"})]}),ee.isFeatured&&v.jsx("span",{className:"text-[10px] text-dahab-gold font-bold uppercase tracking-wider",children:"Featured"})]})]})}),v.jsx("td",{className:"p-4 text-sm text-gray-600",children:ee.date}),v.jsx("td",{className:"p-4",children:v.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${ee.status==="approved"?"bg-green-100 text-green-700":ee.status==="pending"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:ee.status||"approved"})}),v.jsxs("td",{className:"p-4 flex justify-end gap-2",children:[v.jsx("button",{onClick:()=>pe(ee),className:"p-1.5 bg-blue-50 text-blue-600 rounded hover:bg-blue-100",title:"Edit",children:v.jsx(bf,{size:16})}),v.jsx("button",{onClick:()=>Ae(ee.id),className:"p-1.5 bg-gray-100 text-gray-500 rounded hover:bg-gray-200 hover:text-red-500",title:"Delete",children:v.jsx(My,{size:16})})]})]},ee.id))})]})})]}),h==="settings"&&v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100",children:[v.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2 text-gray-900",children:[v.jsx(Cy,{size:20,className:"text-dahab-teal"})," App Branding"]}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"App Name"}),v.jsx("input",{type:"text",value:k.appName,onChange:ee=>D(Qe=>({...Qe,appName:ee.target.value})),className:"w-full border border-gray-300 rounded-xl px-4 py-2 bg-white text-gray-900"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Logo"}),v.jsxs("div",{className:"flex items-center gap-4",children:[k.logoUrl?v.jsx("div",{className:"w-16 h-16 border rounded-lg p-1 bg-white",children:v.jsx("img",{src:k.logoUrl,alt:"Logo",className:"w-full h-full object-contain"})}):v.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-lg flex items-center justify-center text-xs text-gray-400",children:"No Logo"}),v.jsxs("div",{className:"flex-1",children:[v.jsx("input",{type:"file",ref:X,className:"hidden",accept:"image/*",onChange:Le}),v.jsxs("button",{onClick:()=>{var ee;return(ee=X.current)==null?void 0:ee.click()},className:"bg-gray-100 text-gray-700 px-4 py-2 rounded-lg font-medium hover:bg-gray-200 transition flex items-center gap-2",children:[v.jsx(Qf,{size:16})," Upload New Logo"]})]})]})]})]})]}),v.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100",children:[v.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2 text-gray-900",children:[v.jsx(AT,{size:20,className:"text-dahab-teal"})," Appearance"]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Background Style"}),v.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-2 mb-4",children:bE.map(ee=>v.jsx("button",{onClick:()=>D(Qe=>({...Qe,backgroundStyle:ee.value})),className:`p-2 text-xs font-bold rounded-lg border-2 transition ${k.backgroundStyle===ee.value?"border-dahab-teal bg-teal-50 text-dahab-teal":"border-gray-100 text-gray-500 hover:bg-gray-50"}`,children:ee.name},ee.name))}),v.jsx("textarea",{value:k.backgroundStyle,onChange:ee=>D(Qe=>({...Qe,backgroundStyle:ee.target.value})),className:"w-full border border-gray-300 rounded-xl px-4 py-2 text-sm font-mono h-20 bg-white text-gray-900",placeholder:"CSS background property..."})]})]}),v.jsx("div",{className:"flex justify-end pt-4",children:v.jsx("button",{onClick:be,className:"bg-dahab-teal text-white px-8 py-3 rounded-xl font-bold hover:bg-teal-700 shadow-lg transition transform hover:scale-105",children:"Save Changes"})})]}),v.jsx(Dy,{isOpen:x,onClose:()=>y(!1),onSubmit:oe,initialData:E,userRole:vt.ADMIN})]})},wE=({onLogin:n})=>{const t=za(),[o]=vy(),[r,l]=z.useState("login"),[f,h]=z.useState(!1),[_,x]=z.useState({name:"",email:"",password:""}),[y,E]=z.useState(!1),[b,C]=z.useState("");z.useEffect(()=>{o.get("role")==="provider"&&(l("signup"),E(!0))},[o]);const R=async D=>{h(!0),C("");try{const I=await Ue.socialLogin(D);n(I),I.role===vt.ADMIN?t("/admin"):I.role===vt.PROVIDER?t("/provider-dashboard"):t("/")}catch(I){console.error(I),C(I.message||"Social authentication failed.")}finally{h(!1)}},k=async D=>{if(D.preventDefault(),C(""),!_.email||!_.password){C("Please fill in all fields");return}h(!0);try{let I;if(r==="signup"){if(!_.name){C("Name is required for signup"),h(!1);return}I=await Ue.register(_.name,_.email,_.password,y)}else I=await Ue.login(_.email,_.password);n(I),I.role===vt.ADMIN?t("/admin"):I.role===vt.PROVIDER?t("/provider-dashboard"):t("/")}catch(I){console.error("Auth Error",I),I.code==="auth/wrong-password"||I.code==="auth/user-not-found"||I.code==="auth/invalid-credential"?C("Invalid email or password."):I.code==="auth/email-already-in-use"?C("This email is already registered."):I.code==="auth/weak-password"?C("Password should be at least 6 characters."):C(I.message||"Authentication failed. Please check your configuration.")}finally{h(!1)}};return v.jsx("div",{className:"flex flex-col items-center justify-center min-h-[80vh] px-4",children:v.jsxs("div",{className:"w-full max-w-md bg-white rounded-3xl shadow-xl overflow-hidden text-gray-900",children:[v.jsxs("div",{className:"bg-gradient-to-r from-dahab-teal to-blue-500 p-8 text-center text-white",children:[v.jsx("h1",{className:"text-3xl font-bold mb-2",children:r==="login"?"Welcome Back":y?"Become a Partner":"Join AmakenDahab"}),v.jsx("p",{className:"opacity-90 text-sm",children:r==="login"?"Login to manage your bookings and events":y?"List your services and events":"Connect with the best of Dahab"})]}),v.jsxs("div",{className:"p-8",children:[v.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[v.jsxs("button",{type:"button",onClick:()=>R("google"),className:"flex items-center justify-center gap-2 py-2.5 px-4 border border-gray-200 rounded-xl hover:bg-gray-50 transition font-medium text-gray-700 text-sm",children:[v.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[v.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),v.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),v.jsx("path",{fill:"#FBBC05",d:"M5.84 14.11c-.22-.66-.35-1.36-.35-2.11s.13-1.45.35-2.11V7.05H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.95l3.66-2.84z"}),v.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.05l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]}),v.jsxs("button",{type:"button",onClick:()=>R("facebook"),className:"flex items-center justify-center gap-2 py-2.5 px-4 bg-[#1877F2] text-white rounded-xl hover:bg-[#1864D9] transition font-medium text-sm",children:[v.jsx(nT,{size:20,fill:"currentColor",className:"text-white"}),"Facebook"]})]}),v.jsxs("div",{className:"relative mb-6",children:[v.jsx("div",{className:"absolute inset-0 flex items-center",children:v.jsx("div",{className:"w-full border-t border-gray-200"})}),v.jsx("div",{className:"relative flex justify-center",children:v.jsx("span",{className:"bg-white px-2 text-xs text-gray-400 uppercase",children:"Or continue with email"})})]}),v.jsxs("form",{onSubmit:k,className:"space-y-4",children:[r==="signup"&&v.jsxs("div",{className:"relative",children:[v.jsx(il,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),v.jsx("input",{type:"text",placeholder:"Full Name / Business Name",className:"w-full pl-10 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-dahab-teal/50 transition text-gray-900",value:_.name,onChange:D=>x({..._,name:D.target.value}),required:!0})]}),v.jsxs("div",{className:"relative",children:[v.jsx(wy,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),v.jsx("input",{type:"email",placeholder:"Email Address",className:"w-full pl-10 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-dahab-teal/50 transition text-gray-900",value:_.email,onChange:D=>x({..._,email:D.target.value}),required:!0})]}),v.jsxs("div",{className:"relative",children:[v.jsx(fT,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),v.jsx("input",{type:"password",placeholder:"Password",className:"w-full pl-10 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-dahab-teal/50 transition text-gray-900",value:_.password,onChange:D=>x({..._,password:D.target.value}),required:!0,minLength:6})]}),r==="signup"&&v.jsxs("label",{className:`flex items-start gap-3 p-4 border rounded-xl cursor-pointer transition ${y?"bg-teal-50 border-dahab-teal":"border-gray-200 hover:bg-gray-50"}`,children:[v.jsx("div",{className:`mt-0.5 w-5 h-5 rounded border flex items-center justify-center flex-shrink-0 ${y?"bg-dahab-teal border-dahab-teal":"border-gray-300"}`,children:y&&v.jsx(qu,{size:14,className:"text-white"})}),v.jsx("input",{type:"checkbox",checked:y,onChange:D=>E(D.target.checked),className:"hidden"}),v.jsxs("div",{className:"flex-1",children:[v.jsxs("div",{className:"font-bold text-gray-900 flex items-center gap-2",children:[v.jsx(jf,{size:16,className:y?"text-dahab-teal":"text-gray-400"}),"Register as Service Provider"]}),v.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Create events, offer driving services, or list your business. Requires admin approval."})]})]}),b&&v.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-50 text-red-600 rounded-xl text-sm",children:[v.jsx(xy,{size:16}),b]}),v.jsx("button",{type:"submit",disabled:f,className:"w-full bg-gray-900 text-white py-3 rounded-xl font-bold hover:bg-gray-800 transition flex justify-center items-center gap-2",children:f?v.jsx(Pa,{className:"animate-spin",size:20}):v.jsxs(v.Fragment,{children:[r==="login"?"Sign In":"Create Account",v.jsx(tl,{size:18})]})})]}),v.jsx("div",{className:"mt-6 text-center text-sm text-gray-500",children:r==="login"?v.jsxs("p",{children:["Don't have an account?"," ",v.jsx("button",{onClick:()=>{l("signup"),C("")},className:"text-dahab-teal font-bold hover:underline",children:"Create Account"})]}):v.jsxs("p",{children:["Already have an account?"," ",v.jsx("button",{onClick:()=>{l("login"),C("")},className:"text-dahab-teal font-bold hover:underline",children:"Sign In"})]})})]})]})})},NE=({user:n})=>{const{type:t,id:o}=Px(),r=za(),[l,f]=z.useState(null),[h,_]=z.useState(1),[x,y]=z.useState(Rs.VODAFONE_CASH),[E,b]=z.useState(null),[C,R]=z.useState(!1);z.useEffect(()=>{(async()=>{if(t==="event"){const I=await Ue.getEvents();f(I.find(H=>H.id===o)||null)}else{const I=await Ue.getProviders();f(I.find(H=>H.id===o)||null)}})()},[t,o]);const k=async()=>{l&&(R(!0),await Ue.createBooking({id:Math.random().toString(36).substr(2,9),itemId:l.id,itemType:t,userId:n.id,userName:n.name,amount:"price"in l?l.price:100,method:x,status:Ls.PENDING,timestamp:new Date().toISOString()}),_(3),R(!1))};return l?v.jsxs("div",{className:"max-w-xl mx-auto bg-white rounded-3xl shadow-xl overflow-hidden min-h-[500px]",children:[v.jsxs("div",{className:"bg-dahab-teal p-6 text-white text-center",children:[v.jsx("h2",{className:"text-2xl font-bold",children:"Secure Booking"}),v.jsxs("p",{className:"opacity-90 text-sm",children:["Step ",h," of 3"]})]}),v.jsxs("div",{className:"p-8",children:[h===1&&v.jsxs("div",{className:"space-y-6 animate-fade-in",children:[v.jsxs("div",{className:"flex items-center gap-4 bg-gray-50 p-4 rounded-xl",children:[v.jsx("img",{src:l.imageUrl,alt:l.name||l.title,className:"w-16 h-16 rounded-lg object-cover"}),v.jsxs("div",{children:[v.jsx("h3",{className:"font-bold",children:l.name||l.title}),v.jsxs("p",{className:"text-gray-500 text-sm",children:["Total: ",v.jsxs("span",{className:"text-dahab-teal font-bold text-lg",children:["price"in l?l.price:100," EGP"]})]})]})]}),t==="event"&&"coordinates"in l&&l.coordinates&&v.jsxs("div",{className:"h-40 w-full rounded-xl overflow-hidden border border-gray-200 relative",children:[v.jsx(Ly,{events:[l],center:l.coordinates,zoom:14}),v.jsxs("div",{className:"absolute bottom-2 left-2 bg-white/90 backdrop-blur px-2 py-1 rounded text-xs font-bold shadow flex items-center gap-1 z-[400]",children:[v.jsx(Ba,{size:12,className:"text-dahab-teal"}),l.location]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Select Payment Method"}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("button",{onClick:()=>y(Rs.VODAFONE_CASH),className:`p-4 rounded-xl border-2 flex flex-col items-center gap-2 transition ${x===Rs.VODAFONE_CASH?"border-red-500 bg-red-50 text-red-700":"border-gray-200 hover:border-gray-300"}`,children:[v.jsx(JT,{className:x===Rs.VODAFONE_CASH?"text-red-600":"text-gray-400"}),v.jsx("span",{className:"font-bold text-sm",children:"Vodafone Cash"})]}),v.jsxs("button",{onClick:()=>y(Rs.INSTAPAY),className:`p-4 rounded-xl border-2 flex flex-col items-center gap-2 transition ${x===Rs.INSTAPAY?"border-purple-500 bg-purple-50 text-purple-700":"border-gray-200 hover:border-gray-300"}`,children:[v.jsx("div",{className:"font-bold text-xs bg-purple-200 px-1 rounded text-purple-700",children:"IP"}),v.jsx("span",{className:"font-bold text-sm",children:"Instapay"})]})]})]}),v.jsxs("button",{onClick:()=>_(2),className:"w-full bg-gray-900 text-white py-4 rounded-xl font-bold hover:bg-gray-800 transition flex justify-center items-center gap-2",children:["Continue ",v.jsx(tl,{size:18})]})]}),h===2&&v.jsxs("div",{className:"space-y-6 animate-fade-in",children:[v.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 p-4 rounded-xl text-center",children:[v.jsx("p",{className:"text-sm text-yellow-800 mb-1",children:"Transfer the exact amount to:"}),v.jsx("p",{className:"text-2xl font-mono font-bold text-gray-900 tracking-wider",children:"010 1234 5678"}),v.jsx("p",{className:"text-xs text-gray-500 mt-1",children:x})]}),v.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-8 text-center hover:bg-gray-50 transition cursor-pointer relative",children:[v.jsx("input",{type:"file",accept:"image/*",onChange:D=>{var I;return b(((I=D.target.files)==null?void 0:I[0])||null)},className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),v.jsxs("div",{className:"flex flex-col items-center gap-2 pointer-events-none",children:[v.jsx(Qf,{size:32,className:"text-gray-400"}),v.jsx("span",{className:"font-medium text-gray-600",children:E?E.name:"Upload Payment Screenshot"}),v.jsx("span",{className:"text-xs text-gray-400",children:"Click to browse"})]})]}),v.jsxs("div",{className:"flex gap-4",children:[v.jsx("button",{onClick:()=>_(1),className:"flex-1 py-4 font-bold text-gray-500 hover:text-gray-800",children:"Back"}),v.jsx("button",{onClick:k,disabled:!E||C,className:"flex-[2] bg-dahab-teal text-white py-4 rounded-xl font-bold hover:bg-teal-700 disabled:opacity-50 disabled:cursor-not-allowed flex justify-center",children:C?v.jsx(Pa,{className:"animate-spin"}):"Confirm Payment"})]})]}),h===3&&v.jsxs("div",{className:"text-center space-y-6 animate-fade-in py-8",children:[v.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto",children:v.jsx(Sy,{size:40,className:"text-green-600"})}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Booking Pending!"}),v.jsx("p",{className:"text-gray-500 mt-2",children:"The admin will verify your payment receipt shortly. You can track this in your profile."})]}),v.jsx("button",{onClick:()=>r("/"),className:"px-8 py-3 bg-gray-900 text-white rounded-full font-bold",children:"Back to Home"})]})]})]}):v.jsx("div",{className:"p-8 text-center",children:"Item not found"})},AE=({user:n,onToggleSave:t})=>{const[o,r]=z.useState([]),[l,f]=z.useState([]),[h,_]=z.useState("saved"),[x,y]=z.useState(!0);z.useEffect(()=>{E()},[n]);const E=async()=>{y(!0);const C=(await Ue.getEvents()).filter(k=>{var D;return(D=n.savedEventIds)==null?void 0:D.includes(k.id)});r(C);const R=await Ue.getUserBookings(n.id);f(R),y(!1)};return v.jsxs("div",{className:"space-y-8",children:[v.jsxs("div",{className:"bg-white rounded-3xl shadow-sm border border-gray-100 overflow-hidden",children:[v.jsx("div",{className:"h-32 bg-gradient-to-r from-dahab-teal to-blue-500"}),v.jsx("div",{className:"px-8 pb-8",children:v.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-end -mt-12 gap-6",children:[v.jsx("div",{className:"w-24 h-24 rounded-full bg-white p-1 shadow-lg",children:v.jsx("div",{className:"w-full h-full rounded-full bg-gray-100 flex items-center justify-center",children:v.jsx(il,{size:40,className:"text-gray-400"})})}),v.jsxs("div",{className:"flex-1 space-y-1 mb-2",children:[v.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:n.name}),v.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-500",children:[v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx(wy,{size:16})," ",n.email]}),v.jsxs("div",{className:"flex items-center gap-1 capitalize",children:[v.jsx(ZT,{size:16})," ",n.role]})]})]})]})})]}),v.jsxs("div",{className:"flex gap-2 border-b border-gray-200 overflow-x-auto",children:[v.jsxs("button",{onClick:()=>_("saved"),className:`px-6 py-3 font-medium text-sm transition border-b-2 whitespace-nowrap ${h==="saved"?"border-dahab-teal text-dahab-teal":"border-transparent text-gray-500 hover:text-gray-700"}`,children:["Saved (",o.length,")"]}),v.jsxs("button",{onClick:()=>_("bookings"),className:`px-6 py-3 font-medium text-sm transition border-b-2 whitespace-nowrap ${h==="bookings"?"border-dahab-teal text-dahab-teal":"border-transparent text-gray-500 hover:text-gray-700"}`,children:["Bookings (",l.length,")"]})]}),x?v.jsx("div",{className:"py-20 text-center text-gray-500",children:"Loading..."}):v.jsxs(v.Fragment,{children:[h==="saved"&&v.jsx("div",{className:"space-y-6",children:o.length===0?v.jsxs("div",{className:"text-center py-12 bg-white rounded-2xl border border-dashed border-gray-300",children:[v.jsx(nl,{className:"mx-auto text-gray-300 mb-2",size:40}),v.jsx("p",{className:"text-gray-500",children:"You haven't saved any events yet."}),v.jsx(Ke,{to:"/events",className:"text-dahab-teal font-bold hover:underline mt-2 inline-block",children:"Browse Events"})]}):v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map(b=>v.jsxs("div",{className:"bg-white rounded-2xl overflow-hidden shadow-sm border border-gray-100 flex flex-col group hover:shadow-lg transition",children:[v.jsxs("div",{className:"relative h-40",children:[v.jsx("img",{src:b.imageUrl,alt:b.title,className:"w-full h-full object-cover"}),v.jsx("button",{onClick:()=>t(b.id),className:"absolute top-3 right-3 p-2 bg-white/90 rounded-full text-red-500 hover:bg-white transition",children:v.jsx(nl,{size:16,fill:"currentColor"})})]}),v.jsxs("div",{className:"p-4 flex-1 flex flex-col",children:[v.jsx("h3",{className:"font-bold text-lg mb-2 line-clamp-1",children:b.title}),v.jsxs("div",{className:"space-y-2 text-sm text-gray-500 mb-4",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(Ho,{size:14,className:"text-dahab-gold"})," ",b.date]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(Ba,{size:14,className:"text-dahab-gold"})," ",b.location]})]}),v.jsx(Ke,{to:`/book/event/${b.id}`,className:"mt-auto w-full py-2 bg-gray-50 text-gray-600 rounded-lg text-sm font-bold hover:bg-dahab-teal hover:text-white transition text-center",children:"Book Now"})]})]},b.id))})}),h==="bookings"&&v.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:l.length===0?v.jsx("div",{className:"text-center py-12 text-gray-500",children:"No bookings found."}):v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"w-full text-left text-sm",children:[v.jsx("thead",{className:"bg-gray-50 text-gray-500 uppercase",children:v.jsxs("tr",{children:[v.jsx("th",{className:"p-4",children:"Item"}),v.jsx("th",{className:"p-4",children:"Type"}),v.jsx("th",{className:"p-4",children:"Status"}),v.jsx("th",{className:"p-4",children:"Date"}),v.jsx("th",{className:"p-4 text-right",children:"Amount"})]})}),v.jsx("tbody",{className:"divide-y divide-gray-100",children:l.map(b=>v.jsxs("tr",{className:"hover:bg-gray-50",children:[v.jsxs("td",{className:"p-4 font-medium",children:["Booking #",b.id.substr(0,6)]}),v.jsx("td",{className:"p-4 capitalize",children:b.itemType}),v.jsx("td",{className:"p-4",children:v.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${b.status==="confirmed"?"bg-green-100 text-green-700":b.status==="rejected"?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:b.status})}),v.jsx("td",{className:"p-4 text-gray-500",children:new Date(b.timestamp).toLocaleDateString()}),v.jsxs("td",{className:"p-4 text-right font-bold",children:[b.amount," EGP"]})]},b.id))})]})})})]})]})},ME=({user:n})=>{const[t,o]=z.useState([]),[r,l]=z.useState(!0),[f,h]=z.useState(""),[_,x]=z.useState(null),[y,E]=z.useState(!1),b=z.useRef(null);z.useEffect(()=>{C()},[]);const C=async()=>{const H=await Ue.getPosts();o(H),l(!1)},R=H=>{var O;const X=(O=H.target.files)==null?void 0:O[0];if(X){const ie=new FileReader;ie.onloadend=()=>{x(ie.result)},ie.readAsDataURL(X)}},k=async()=>{if(!n||!f.trim()&&!_)return;E(!0);const H={id:Math.random().toString(36).substr(2,9),authorId:n.id,authorName:n.name,authorRole:n.role,content:f,imageUrl:_||void 0,likes:[],comments:[],timestamp:new Date().toISOString()};await Ue.createPost(H),await C(),h(""),x(null),E(!1)},D=async H=>{if(!n)return alert("Please login to like posts");o(X=>X.map(O=>{if(O.id===H){const ie=O.likes.includes(n.id);return{...O,likes:ie?O.likes.filter(le=>le!==n.id):[...O.likes,n.id]}}return O})),await Ue.toggleLikePost(H,n.id)},I=()=>{alert("Link copied to clipboard! (Simulated)")};return v.jsxs("div",{className:"max-w-2xl mx-auto space-y-6 pb-20",children:[v.jsxs("div",{className:"bg-gradient-to-r from-dahab-teal to-blue-500 rounded-2xl p-6 text-white text-center shadow-lg",children:[v.jsx("h1",{className:"text-2xl font-bold",children:"Community Hub"}),v.jsx("p",{className:"opacity-90",children:"Connect with travelers, locals, and service providers."})]}),v.jsx("div",{className:"bg-white rounded-2xl p-4 shadow-sm border border-gray-100 text-gray-900",children:n?v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"flex gap-4",children:[v.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center overflow-hidden",children:v.jsx(il,{className:"text-gray-400"})}),v.jsx("textarea",{value:f,onChange:H=>h(H.target.value),placeholder:`What's happening in Dahab, ${n.name.split(" ")[0]}?`,className:"flex-1 bg-gray-50 rounded-xl p-3 focus:outline-none focus:ring-2 focus:ring-dahab-teal/20 resize-none h-24 text-gray-900"})]}),_&&v.jsxs("div",{className:"relative rounded-xl overflow-hidden bg-gray-100 max-h-60",children:[v.jsx("img",{src:_,alt:"Preview",className:"w-full h-full object-contain"}),v.jsx("button",{onClick:()=>x(null),className:"absolute top-2 right-2 bg-black/50 text-white p-1 rounded-full hover:bg-black/70",children:v.jsx(Ji,{size:16})})]}),v.jsxs("div",{className:"flex justify-between items-center border-t border-gray-100 pt-3",children:[v.jsxs("div",{className:"flex gap-2",children:[v.jsxs("button",{onClick:()=>{var H;return(H=b.current)==null?void 0:H.click()},className:"flex items-center gap-2 text-gray-500 hover:text-dahab-teal px-3 py-1.5 rounded-lg hover:bg-gray-50 transition",children:[v.jsx(Cy,{size:20}),v.jsx("span",{className:"text-sm font-medium hidden sm:inline",children:"Photo"})]}),v.jsxs("button",{className:"flex items-center gap-2 text-gray-500 hover:text-dahab-teal px-3 py-1.5 rounded-lg hover:bg-gray-50 transition",title:"Video uploading coming soon",children:[v.jsx(lE,{size:20}),v.jsx("span",{className:"text-sm font-medium hidden sm:inline",children:"Video"})]}),v.jsx("input",{type:"file",ref:b,className:"hidden",accept:"image/*",onChange:R})]}),v.jsxs("button",{onClick:k,disabled:y||!f&&!_,className:"bg-dahab-teal text-white px-6 py-2 rounded-full font-bold hover:bg-teal-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 transition",children:[y?v.jsx(Pa,{className:"animate-spin",size:18}):v.jsx(tc,{size:18}),"Post"]})]})]}):v.jsxs("div",{className:"text-center py-6",children:[v.jsx("p",{className:"text-gray-500 mb-3",children:"Login to share your Dahab moments!"}),v.jsx(Ke,{to:"/login",className:"text-dahab-teal font-bold hover:underline",children:"Sign In to Post"})]})}),r?v.jsx("div",{className:"space-y-6",children:[1,2,3].map(H=>v.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden animate-pulse",children:[v.jsxs("div",{className:"p-4 flex items-center gap-3",children:[v.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200"}),v.jsxs("div",{className:"space-y-2 flex-1",children:[v.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3"}),v.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/4"})]})]}),v.jsxs("div",{className:"px-4 pb-4 space-y-2",children:[v.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"}),v.jsx("div",{className:"h-4 bg-gray-200 rounded w-5/6"})]}),v.jsx("div",{className:"h-64 bg-gray-200 w-full"}),v.jsxs("div",{className:"p-4 flex gap-2",children:[v.jsx("div",{className:"h-8 w-16 bg-gray-200 rounded-full"}),v.jsx("div",{className:"h-8 w-16 bg-gray-200 rounded-full"}),v.jsx("div",{className:"h-8 w-12 bg-gray-200 rounded-full"})]})]},H))}):v.jsx("div",{className:"space-y-6",children:t.map(H=>v.jsx(RE,{post:H,currentUser:n,onLike:()=>D(H.id),onShare:I},H.id))})]})},RE=({post:n,currentUser:t,onLike:o,onShare:r})=>{const[l,f]=z.useState(!1),[h,_]=z.useState(""),[x,y]=z.useState(n.comments),[E,b]=z.useState(!1),C=t?n.likes.includes(t.id):!1,R=async D=>{if(D.preventDefault(),!t||!h.trim())return;b(!0);const I={id:Math.random().toString(36),authorId:t.id,authorName:t.name,content:h,timestamp:new Date().toISOString()};await Ue.addComment(n.id,I),y([...x,I]),_(""),b(!1)},k=(D,I)=>{switch(D){case vt.ADMIN:return v.jsxs("span",{className:"bg-dahab-gold text-black text-[10px] font-bold px-2 py-0.5 rounded-full flex items-center gap-1",children:[v.jsx(Ay,{size:10})," ADMIN"]});case vt.PROVIDER:return v.jsxs("span",{className:"bg-green-100 text-green-700 text-[10px] font-bold px-2 py-0.5 rounded-full flex items-center gap-1",children:[v.jsx(_y,{size:10})," PROVIDER"]});default:return null}};return v.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden text-gray-900",children:[v.jsxs("div",{className:"p-4 flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center font-bold text-gray-500",children:n.authorName.charAt(0)}),v.jsxs("div",{children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("h3",{className:"font-bold text-gray-900",children:n.authorName}),k(n.authorRole,n.authorId)]}),v.jsxs("p",{className:"text-xs text-gray-400",children:[new Date(n.timestamp).toLocaleDateString()," at ",new Date(n.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})]}),v.jsx("button",{className:"text-gray-400 hover:text-gray-600",children:v.jsx(Ey,{size:20})})]}),v.jsx("div",{className:"px-4 pb-2",children:v.jsx("p",{className:"text-gray-800 whitespace-pre-wrap leading-relaxed",children:n.content})}),n.imageUrl&&v.jsx("div",{className:"mt-2 bg-black/5 max-h-[500px] overflow-hidden flex items-center justify-center",children:v.jsx("img",{src:n.imageUrl,alt:"Post content",className:"w-full h-full object-cover"})}),v.jsxs("div",{className:"p-4",children:[v.jsx("div",{className:"flex items-center justify-between border-t border-gray-100 pt-3",children:v.jsxs("div",{className:"flex gap-1",children:[v.jsxs("button",{onClick:o,className:`flex items-center gap-2 px-3 py-2 rounded-full transition ${C?"text-red-500 bg-red-50":"text-gray-500 hover:bg-gray-50"}`,children:[v.jsx(nl,{size:20,fill:C?"currentColor":"none"}),v.jsx("span",{className:"text-sm font-bold",children:n.likes.length})]}),v.jsxs("button",{onClick:()=>f(!l),className:"flex items-center gap-2 px-3 py-2 rounded-full text-gray-500 hover:bg-gray-50 transition",children:[v.jsx(TT,{size:20}),v.jsx("span",{className:"text-sm font-bold",children:x.length})]}),v.jsx("button",{onClick:r,className:"flex items-center gap-2 px-3 py-2 rounded-full text-gray-500 hover:bg-gray-50 transition",children:v.jsx(HT,{size:20})})]})}),l&&v.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 animate-fade-in",children:[v.jsxs("div",{className:"space-y-4 mb-4",children:[x.map(D=>v.jsxs("div",{className:"flex gap-3",children:[v.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center text-xs font-bold text-gray-500 flex-shrink-0",children:D.authorName.charAt(0)}),v.jsxs("div",{className:"bg-gray-50 rounded-2xl rounded-tl-none p-3 flex-1",children:[v.jsxs("div",{className:"flex justify-between items-start mb-1",children:[v.jsx("span",{className:"font-bold text-xs text-gray-900",children:D.authorName}),v.jsx("span",{className:"text-[10px] text-gray-400",children:new Date(D.timestamp).toLocaleDateString()})]}),v.jsx("p",{className:"text-sm text-gray-700",children:D.content})]})]},D.id)),x.length===0&&v.jsx("p",{className:"text-center text-sm text-gray-400 italic",children:"No comments yet."})]}),t?v.jsxs("form",{onSubmit:R,className:"relative",children:[v.jsx("input",{type:"text",value:h,onChange:D=>_(D.target.value),placeholder:"Write a comment...",className:"w-full bg-gray-100 rounded-full pl-4 pr-12 py-2.5 text-sm focus:outline-none focus:ring-2 focus:ring-dahab-teal/30 text-gray-900"}),v.jsx("button",{type:"submit",disabled:!h.trim()||E,className:"absolute right-2 top-1.5 p-1.5 bg-dahab-teal text-white rounded-full hover:bg-teal-700 disabled:opacity-50 transition",children:v.jsx(tc,{size:14})})]}):v.jsx("p",{className:"text-center text-xs text-dahab-teal font-bold bg-teal-50 py-2 rounded-lg",children:"Login to comment"})]})]})]})},IE=()=>{const n=[{title:"Diving",icon:v.jsx(kS,{size:24}),link:"/events?category=Diving",description:"Explore the Red Sea depths",color:"bg-blue-100 text-blue-600"},{title:"Wellness",icon:v.jsx(nl,{size:24}),link:"/events?category=Wellness",description:"Yoga, meditation & spas",color:"bg-rose-100 text-rose-600"},{title:"Hiking",icon:v.jsx(wT,{size:24}),link:"/events?category=Hike",description:"Canyons & mountain trails",color:"bg-orange-100 text-orange-600"}],t=[{title:"Accommodation",icon:v.jsx(by,{size:24}),link:"#",description:"Hotels, camps & apartments",color:"bg-purple-100 text-purple-600",comingSoon:!0},{title:"Food & Dining",icon:v.jsx(aE,{size:24}),link:"#",description:"Best restaurants in town",color:"bg-green-100 text-green-600",comingSoon:!0},{title:"Misc Services",icon:v.jsx(Ey,{size:24}),link:"#",description:"Laundry, Sim cards & more",color:"bg-gray-100 text-gray-600",comingSoon:!0}];return v.jsxs("div",{className:"space-y-8",children:[v.jsxs("div",{className:"bg-dahab-teal text-white p-8 rounded-3xl shadow-lg relative overflow-hidden",children:[v.jsxs("div",{className:"relative z-10",children:[v.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Explore More"}),v.jsx("p",{className:"opacity-90",children:"Find specialized activities, local guides, and everything else Dahab offers."})]}),v.jsx("div",{className:"absolute -right-10 -bottom-10 w-48 h-48 bg-white/10 rounded-full blur-2xl"})]}),v.jsxs("section",{children:[v.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Activities & Events"}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:n.map(o=>v.jsxs(Ke,{to:o.link,className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 hover:shadow-md transition flex items-center gap-4 group",children:[v.jsx("div",{className:`p-4 rounded-xl ${o.color} group-hover:scale-110 transition-transform`,children:o.icon}),v.jsxs("div",{className:"flex-1",children:[v.jsx("h3",{className:"font-bold text-gray-900",children:o.title}),v.jsx("p",{className:"text-xs text-gray-500",children:o.description})]}),v.jsx(tl,{size:18,className:"text-gray-300 group-hover:text-dahab-teal"})]},o.title))})]}),v.jsxs("section",{children:[v.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Dahab Guide"}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:t.map(o=>v.jsxs("div",{className:`bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex items-center gap-4 relative overflow-hidden ${o.comingSoon?"opacity-75":"hover:shadow-md cursor-pointer"}`,children:[v.jsx("div",{className:`p-4 rounded-xl ${o.color}`,children:o.icon}),v.jsxs("div",{className:"flex-1",children:[v.jsx("h3",{className:"font-bold text-gray-900",children:o.title}),v.jsx("p",{className:"text-xs text-gray-500",children:o.description})]}),o.comingSoon&&v.jsx("span",{className:"absolute top-2 right-2 bg-gray-100 text-gray-500 text-[10px] font-bold px-2 py-0.5 rounded-full",children:"COMING SOON"})]},o.title))})]})]})},LE=()=>{const n=za(),[t,o]=z.useState(null),[r,l]=z.useState([]),[f,h]=z.useState([]),[_,x]=z.useState(!0),[y,E]=z.useState(!1),[b,C]=z.useState(null);z.useEffect(()=>{const H=localStorage.getItem("dahab_user");if(H){const X=JSON.parse(H);X.role!==vt.PROVIDER?n("/"):(o(X),R(X.id))}else n("/login")},[]);const R=async H=>{x(!0);const O=(await Ue.getEvents()).filter(oe=>oe.organizerId===H);l(O);const ie=await Ue.getBookings(),le=O.map(oe=>oe.id),pe=ie.filter(oe=>le.includes(oe.itemId));h(pe),x(!1)},k=H=>{C(H||null),E(!0)},D=async H=>{t&&(b?await Ue.updateEvent({...b,...H,status:"pending"}):await Ue.addEvent({id:Math.random().toString(36).substr(2,9),title:H.title,description:H.description,date:H.date,time:H.time,location:H.location,price:H.price,imageUrl:H.imageUrl||"https://images.unsplash.com/photo-1514525253440-b393452e8d26?auto=format&fit=crop&q=80&w=800",category:H.category,organizerId:t.id,status:"pending"}),await R(t.id))},I=async H=>{window.confirm("Are you sure you want to delete this event?")&&(await Ue.deleteEvent(H),t&&R(t.id))};return _?v.jsx("div",{className:"p-10 text-center",children:"Loading Dashboard..."}):t?v.jsxs("div",{className:"space-y-8 pb-20",children:[v.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Provider Dashboard"}),v.jsx("p",{className:"text-gray-500",children:"Manage your events and view your stats."})]}),v.jsxs("button",{onClick:()=>k(),className:"bg-dahab-teal text-white px-6 py-3 rounded-xl font-bold hover:bg-teal-700 flex items-center gap-2 shadow-lg hover:shadow-dahab-teal/50 transition",children:[v.jsx(Ny,{size:20})," Create Event"]})]}),t.providerStatus==="pending"&&v.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-2xl p-4 flex items-start gap-3",children:[v.jsx(Xf,{className:"text-yellow-600 shrink-0 mt-1"}),v.jsxs("div",{children:[v.jsx("h3",{className:"font-bold text-yellow-800",children:"Account Pending Verification"}),v.jsx("p",{className:"text-sm text-yellow-700",children:"Your provider account is currently under review by the admin. Your events will not be public until your account is approved."})]})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[v.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100",children:[v.jsxs("div",{className:"flex justify-between items-start mb-4",children:[v.jsx("div",{className:"p-2 bg-blue-50 rounded-lg text-blue-600",children:v.jsx(Ho,{size:20})}),v.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase",children:"Events"})]}),v.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r.length}),v.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Total Created"})]}),v.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100",children:[v.jsxs("div",{className:"flex justify-between items-start mb-4",children:[v.jsx("div",{className:"p-2 bg-purple-50 rounded-lg text-purple-600",children:v.jsx(qS,{size:20})}),v.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase",children:"Views"})]}),v.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"1.2k"}),v.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This Month"})]}),v.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100",children:[v.jsxs("div",{className:"flex justify-between items-start mb-4",children:[v.jsx("div",{className:"p-2 bg-green-50 rounded-lg text-green-600",children:v.jsx(Ty,{size:20})}),v.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase",children:"Bookings"})]}),v.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:f.length}),v.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Confirmed"})]}),v.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100",children:[v.jsxs("div",{className:"flex justify-between items-start mb-4",children:[v.jsx("div",{className:"p-2 bg-orange-50 rounded-lg text-orange-600",children:v.jsx(oE,{size:20})}),v.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase",children:"Rating"})]}),v.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"4.9"}),v.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Average"})]})]}),v.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[v.jsx("div",{className:"p-6 border-b border-gray-100",children:v.jsx("h2",{className:"font-bold text-lg",children:"My Events"})}),r.length===0?v.jsxs("div",{className:"p-10 text-center text-gray-500",children:[v.jsx(Ho,{className:"mx-auto mb-3 text-gray-300",size:40}),v.jsx("p",{children:"You haven't created any events yet."}),v.jsx("button",{onClick:()=>k(),className:"text-dahab-teal font-bold hover:underline mt-2",children:"Create your first event"})]}):v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"w-full text-left",children:[v.jsx("thead",{className:"bg-gray-50 text-gray-500 text-sm uppercase",children:v.jsxs("tr",{children:[v.jsx("th",{className:"p-4",children:"Event Details"}),v.jsx("th",{className:"p-4",children:"Date"}),v.jsx("th",{className:"p-4",children:"Status"}),v.jsx("th",{className:"p-4 text-right",children:"Actions"})]})}),v.jsx("tbody",{className:"divide-y divide-gray-100",children:r.map(H=>v.jsxs("tr",{className:"hover:bg-gray-50",children:[v.jsx("td",{className:"p-4",children:v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("img",{src:H.imageUrl,className:"w-12 h-12 rounded-lg object-cover bg-gray-100"}),v.jsxs("div",{children:[v.jsx("div",{className:"font-bold text-gray-900",children:H.title}),v.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-1",children:[v.jsx(Ba,{size:10})," ",H.location]})]})]})}),v.jsxs("td",{className:"p-4 text-sm text-gray-600",children:[v.jsx("div",{className:"font-medium",children:H.date}),v.jsx("div",{className:"text-xs",children:H.time})]}),v.jsxs("td",{className:"p-4",children:[H.status==="approved"&&v.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-bold bg-green-100 text-green-700",children:[v.jsx(Sy,{size:12})," Live"]}),H.status==="pending"&&v.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-bold bg-yellow-100 text-yellow-700",children:[v.jsx(Kf,{size:12})," Pending Approval"]}),H.status==="rejected"&&v.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-bold bg-red-100 text-red-700",children:[v.jsx(jS,{size:12})," Rejected"]})]}),v.jsx("td",{className:"p-4",children:v.jsxs("div",{className:"flex justify-end gap-2",children:[v.jsx("button",{onClick:()=>k(H),className:"p-2 text-gray-500 hover:bg-gray-100 rounded-lg transition",title:"Edit",children:v.jsx(bf,{size:16})}),v.jsx("button",{onClick:()=>I(H.id),className:"p-2 text-gray-500 hover:bg-red-50 hover:text-red-500 rounded-lg transition",title:"Delete",children:v.jsx(My,{size:16})})]})})]},H.id))})]})})]}),v.jsx(Dy,{isOpen:y,onClose:()=>E(!1),onSubmit:D,initialData:b})]}):null};var DE={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let PE,kE;function UE(){return{geminiUrl:PE,vertexUrl:kE}}function zE(n,t,o,r){var l,f;if(!(n!=null&&n.baseUrl)){const h=UE();return t?(l=h.vertexUrl)!==null&&l!==void 0?l:o:(f=h.geminiUrl)!==null&&f!==void 0?f:r}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Xi{}function de(n,t){const o=/\{([^}]+)\}/g;return n.replace(o,(r,l)=>{if(Object.prototype.hasOwnProperty.call(t,l)){const f=t[l];return f!=null?String(f):""}else throw new Error(`Key '${l}' not found in valueMap.`)})}function m(n,t,o){for(let f=0;f<t.length-1;f++){const h=t[f];if(h.endsWith("[]")){const _=h.slice(0,-2);if(!(_ in n))if(Array.isArray(o))n[_]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${h}`);if(Array.isArray(n[_])){const x=n[_];if(Array.isArray(o))for(let y=0;y<x.length;y++){const E=x[y];m(E,t.slice(f+1),o[y])}else for(const y of x)m(y,t.slice(f+1),o)}return}else if(h.endsWith("[0]")){const _=h.slice(0,-3);_ in n||(n[_]=[{}]);const x=n[_];m(x[0],t.slice(f+1),o);return}(!n[h]||typeof n[h]!="object")&&(n[h]={}),n=n[h]}const r=t[t.length-1],l=n[r];if(l!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===l)return;if(typeof l=="object"&&typeof o=="object"&&l!==null&&o!==null)Object.assign(l,o);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof o=="object"&&o!==null&&!Array.isArray(o)?Object.assign(n,o):n[r]=o}function d(n,t,o=void 0){try{if(t.length===1&&t[0]==="_self")return n;for(let r=0;r<t.length;r++){if(typeof n!="object"||n===null)return o;const l=t[r];if(l.endsWith("[]")){const f=l.slice(0,-2);if(f in n){const h=n[f];return Array.isArray(h)?h.map(_=>d(_,t.slice(r+1),o)):o}else return o}else n=n[l]}return n}catch(r){if(r instanceof TypeError)return o;throw r}}function BE(n,t){for(const[o,r]of Object.entries(t)){const l=o.split("."),f=r.split("."),h=new Set;let _=-1;for(let x=0;x<l.length;x++)if(l[x]==="*"){_=x;break}if(_!==-1&&f.length>_)for(let x=_;x<f.length;x++){const y=f[x];y!=="*"&&!y.endsWith("[]")&&!y.endsWith("[0]")&&h.add(y)}wf(n,l,f,0,h)}}function wf(n,t,o,r,l){if(r>=t.length||typeof n!="object"||n===null)return;const f=t[r];if(f.endsWith("[]")){const h=f.slice(0,-2),_=n;if(h in _&&Array.isArray(_[h]))for(const x of _[h])wf(x,t,o,r+1,l)}else if(f==="*"){if(typeof n=="object"&&n!==null&&!Array.isArray(n)){const h=n,_=Object.keys(h).filter(y=>!y.startsWith("_")&&!l.has(y)),x={};for(const y of _)x[y]=h[y];for(const[y,E]of Object.entries(x)){const b=[];for(const C of o.slice(r))C==="*"?b.push(y):b.push(C);m(h,b,E)}for(const y of _)delete h[y]}}else{const h=n;f in h&&wf(h[f],t,o,r+1,l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $f(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function HE(n){const t={},o=d(n,["operationName"]);o!=null&&m(t,["operationName"],o);const r=d(n,["resourceName"]);return r!=null&&m(t,["_url","resourceName"],r),t}function OE(n){const t={},o=d(n,["name"]);o!=null&&m(t,["name"],o);const r=d(n,["metadata"]);r!=null&&m(t,["metadata"],r);const l=d(n,["done"]);l!=null&&m(t,["done"],l);const f=d(n,["error"]);f!=null&&m(t,["error"],f);const h=d(n,["response","generateVideoResponse"]);return h!=null&&m(t,["response"],VE(h)),t}function GE(n){const t={},o=d(n,["name"]);o!=null&&m(t,["name"],o);const r=d(n,["metadata"]);r!=null&&m(t,["metadata"],r);const l=d(n,["done"]);l!=null&&m(t,["done"],l);const f=d(n,["error"]);f!=null&&m(t,["error"],f);const h=d(n,["response"]);return h!=null&&m(t,["response"],qE(h)),t}function VE(n){const t={},o=d(n,["generatedSamples"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(h=>FE(h))),m(t,["generatedVideos"],f)}const r=d(n,["raiMediaFilteredCount"]);r!=null&&m(t,["raiMediaFilteredCount"],r);const l=d(n,["raiMediaFilteredReasons"]);return l!=null&&m(t,["raiMediaFilteredReasons"],l),t}function qE(n){const t={},o=d(n,["videos"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(h=>ZE(h))),m(t,["generatedVideos"],f)}const r=d(n,["raiMediaFilteredCount"]);r!=null&&m(t,["raiMediaFilteredCount"],r);const l=d(n,["raiMediaFilteredReasons"]);return l!=null&&m(t,["raiMediaFilteredReasons"],l),t}function FE(n){const t={},o=d(n,["video"]);return o!=null&&m(t,["video"],QE(o)),t}function ZE(n){const t={},o=d(n,["_self"]);return o!=null&&m(t,["video"],$E(o)),t}function YE(n){const t={},o=d(n,["operationName"]);return o!=null&&m(t,["_url","operationName"],o),t}function JE(n){const t={},o=d(n,["operationName"]);return o!=null&&m(t,["_url","operationName"],o),t}function jE(n){const t={},o=d(n,["name"]);o!=null&&m(t,["name"],o);const r=d(n,["metadata"]);r!=null&&m(t,["metadata"],r);const l=d(n,["done"]);l!=null&&m(t,["done"],l);const f=d(n,["error"]);f!=null&&m(t,["error"],f);const h=d(n,["response"]);return h!=null&&m(t,["response"],KE(h)),t}function KE(n){const t={},o=d(n,["sdkHttpResponse"]);o!=null&&m(t,["sdkHttpResponse"],o);const r=d(n,["parent"]);r!=null&&m(t,["parent"],r);const l=d(n,["documentName"]);return l!=null&&m(t,["documentName"],l),t}function Py(n){const t={},o=d(n,["name"]);o!=null&&m(t,["name"],o);const r=d(n,["metadata"]);r!=null&&m(t,["metadata"],r);const l=d(n,["done"]);l!=null&&m(t,["done"],l);const f=d(n,["error"]);f!=null&&m(t,["error"],f);const h=d(n,["response"]);return h!=null&&m(t,["response"],XE(h)),t}function XE(n){const t={},o=d(n,["sdkHttpResponse"]);o!=null&&m(t,["sdkHttpResponse"],o);const r=d(n,["parent"]);r!=null&&m(t,["parent"],r);const l=d(n,["documentName"]);return l!=null&&m(t,["documentName"],l),t}function QE(n){const t={},o=d(n,["uri"]);o!=null&&m(t,["uri"],o);const r=d(n,["encodedVideo"]);r!=null&&m(t,["videoBytes"],$f(r));const l=d(n,["encoding"]);return l!=null&&m(t,["mimeType"],l),t}function $E(n){const t={},o=d(n,["gcsUri"]);o!=null&&m(t,["uri"],o);const r=d(n,["bytesBase64Encoded"]);r!=null&&m(t,["videoBytes"],$f(r));const l=d(n,["mimeType"]);return l!=null&&m(t,["mimeType"],l),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Eg;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Eg||(Eg={}));var bg;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(bg||(bg={}));var Cg;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(Cg||(Cg={}));var Bo;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(Bo||(Bo={}));var wg;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(wg||(wg={}));var Ng;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Ng||(Ng={}));var Ag;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(Ag||(Ag={}));var Mg;(function(n){n.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",n.HTTP_IN_QUERY="HTTP_IN_QUERY",n.HTTP_IN_HEADER="HTTP_IN_HEADER",n.HTTP_IN_PATH="HTTP_IN_PATH",n.HTTP_IN_BODY="HTTP_IN_BODY",n.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Mg||(Mg={}));var Rg;(function(n){n.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",n.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",n.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",n.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Rg||(Rg={}));var Ig;(function(n){n.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",n.LOW="LOW",n.HIGH="HIGH"})(Ig||(Ig={}));var Lg;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Lg||(Lg={}));var Dg;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(Dg||(Dg={}));var Pg;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(Pg||(Pg={}));var kg;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",n.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",n.NO_IMAGE="NO_IMAGE",n.IMAGE_RECITATION="IMAGE_RECITATION",n.IMAGE_OTHER="IMAGE_OTHER"})(kg||(kg={}));var Ug;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(Ug||(Ug={}));var zg;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(zg||(zg={}));var Bg;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Bg||(Bg={}));var Hg;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY",n.MODEL_ARMOR="MODEL_ARMOR",n.JAILBREAK="JAILBREAK"})(Hg||(Hg={}));var Og;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Og||(Og={}));var Ju;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(Ju||(Ju={}));var Gg;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Gg||(Gg={}));var Vg;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Vg||(Vg={}));var qg;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(qg||(qg={}));var Nf;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Nf||(Nf={}));var Fg;(function(n){n.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",n.TUNING_TASK_I2V="TUNING_TASK_I2V",n.TUNING_TASK_T2V="TUNING_TASK_T2V",n.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Fg||(Fg={}));var Zg;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Zg||(Zg={}));var Yg;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(Yg||(Yg={}));var Jg;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(Jg||(Jg={}));var jg;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(jg||(jg={}));var Kg;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Kg||(Kg={}));var Xg;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE",n.VALIDATED="VALIDATED"})(Xg||(Xg={}));var Qg;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(Qg||(Qg={}));var $g;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})($g||($g={}));var Wg;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(Wg||(Wg={}));var ev;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(ev||(ev={}));var tv;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(tv||(tv={}));var nv;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(nv||(nv={}));var iv;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(iv||(iv={}));var ov;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})(ov||(ov={}));var sv;(function(n){n.ASSET="ASSET",n.STYLE="STYLE"})(sv||(sv={}));var av;(function(n){n.INSERT="INSERT",n.REMOVE="REMOVE",n.REMOVE_STATIC="REMOVE_STATIC",n.OUTPAINT="OUTPAINT"})(av||(av={}));var rv;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(rv||(rv={}));var lv;(function(n){n.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",n.PREFERENCE_TUNING="PREFERENCE_TUNING"})(lv||(lv={}));var uv;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.STATE_PENDING="STATE_PENDING",n.STATE_ACTIVE="STATE_ACTIVE",n.STATE_FAILED="STATE_FAILED"})(uv||(uv={}));var cv;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(cv||(cv={}));var dv;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(dv||(dv={}));var fv;(function(n){n.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.RESPONSE_REJECTED="RESPONSE_REJECTED",n.NEED_MORE_INPUT="NEED_MORE_INPUT"})(fv||(fv={}));var hv;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(hv||(hv={}));var mv;(function(n){n.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",n.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",n.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(mv||(mv={}));var pv;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(pv||(pv={}));var gv;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(gv||(gv={}));var vv;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(vv||(vv={}));var yv;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(yv||(yv={}));var _v;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(_v||(_v={}));var xv;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(xv||(xv={}));var Ma;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(Ma||(Ma={}));class Af{constructor(t){const o={};for(const r of t.headers.entries())o[r[0]]=r[1];this.headers=o,this.responseInternal=t}json(){return this.responseInternal.json()}}class Qr{get text(){var t,o,r,l,f,h,_,x;if(((l=(r=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||r===void 0?void 0:r.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let y="",E=!1;const b=[];for(const C of(x=(_=(h=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||h===void 0?void 0:h.content)===null||_===void 0?void 0:_.parts)!==null&&x!==void 0?x:[]){for(const[R,k]of Object.entries(C))R!=="text"&&R!=="thought"&&R!=="thoughtSignature"&&(k!==null||k!==void 0)&&b.push(R);if(typeof C.text=="string"){if(typeof C.thought=="boolean"&&C.thought)continue;E=!0,y+=C.text}}return b.length>0&&console.warn(`there are non-text parts ${b} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),E?y:void 0}get data(){var t,o,r,l,f,h,_,x;if(((l=(r=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||r===void 0?void 0:r.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let y="";const E=[];for(const b of(x=(_=(h=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||h===void 0?void 0:h.content)===null||_===void 0?void 0:_.parts)!==null&&x!==void 0?x:[]){for(const[C,R]of Object.entries(b))C!=="inlineData"&&(R!==null||R!==void 0)&&E.push(C);b.inlineData&&typeof b.inlineData.data=="string"&&(y+=atob(b.inlineData.data))}return E.length>0&&console.warn(`there are non-data parts ${E} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),y.length>0?btoa(y):void 0}get functionCalls(){var t,o,r,l,f,h,_,x;if(((l=(r=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||r===void 0?void 0:r.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const y=(x=(_=(h=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||h===void 0?void 0:h.content)===null||_===void 0?void 0:_.parts)===null||x===void 0?void 0:x.filter(E=>E.functionCall).map(E=>E.functionCall).filter(E=>E!==void 0);if((y==null?void 0:y.length)!==0)return y}get executableCode(){var t,o,r,l,f,h,_,x,y;if(((l=(r=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||r===void 0?void 0:r.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const E=(x=(_=(h=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||h===void 0?void 0:h.content)===null||_===void 0?void 0:_.parts)===null||x===void 0?void 0:x.filter(b=>b.executableCode).map(b=>b.executableCode).filter(b=>b!==void 0);if((E==null?void 0:E.length)!==0)return(y=E==null?void 0:E[0])===null||y===void 0?void 0:y.code}get codeExecutionResult(){var t,o,r,l,f,h,_,x,y;if(((l=(r=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||r===void 0?void 0:r.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const E=(x=(_=(h=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||h===void 0?void 0:h.content)===null||_===void 0?void 0:_.parts)===null||x===void 0?void 0:x.filter(b=>b.codeExecutionResult).map(b=>b.codeExecutionResult).filter(b=>b!==void 0);if((E==null?void 0:E.length)!==0)return(y=E==null?void 0:E[0])===null||y===void 0?void 0:y.output}}class Sv{}class Tv{}class WE{}class eb{}class tb{}class nb{}class Ev{}class bv{}class Cv{}class ib{}class ju{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const r=new ju;let l;const f=t;return o?l=GE(f):l=OE(f),Object.assign(r,l),r}}class wv{}class Nv{}class Av{}class Mv{}class ob{}class sb{}class ab{}class Wf{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const r=new Wf,f=jE(t);return Object.assign(r,f),r}}class rb{}class lb{}class ub{}class Rv{}class cb{get text(){var t,o,r;let l="",f=!1;const h=[];for(const _ of(r=(o=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&r!==void 0?r:[]){for(const[x,y]of Object.entries(_))x!=="text"&&x!=="thought"&&y!==null&&h.push(x);if(typeof _.text=="string"){if(typeof _.thought=="boolean"&&_.thought)continue;f=!0,l+=_.text}}return h.length>0&&console.warn(`there are non-text parts ${h} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?l:void 0}get data(){var t,o,r;let l="";const f=[];for(const h of(r=(o=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&r!==void 0?r:[]){for(const[_,x]of Object.entries(h))_!=="inlineData"&&x!==null&&f.push(_);h.inlineData&&typeof h.inlineData.data=="string"&&(l+=atob(h.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),l.length>0?btoa(l):void 0}}class db{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class eh{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const r=new eh,f=Py(t);return Object.assign(r,f),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Xe(n,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(n.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const o=t.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function ky(n,t){const o=Xe(n,t);return o?o.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${o}`:o.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${o}`:o:""}function Uy(n){return Array.isArray(n)?n.map(t=>Ku(t)):[Ku(n)]}function Ku(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function zy(n){const t=Ku(n);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function By(n){const t=Ku(n);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Iv(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function Hy(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(t=>Iv(t)):[Iv(n)]}function Mf(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function Lv(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function Dv(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function Kt(n){if(n==null)throw new Error("ContentUnion is required");return Mf(n)?n:{role:"user",parts:Hy(n)}}function th(n,t){if(!t)return[];if(n.isVertexAI()&&Array.isArray(t))return t.flatMap(o=>{const r=Kt(o);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(n.isVertexAI()){const o=Kt(t);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(t)?t.map(o=>Kt(o)):[Kt(t)]}function zn(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(Lv(n)||Dv(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Kt(n)]}const t=[],o=[],r=Mf(n[0]);for(const l of n){const f=Mf(l);if(f!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(f)t.push(l);else{if(Lv(l)||Dv(l))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(l)}}return r||t.push({role:"user",parts:Hy(o)}),t}function fb(n,t){n.includes("null")&&(t.nullable=!0);const o=n.filter(r=>r!=="null");if(o.length===1)t.type=Object.values(Bo).includes(o[0].toUpperCase())?o[0].toUpperCase():Bo.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const r of o)t.anyOf.push({type:Object.values(Bo).includes(r.toUpperCase())?r.toUpperCase():Bo.TYPE_UNSPECIFIED})}}function La(n){const t={},o=["items"],r=["anyOf"],l=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const f=n.anyOf;f!=null&&f.length==2&&(f[0].type==="null"?(t.nullable=!0,n=f[1]):f[1].type==="null"&&(t.nullable=!0,n=f[0])),n.type instanceof Array&&fb(n.type,t);for(const[h,_]of Object.entries(n))if(_!=null)if(h=="type"){if(_==="null")throw new Error("type: null can not be the only possible type for the field.");if(_ instanceof Array)continue;t.type=Object.values(Bo).includes(_.toUpperCase())?_.toUpperCase():Bo.TYPE_UNSPECIFIED}else if(o.includes(h))t[h]=La(_);else if(r.includes(h)){const x=[];for(const y of _){if(y.type=="null"){t.nullable=!0;continue}x.push(La(y))}t[h]=x}else if(l.includes(h)){const x={};for(const[y,E]of Object.entries(_))x[y]=La(E);t[h]=x}else{if(h==="additionalProperties")continue;t[h]=_}return t}function nh(n){return La(n)}function ih(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function oh(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function Ha(n){if(n.functionDeclarations)for(const t of n.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=La(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=La(t.response));return n}function Oa(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const t=[];for(const o of n)t.push(o);return t}function hb(n,t,o,r=1){const l=!t.startsWith(`${o}/`)&&t.split("/").length===r;return n.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${n.getProject()}/${t}`:t.startsWith(`${o}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}`:l?`projects/${n.getProject()}/locations/${n.getLocation()}/${o}/${t}`:t:l?`${o}/${t}`:t}function Qi(n,t){if(typeof t!="string")throw new Error("name must be a string");return hb(n,t,"cachedContents")}function Oy(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function Oo(n){return $f(n)}function mb(n){return n!=null&&typeof n=="object"&&"name"in n}function pb(n){return n!=null&&typeof n=="object"&&"video"in n}function gb(n){return n!=null&&typeof n=="object"&&"uri"in n}function Gy(n){var t;let o;if(mb(n)&&(o=n.name),!(gb(n)&&(o=n.uri,o===void 0))&&!(pb(n)&&(o=(t=n.video)===null||t===void 0?void 0:t.uri,o===void 0))){if(typeof n=="string"&&(o=n),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const l=o.split("files/")[1].match(/[a-z0-9]+/);if(l===null)throw new Error(`Could not extract file name from URI ${o}`);o=l[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function Vy(n,t){let o;return n.isVertexAI()?o=t?"publishers/google/models":"models":o=t?"models":"tunedModels",o}function qy(n){for(const t of["models","tunedModels","publisherModels"])if(vb(n,t))return n[t];return[]}function vb(n,t){return n!==null&&typeof n=="object"&&t in n}function yb(n,t={}){const o=n,r={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return o.outputSchema&&(r.responseJsonSchema=o.outputSchema),t.behavior&&(r.behavior=t.behavior),{functionDeclarations:[r]}}function _b(n,t={}){const o=[],r=new Set;for(const l of n){const f=l.name;if(r.has(f))throw new Error(`Duplicate function name ${f} found in MCP tools. Please ensure function names are unique.`);r.add(f);const h=yb(l,t);h.functionDeclarations&&o.push(...h.functionDeclarations)}return{functionDeclarations:o}}function Fy(n,t){let o;if(typeof t=="string")if(n.isVertexAI())if(t.startsWith("gs://"))o={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))o={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))o={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(n.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");o={inlinedRequests:t}}else o=t;const r=[o.gcsUri,o.bigqueryUri].filter(Boolean).length,l=[o.inlinedRequests,o.fileName].filter(Boolean).length;if(n.isVertexAI()){if(l>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||l!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return o}function xb(n){if(typeof n!="string")return n;const t=n;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function Zy(n){if(typeof n!="object"||n===null)return{};const t=n,o=t.inlinedResponses;if(typeof o!="object"||o===null)return n;const l=o.inlinedResponses;if(!Array.isArray(l)||l.length===0)return n;let f=!1;for(const h of l){if(typeof h!="object"||h===null)continue;const x=h.response;if(typeof x!="object"||x===null)continue;if(x.embedding!==void 0){f=!0;break}}return f&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),n}function Ga(n,t){const o=t;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function Yy(n){const t=n;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Sb(n){const t={},o=d(n,["responsesFile"]);o!=null&&m(t,["fileName"],o);const r=d(n,["inlinedResponses","inlinedResponses"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(h=>tC(h))),m(t,["inlinedResponses"],f)}const l=d(n,["inlinedEmbedContentResponses","inlinedResponses"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(h=>h)),m(t,["inlinedEmbedContentResponses"],f)}return t}function Tb(n){const t={},o=d(n,["predictionsFormat"]);o!=null&&m(t,["format"],o);const r=d(n,["gcsDestination","outputUriPrefix"]);r!=null&&m(t,["gcsUri"],r);const l=d(n,["bigqueryDestination","outputUri"]);return l!=null&&m(t,["bigqueryUri"],l),t}function Eb(n){const t={},o=d(n,["format"]);o!=null&&m(t,["predictionsFormat"],o);const r=d(n,["gcsUri"]);r!=null&&m(t,["gcsDestination","outputUriPrefix"],r);const l=d(n,["bigqueryUri"]);if(l!=null&&m(t,["bigqueryDestination","outputUri"],l),d(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(d(n,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function Fu(n){const t={},o=d(n,["name"]);o!=null&&m(t,["name"],o);const r=d(n,["metadata","displayName"]);r!=null&&m(t,["displayName"],r);const l=d(n,["metadata","state"]);l!=null&&m(t,["state"],Yy(l));const f=d(n,["metadata","createTime"]);f!=null&&m(t,["createTime"],f);const h=d(n,["metadata","endTime"]);h!=null&&m(t,["endTime"],h);const _=d(n,["metadata","updateTime"]);_!=null&&m(t,["updateTime"],_);const x=d(n,["metadata","model"]);x!=null&&m(t,["model"],x);const y=d(n,["metadata","output"]);return y!=null&&m(t,["dest"],Sb(Zy(y))),t}function Rf(n){const t={},o=d(n,["name"]);o!=null&&m(t,["name"],o);const r=d(n,["displayName"]);r!=null&&m(t,["displayName"],r);const l=d(n,["state"]);l!=null&&m(t,["state"],Yy(l));const f=d(n,["error"]);f!=null&&m(t,["error"],f);const h=d(n,["createTime"]);h!=null&&m(t,["createTime"],h);const _=d(n,["startTime"]);_!=null&&m(t,["startTime"],_);const x=d(n,["endTime"]);x!=null&&m(t,["endTime"],x);const y=d(n,["updateTime"]);y!=null&&m(t,["updateTime"],y);const E=d(n,["model"]);E!=null&&m(t,["model"],E);const b=d(n,["inputConfig"]);b!=null&&m(t,["src"],bb(b));const C=d(n,["outputConfig"]);C!=null&&m(t,["dest"],Tb(Zy(C)));const R=d(n,["completionStats"]);return R!=null&&m(t,["completionStats"],R),t}function bb(n){const t={},o=d(n,["instancesFormat"]);o!=null&&m(t,["format"],o);const r=d(n,["gcsSource","uris"]);r!=null&&m(t,["gcsUri"],r);const l=d(n,["bigquerySource","inputUri"]);return l!=null&&m(t,["bigqueryUri"],l),t}function Cb(n,t){const o={};if(d(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(d(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=d(t,["fileName"]);r!=null&&m(o,["fileName"],r);const l=d(t,["inlinedRequests"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(h=>eC(n,h))),m(o,["requests","requests"],f)}return o}function wb(n){const t={},o=d(n,["format"]);o!=null&&m(t,["instancesFormat"],o);const r=d(n,["gcsUri"]);r!=null&&m(t,["gcsSource","uris"],r);const l=d(n,["bigqueryUri"]);if(l!=null&&m(t,["bigquerySource","inputUri"],l),d(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function Nb(n){const t={},o=d(n,["data"]);if(o!=null&&m(t,["data"],o),d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(n,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function Ab(n,t){const o={},r=d(t,["name"]);return r!=null&&m(o,["_url","name"],Ga(n,r)),o}function Mb(n,t){const o={},r=d(t,["name"]);return r!=null&&m(o,["_url","name"],Ga(n,r)),o}function Rb(n){const t={},o=d(n,["content"]);o!=null&&m(t,["content"],o);const r=d(n,["citationMetadata"]);r!=null&&m(t,["citationMetadata"],Ib(r));const l=d(n,["tokenCount"]);l!=null&&m(t,["tokenCount"],l);const f=d(n,["finishReason"]);f!=null&&m(t,["finishReason"],f);const h=d(n,["avgLogprobs"]);h!=null&&m(t,["avgLogprobs"],h);const _=d(n,["groundingMetadata"]);_!=null&&m(t,["groundingMetadata"],_);const x=d(n,["index"]);x!=null&&m(t,["index"],x);const y=d(n,["logprobsResult"]);y!=null&&m(t,["logprobsResult"],y);const E=d(n,["safetyRatings"]);if(E!=null){let C=E;Array.isArray(C)&&(C=C.map(R=>R)),m(t,["safetyRatings"],C)}const b=d(n,["urlContextMetadata"]);return b!=null&&m(t,["urlContextMetadata"],b),t}function Ib(n){const t={},o=d(n,["citationSources"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>l)),m(t,["citations"],r)}return t}function Jy(n){const t={},o=d(n,["parts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(f=>lC(f))),m(t,["parts"],l)}const r=d(n,["role"]);return r!=null&&m(t,["role"],r),t}function Lb(n,t){const o={},r=d(n,["displayName"]);if(t!==void 0&&r!=null&&m(t,["batch","displayName"],r),d(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function Db(n,t){const o={},r=d(n,["displayName"]);t!==void 0&&r!=null&&m(t,["displayName"],r);const l=d(n,["dest"]);return t!==void 0&&l!=null&&m(t,["outputConfig"],Eb(xb(l))),o}function Pv(n,t){const o={},r=d(t,["model"]);r!=null&&m(o,["_url","model"],Xe(n,r));const l=d(t,["src"]);l!=null&&m(o,["batch","inputConfig"],Cb(n,Fy(n,l)));const f=d(t,["config"]);return f!=null&&Lb(f,o),o}function Pb(n,t){const o={},r=d(t,["model"]);r!=null&&m(o,["model"],Xe(n,r));const l=d(t,["src"]);l!=null&&m(o,["inputConfig"],wb(Fy(n,l)));const f=d(t,["config"]);return f!=null&&Db(f,o),o}function kb(n,t){const o={},r=d(n,["displayName"]);return t!==void 0&&r!=null&&m(t,["batch","displayName"],r),o}function Ub(n,t){const o={},r=d(t,["model"]);r!=null&&m(o,["_url","model"],Xe(n,r));const l=d(t,["src"]);l!=null&&m(o,["batch","inputConfig"],qb(n,l));const f=d(t,["config"]);return f!=null&&kb(f,o),o}function zb(n,t){const o={},r=d(t,["name"]);return r!=null&&m(o,["_url","name"],Ga(n,r)),o}function Bb(n,t){const o={},r=d(t,["name"]);return r!=null&&m(o,["_url","name"],Ga(n,r)),o}function Hb(n){const t={},o=d(n,["sdkHttpResponse"]);o!=null&&m(t,["sdkHttpResponse"],o);const r=d(n,["name"]);r!=null&&m(t,["name"],r);const l=d(n,["done"]);l!=null&&m(t,["done"],l);const f=d(n,["error"]);return f!=null&&m(t,["error"],f),t}function Ob(n){const t={},o=d(n,["sdkHttpResponse"]);o!=null&&m(t,["sdkHttpResponse"],o);const r=d(n,["name"]);r!=null&&m(t,["name"],r);const l=d(n,["done"]);l!=null&&m(t,["done"],l);const f=d(n,["error"]);return f!=null&&m(t,["error"],f),t}function Gb(n,t){const o={},r=d(t,["contents"]);if(r!=null){let f=th(n,r);Array.isArray(f)&&(f=f.map(h=>h)),m(o,["requests[]","request","content"],f)}const l=d(t,["config"]);return l!=null&&(m(o,["_self"],Vb(l,o)),BE(o,{"requests[].*":"requests[].request.*"})),o}function Vb(n,t){const o={},r=d(n,["taskType"]);t!==void 0&&r!=null&&m(t,["requests[]","taskType"],r);const l=d(n,["title"]);t!==void 0&&l!=null&&m(t,["requests[]","title"],l);const f=d(n,["outputDimensionality"]);if(t!==void 0&&f!=null&&m(t,["requests[]","outputDimensionality"],f),d(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function qb(n,t){const o={},r=d(t,["fileName"]);r!=null&&m(o,["file_name"],r);const l=d(t,["inlinedRequests"]);return l!=null&&m(o,["requests"],Gb(n,l)),o}function Fb(n){const t={};if(d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=d(n,["fileUri"]);o!=null&&m(t,["fileUri"],o);const r=d(n,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function Zb(n){const t={},o=d(n,["id"]);o!=null&&m(t,["id"],o);const r=d(n,["args"]);r!=null&&m(t,["args"],r);const l=d(n,["name"]);if(l!=null&&m(t,["name"],l),d(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function Yb(n){const t={},o=d(n,["mode"]);o!=null&&m(t,["mode"],o);const r=d(n,["allowedFunctionNames"]);if(r!=null&&m(t,["allowedFunctionNames"],r),d(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function Jb(n,t,o){const r={},l=d(t,["systemInstruction"]);o!==void 0&&l!=null&&m(o,["systemInstruction"],Jy(Kt(l)));const f=d(t,["temperature"]);f!=null&&m(r,["temperature"],f);const h=d(t,["topP"]);h!=null&&m(r,["topP"],h);const _=d(t,["topK"]);_!=null&&m(r,["topK"],_);const x=d(t,["candidateCount"]);x!=null&&m(r,["candidateCount"],x);const y=d(t,["maxOutputTokens"]);y!=null&&m(r,["maxOutputTokens"],y);const E=d(t,["stopSequences"]);E!=null&&m(r,["stopSequences"],E);const b=d(t,["responseLogprobs"]);b!=null&&m(r,["responseLogprobs"],b);const C=d(t,["logprobs"]);C!=null&&m(r,["logprobs"],C);const R=d(t,["presencePenalty"]);R!=null&&m(r,["presencePenalty"],R);const k=d(t,["frequencyPenalty"]);k!=null&&m(r,["frequencyPenalty"],k);const D=d(t,["seed"]);D!=null&&m(r,["seed"],D);const I=d(t,["responseMimeType"]);I!=null&&m(r,["responseMimeType"],I);const H=d(t,["responseSchema"]);H!=null&&m(r,["responseSchema"],nh(H));const X=d(t,["responseJsonSchema"]);if(X!=null&&m(r,["responseJsonSchema"],X),d(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const O=d(t,["safetySettings"]);if(o!==void 0&&O!=null){let ze=O;Array.isArray(ze)&&(ze=ze.map(ee=>uC(ee))),m(o,["safetySettings"],ze)}const ie=d(t,["tools"]);if(o!==void 0&&ie!=null){let ze=Oa(ie);Array.isArray(ze)&&(ze=ze.map(ee=>dC(Ha(ee)))),m(o,["tools"],ze)}const le=d(t,["toolConfig"]);if(o!==void 0&&le!=null&&m(o,["toolConfig"],cC(le)),d(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const pe=d(t,["cachedContent"]);o!==void 0&&pe!=null&&m(o,["cachedContent"],Qi(n,pe));const oe=d(t,["responseModalities"]);oe!=null&&m(r,["responseModalities"],oe);const Ae=d(t,["mediaResolution"]);Ae!=null&&m(r,["mediaResolution"],Ae);const fe=d(t,["speechConfig"]);if(fe!=null&&m(r,["speechConfig"],ih(fe)),d(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Ee=d(t,["thinkingConfig"]);Ee!=null&&m(r,["thinkingConfig"],Ee);const be=d(t,["imageConfig"]);be!=null&&m(r,["imageConfig"],Wb(be));const Le=d(t,["enableEnhancedCivicAnswers"]);return Le!=null&&m(r,["enableEnhancedCivicAnswers"],Le),r}function jb(n){const t={},o=d(n,["sdkHttpResponse"]);o!=null&&m(t,["sdkHttpResponse"],o);const r=d(n,["candidates"]);if(r!=null){let x=r;Array.isArray(x)&&(x=x.map(y=>Rb(y))),m(t,["candidates"],x)}const l=d(n,["modelVersion"]);l!=null&&m(t,["modelVersion"],l);const f=d(n,["promptFeedback"]);f!=null&&m(t,["promptFeedback"],f);const h=d(n,["responseId"]);h!=null&&m(t,["responseId"],h);const _=d(n,["usageMetadata"]);return _!=null&&m(t,["usageMetadata"],_),t}function Kb(n,t){const o={},r=d(t,["name"]);return r!=null&&m(o,["_url","name"],Ga(n,r)),o}function Xb(n,t){const o={},r=d(t,["name"]);return r!=null&&m(o,["_url","name"],Ga(n,r)),o}function Qb(n){const t={};if(d(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=d(n,["enableWidget"]);return o!=null&&m(t,["enableWidget"],o),t}function $b(n){const t={};if(d(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=d(n,["timeRangeFilter"]);return o!=null&&m(t,["timeRangeFilter"],o),t}function Wb(n){const t={},o=d(n,["aspectRatio"]);o!=null&&m(t,["aspectRatio"],o);const r=d(n,["imageSize"]);if(r!=null&&m(t,["imageSize"],r),d(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(d(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function eC(n,t){const o={},r=d(t,["model"]);r!=null&&m(o,["request","model"],Xe(n,r));const l=d(t,["contents"]);if(l!=null){let _=zn(l);Array.isArray(_)&&(_=_.map(x=>Jy(x))),m(o,["request","contents"],_)}const f=d(t,["metadata"]);f!=null&&m(o,["metadata"],f);const h=d(t,["config"]);return h!=null&&m(o,["request","generationConfig"],Jb(n,h,d(o,["request"],{}))),o}function tC(n){const t={},o=d(n,["response"]);o!=null&&m(t,["response"],jb(o));const r=d(n,["error"]);return r!=null&&m(t,["error"],r),t}function nC(n,t){const o={},r=d(n,["pageSize"]);t!==void 0&&r!=null&&m(t,["_query","pageSize"],r);const l=d(n,["pageToken"]);if(t!==void 0&&l!=null&&m(t,["_query","pageToken"],l),d(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function iC(n,t){const o={},r=d(n,["pageSize"]);t!==void 0&&r!=null&&m(t,["_query","pageSize"],r);const l=d(n,["pageToken"]);t!==void 0&&l!=null&&m(t,["_query","pageToken"],l);const f=d(n,["filter"]);return t!==void 0&&f!=null&&m(t,["_query","filter"],f),o}function oC(n){const t={},o=d(n,["config"]);return o!=null&&nC(o,t),t}function sC(n){const t={},o=d(n,["config"]);return o!=null&&iC(o,t),t}function aC(n){const t={},o=d(n,["sdkHttpResponse"]);o!=null&&m(t,["sdkHttpResponse"],o);const r=d(n,["nextPageToken"]);r!=null&&m(t,["nextPageToken"],r);const l=d(n,["operations"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(h=>Fu(h))),m(t,["batchJobs"],f)}return t}function rC(n){const t={},o=d(n,["sdkHttpResponse"]);o!=null&&m(t,["sdkHttpResponse"],o);const r=d(n,["nextPageToken"]);r!=null&&m(t,["nextPageToken"],r);const l=d(n,["batchPredictionJobs"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(h=>Rf(h))),m(t,["batchJobs"],f)}return t}function lC(n){const t={},o=d(n,["mediaResolution"]);o!=null&&m(t,["mediaResolution"],o);const r=d(n,["codeExecutionResult"]);r!=null&&m(t,["codeExecutionResult"],r);const l=d(n,["executableCode"]);l!=null&&m(t,["executableCode"],l);const f=d(n,["fileData"]);f!=null&&m(t,["fileData"],Fb(f));const h=d(n,["functionCall"]);h!=null&&m(t,["functionCall"],Zb(h));const _=d(n,["functionResponse"]);_!=null&&m(t,["functionResponse"],_);const x=d(n,["inlineData"]);x!=null&&m(t,["inlineData"],Nb(x));const y=d(n,["text"]);y!=null&&m(t,["text"],y);const E=d(n,["thought"]);E!=null&&m(t,["thought"],E);const b=d(n,["thoughtSignature"]);b!=null&&m(t,["thoughtSignature"],b);const C=d(n,["videoMetadata"]);return C!=null&&m(t,["videoMetadata"],C),t}function uC(n){const t={},o=d(n,["category"]);if(o!=null&&m(t,["category"],o),d(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=d(n,["threshold"]);return r!=null&&m(t,["threshold"],r),t}function cC(n){const t={},o=d(n,["functionCallingConfig"]);o!=null&&m(t,["functionCallingConfig"],Yb(o));const r=d(n,["retrievalConfig"]);return r!=null&&m(t,["retrievalConfig"],r),t}function dC(n){const t={},o=d(n,["functionDeclarations"]);if(o!=null){let E=o;Array.isArray(E)&&(E=E.map(b=>b)),m(t,["functionDeclarations"],E)}if(d(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(n,["googleSearchRetrieval"]);r!=null&&m(t,["googleSearchRetrieval"],r);const l=d(n,["computerUse"]);l!=null&&m(t,["computerUse"],l);const f=d(n,["fileSearch"]);f!=null&&m(t,["fileSearch"],f);const h=d(n,["codeExecution"]);if(h!=null&&m(t,["codeExecution"],h),d(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const _=d(n,["googleMaps"]);_!=null&&m(t,["googleMaps"],Qb(_));const x=d(n,["googleSearch"]);x!=null&&m(t,["googleSearch"],$b(x));const y=d(n,["urlContext"]);return y!=null&&m(t,["urlContext"],y),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ki;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents",n.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",n.PAGED_ITEM_DOCUMENTS="documents"})(Ki||(Ki={}));class Ps{constructor(t,o,r,l){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(t,r,l)}init(t,o,r){var l,f;this.nameInternal=t,this.pageInternal=o[this.nameInternal]||[],this.sdkHttpResponseInternal=o==null?void 0:o.sdkHttpResponse,this.idxInternal=0;let h={config:{}};!r||Object.keys(r).length===0?h={config:{}}:typeof r=="object"?h=Object.assign({},r):h=r,h.config&&(h.config.pageToken=o.nextPageToken),this.paramsInternal=h,this.pageInternalSize=(f=(l=h.config)===null||l===void 0?void 0:l.pageSize)!==null&&f!==void 0?f:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fC extends Xi{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new Ps(Ki.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(o),o),this.create=async o=>(this.apiClient.isVertexAI()&&(o.config=this.formatDestination(o.src,o.config)),this.createInternal(o)),this.createEmbeddings=async o=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(o)}}createInlinedGenerateContentRequest(t){const o=Pv(this.apiClient,t),r=o._url,l=de("{model}:batchGenerateContent",r),_=o.batch.inputConfig.requests,x=_.requests,y=[];for(const E of x){const b=Object.assign({},E);if(b.systemInstruction){const C=b.systemInstruction;delete b.systemInstruction;const R=b.request;R.systemInstruction=C,b.request=R}y.push(b)}return _.requests=y,delete o.config,delete o._url,delete o._query,{path:l,body:o}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,o){const r=o?Object.assign({},o):{},l=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${l}`),r.dest===void 0){const f=this.getGcsUri(t),h=this.getBigqueryUri(t);if(f)f.endsWith(".jsonl")?r.dest=`${f.slice(0,-6)}/dest`:r.dest=`${f}_dest_${l}`;else if(h)r.dest=`${h}_dest_${l}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(t){var o,r,l,f;let h,_="",x={};if(this.apiClient.isVertexAI()){const y=Pb(this.apiClient,t);return _=de("batchPredictionJobs",y._url),x=y._query,delete y._url,delete y._query,h=this.apiClient.request({path:_,queryParams:x,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(E=>E.json()),h.then(E=>Rf(E))}else{const y=Pv(this.apiClient,t);return _=de("{model}:batchGenerateContent",y._url),x=y._query,delete y._url,delete y._query,h=this.apiClient.request({path:_,queryParams:x,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(E=>E.json()),h.then(E=>Fu(E))}}async createEmbeddingsInternal(t){var o,r;let l,f="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const _=Ub(this.apiClient,t);return f=de("{model}:asyncBatchEmbedContent",_._url),h=_._query,delete _._url,delete _._query,l=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(_),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),l.then(x=>Fu(x))}}async get(t){var o,r,l,f;let h,_="",x={};if(this.apiClient.isVertexAI()){const y=Xb(this.apiClient,t);return _=de("batchPredictionJobs/{name}",y._url),x=y._query,delete y._url,delete y._query,h=this.apiClient.request({path:_,queryParams:x,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(E=>E.json()),h.then(E=>Rf(E))}else{const y=Kb(this.apiClient,t);return _=de("batches/{name}",y._url),x=y._query,delete y._url,delete y._query,h=this.apiClient.request({path:_,queryParams:x,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(E=>E.json()),h.then(E=>Fu(E))}}async cancel(t){var o,r,l,f;let h="",_={};if(this.apiClient.isVertexAI()){const x=Mb(this.apiClient,t);h=de("batchPredictionJobs/{name}:cancel",x._url),_=x._query,delete x._url,delete x._query,await this.apiClient.request({path:h,queryParams:_,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}else{const x=Ab(this.apiClient,t);h=de("batches/{name}:cancel",x._url),_=x._query,delete x._url,delete x._query,await this.apiClient.request({path:h,queryParams:_,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal})}}async listInternal(t){var o,r,l,f;let h,_="",x={};if(this.apiClient.isVertexAI()){const y=sC(t);return _=de("batchPredictionJobs",y._url),x=y._query,delete y._url,delete y._query,h=this.apiClient.request({path:_,queryParams:x,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(E=>E.json().then(b=>{const C=b;return C.sdkHttpResponse={headers:E.headers},C})),h.then(E=>{const b=rC(E),C=new Rv;return Object.assign(C,b),C})}else{const y=oC(t);return _=de("batches",y._url),x=y._query,delete y._url,delete y._query,h=this.apiClient.request({path:_,queryParams:x,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(E=>E.json().then(b=>{const C=b;return C.sdkHttpResponse={headers:E.headers},C})),h.then(E=>{const b=aC(E),C=new Rv;return Object.assign(C,b),C})}}async delete(t){var o,r,l,f;let h,_="",x={};if(this.apiClient.isVertexAI()){const y=Bb(this.apiClient,t);return _=de("batchPredictionJobs/{name}",y._url),x=y._query,delete y._url,delete y._query,h=this.apiClient.request({path:_,queryParams:x,body:JSON.stringify(y),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(E=>E.json().then(b=>{const C=b;return C.sdkHttpResponse={headers:E.headers},C})),h.then(E=>Ob(E))}else{const y=zb(this.apiClient,t);return _=de("batches/{name}",y._url),x=y._query,delete y._url,delete y._query,h=this.apiClient.request({path:_,queryParams:x,body:JSON.stringify(y),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(E=>E.json().then(b=>{const C=b;return C.sdkHttpResponse={headers:E.headers},C})),h.then(E=>Hb(E))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hC(n){const t={},o=d(n,["data"]);if(o!=null&&m(t,["data"],o),d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(n,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function kv(n){const t={},o=d(n,["parts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(f=>UC(f))),m(t,["parts"],l)}const r=d(n,["role"]);return r!=null&&m(t,["role"],r),t}function mC(n,t){const o={},r=d(n,["ttl"]);t!==void 0&&r!=null&&m(t,["ttl"],r);const l=d(n,["expireTime"]);t!==void 0&&l!=null&&m(t,["expireTime"],l);const f=d(n,["displayName"]);t!==void 0&&f!=null&&m(t,["displayName"],f);const h=d(n,["contents"]);if(t!==void 0&&h!=null){let E=zn(h);Array.isArray(E)&&(E=E.map(b=>kv(b))),m(t,["contents"],E)}const _=d(n,["systemInstruction"]);t!==void 0&&_!=null&&m(t,["systemInstruction"],kv(Kt(_)));const x=d(n,["tools"]);if(t!==void 0&&x!=null){let E=x;Array.isArray(E)&&(E=E.map(b=>BC(b))),m(t,["tools"],E)}const y=d(n,["toolConfig"]);if(t!==void 0&&y!=null&&m(t,["toolConfig"],zC(y)),d(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function pC(n,t){const o={},r=d(n,["ttl"]);t!==void 0&&r!=null&&m(t,["ttl"],r);const l=d(n,["expireTime"]);t!==void 0&&l!=null&&m(t,["expireTime"],l);const f=d(n,["displayName"]);t!==void 0&&f!=null&&m(t,["displayName"],f);const h=d(n,["contents"]);if(t!==void 0&&h!=null){let b=zn(h);Array.isArray(b)&&(b=b.map(C=>C)),m(t,["contents"],b)}const _=d(n,["systemInstruction"]);t!==void 0&&_!=null&&m(t,["systemInstruction"],Kt(_));const x=d(n,["tools"]);if(t!==void 0&&x!=null){let b=x;Array.isArray(b)&&(b=b.map(C=>HC(C))),m(t,["tools"],b)}const y=d(n,["toolConfig"]);t!==void 0&&y!=null&&m(t,["toolConfig"],y);const E=d(n,["kmsKeyName"]);return t!==void 0&&E!=null&&m(t,["encryption_spec","kmsKeyName"],E),o}function gC(n,t){const o={},r=d(t,["model"]);r!=null&&m(o,["model"],ky(n,r));const l=d(t,["config"]);return l!=null&&mC(l,o),o}function vC(n,t){const o={},r=d(t,["model"]);r!=null&&m(o,["model"],ky(n,r));const l=d(t,["config"]);return l!=null&&pC(l,o),o}function yC(n,t){const o={},r=d(t,["name"]);return r!=null&&m(o,["_url","name"],Qi(n,r)),o}function _C(n,t){const o={},r=d(t,["name"]);return r!=null&&m(o,["_url","name"],Qi(n,r)),o}function xC(n){const t={},o=d(n,["sdkHttpResponse"]);return o!=null&&m(t,["sdkHttpResponse"],o),t}function SC(n){const t={},o=d(n,["sdkHttpResponse"]);return o!=null&&m(t,["sdkHttpResponse"],o),t}function TC(n){const t={};if(d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=d(n,["fileUri"]);o!=null&&m(t,["fileUri"],o);const r=d(n,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function EC(n){const t={},o=d(n,["id"]);o!=null&&m(t,["id"],o);const r=d(n,["args"]);r!=null&&m(t,["args"],r);const l=d(n,["name"]);if(l!=null&&m(t,["name"],l),d(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function bC(n){const t={},o=d(n,["mode"]);o!=null&&m(t,["mode"],o);const r=d(n,["allowedFunctionNames"]);if(r!=null&&m(t,["allowedFunctionNames"],r),d(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function CC(n){const t={};if(d(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=d(n,["description"]);o!=null&&m(t,["description"],o);const r=d(n,["name"]);r!=null&&m(t,["name"],r);const l=d(n,["parameters"]);l!=null&&m(t,["parameters"],l);const f=d(n,["parametersJsonSchema"]);f!=null&&m(t,["parametersJsonSchema"],f);const h=d(n,["response"]);h!=null&&m(t,["response"],h);const _=d(n,["responseJsonSchema"]);return _!=null&&m(t,["responseJsonSchema"],_),t}function wC(n,t){const o={},r=d(t,["name"]);return r!=null&&m(o,["_url","name"],Qi(n,r)),o}function NC(n,t){const o={},r=d(t,["name"]);return r!=null&&m(o,["_url","name"],Qi(n,r)),o}function AC(n){const t={};if(d(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=d(n,["enableWidget"]);return o!=null&&m(t,["enableWidget"],o),t}function MC(n){const t={};if(d(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=d(n,["timeRangeFilter"]);return o!=null&&m(t,["timeRangeFilter"],o),t}function RC(n,t){const o={},r=d(n,["pageSize"]);t!==void 0&&r!=null&&m(t,["_query","pageSize"],r);const l=d(n,["pageToken"]);return t!==void 0&&l!=null&&m(t,["_query","pageToken"],l),o}function IC(n,t){const o={},r=d(n,["pageSize"]);t!==void 0&&r!=null&&m(t,["_query","pageSize"],r);const l=d(n,["pageToken"]);return t!==void 0&&l!=null&&m(t,["_query","pageToken"],l),o}function LC(n){const t={},o=d(n,["config"]);return o!=null&&RC(o,t),t}function DC(n){const t={},o=d(n,["config"]);return o!=null&&IC(o,t),t}function PC(n){const t={},o=d(n,["sdkHttpResponse"]);o!=null&&m(t,["sdkHttpResponse"],o);const r=d(n,["nextPageToken"]);r!=null&&m(t,["nextPageToken"],r);const l=d(n,["cachedContents"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(h=>h)),m(t,["cachedContents"],f)}return t}function kC(n){const t={},o=d(n,["sdkHttpResponse"]);o!=null&&m(t,["sdkHttpResponse"],o);const r=d(n,["nextPageToken"]);r!=null&&m(t,["nextPageToken"],r);const l=d(n,["cachedContents"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(h=>h)),m(t,["cachedContents"],f)}return t}function UC(n){const t={},o=d(n,["mediaResolution"]);o!=null&&m(t,["mediaResolution"],o);const r=d(n,["codeExecutionResult"]);r!=null&&m(t,["codeExecutionResult"],r);const l=d(n,["executableCode"]);l!=null&&m(t,["executableCode"],l);const f=d(n,["fileData"]);f!=null&&m(t,["fileData"],TC(f));const h=d(n,["functionCall"]);h!=null&&m(t,["functionCall"],EC(h));const _=d(n,["functionResponse"]);_!=null&&m(t,["functionResponse"],_);const x=d(n,["inlineData"]);x!=null&&m(t,["inlineData"],hC(x));const y=d(n,["text"]);y!=null&&m(t,["text"],y);const E=d(n,["thought"]);E!=null&&m(t,["thought"],E);const b=d(n,["thoughtSignature"]);b!=null&&m(t,["thoughtSignature"],b);const C=d(n,["videoMetadata"]);return C!=null&&m(t,["videoMetadata"],C),t}function zC(n){const t={},o=d(n,["functionCallingConfig"]);o!=null&&m(t,["functionCallingConfig"],bC(o));const r=d(n,["retrievalConfig"]);return r!=null&&m(t,["retrievalConfig"],r),t}function BC(n){const t={},o=d(n,["functionDeclarations"]);if(o!=null){let E=o;Array.isArray(E)&&(E=E.map(b=>b)),m(t,["functionDeclarations"],E)}if(d(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(n,["googleSearchRetrieval"]);r!=null&&m(t,["googleSearchRetrieval"],r);const l=d(n,["computerUse"]);l!=null&&m(t,["computerUse"],l);const f=d(n,["fileSearch"]);f!=null&&m(t,["fileSearch"],f);const h=d(n,["codeExecution"]);if(h!=null&&m(t,["codeExecution"],h),d(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const _=d(n,["googleMaps"]);_!=null&&m(t,["googleMaps"],AC(_));const x=d(n,["googleSearch"]);x!=null&&m(t,["googleSearch"],MC(x));const y=d(n,["urlContext"]);return y!=null&&m(t,["urlContext"],y),t}function HC(n){const t={},o=d(n,["functionDeclarations"]);if(o!=null){let b=o;Array.isArray(b)&&(b=b.map(C=>CC(C))),m(t,["functionDeclarations"],b)}const r=d(n,["retrieval"]);r!=null&&m(t,["retrieval"],r);const l=d(n,["googleSearchRetrieval"]);l!=null&&m(t,["googleSearchRetrieval"],l);const f=d(n,["computerUse"]);if(f!=null&&m(t,["computerUse"],f),d(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const h=d(n,["codeExecution"]);h!=null&&m(t,["codeExecution"],h);const _=d(n,["enterpriseWebSearch"]);_!=null&&m(t,["enterpriseWebSearch"],_);const x=d(n,["googleMaps"]);x!=null&&m(t,["googleMaps"],x);const y=d(n,["googleSearch"]);y!=null&&m(t,["googleSearch"],y);const E=d(n,["urlContext"]);return E!=null&&m(t,["urlContext"],E),t}function OC(n,t){const o={},r=d(n,["ttl"]);t!==void 0&&r!=null&&m(t,["ttl"],r);const l=d(n,["expireTime"]);return t!==void 0&&l!=null&&m(t,["expireTime"],l),o}function GC(n,t){const o={},r=d(n,["ttl"]);t!==void 0&&r!=null&&m(t,["ttl"],r);const l=d(n,["expireTime"]);return t!==void 0&&l!=null&&m(t,["expireTime"],l),o}function VC(n,t){const o={},r=d(t,["name"]);r!=null&&m(o,["_url","name"],Qi(n,r));const l=d(t,["config"]);return l!=null&&OC(l,o),o}function qC(n,t){const o={},r=d(t,["name"]);r!=null&&m(o,["_url","name"],Qi(n,r));const l=d(t,["config"]);return l!=null&&GC(l,o),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class FC extends Xi{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new Ps(Ki.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(o),o)}async create(t){var o,r,l,f;let h,_="",x={};if(this.apiClient.isVertexAI()){const y=vC(this.apiClient,t);return _=de("cachedContents",y._url),x=y._query,delete y._url,delete y._query,h=this.apiClient.request({path:_,queryParams:x,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(E=>E.json()),h.then(E=>E)}else{const y=gC(this.apiClient,t);return _=de("cachedContents",y._url),x=y._query,delete y._url,delete y._query,h=this.apiClient.request({path:_,queryParams:x,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(E=>E.json()),h.then(E=>E)}}async get(t){var o,r,l,f;let h,_="",x={};if(this.apiClient.isVertexAI()){const y=NC(this.apiClient,t);return _=de("{name}",y._url),x=y._query,delete y._url,delete y._query,h=this.apiClient.request({path:_,queryParams:x,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(E=>E.json()),h.then(E=>E)}else{const y=wC(this.apiClient,t);return _=de("{name}",y._url),x=y._query,delete y._url,delete y._query,h=this.apiClient.request({path:_,queryParams:x,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(E=>E.json()),h.then(E=>E)}}async delete(t){var o,r,l,f;let h,_="",x={};if(this.apiClient.isVertexAI()){const y=_C(this.apiClient,t);return _=de("{name}",y._url),x=y._query,delete y._url,delete y._query,h=this.apiClient.request({path:_,queryParams:x,body:JSON.stringify(y),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(E=>E.json().then(b=>{const C=b;return C.sdkHttpResponse={headers:E.headers},C})),h.then(E=>{const b=SC(E),C=new Av;return Object.assign(C,b),C})}else{const y=yC(this.apiClient,t);return _=de("{name}",y._url),x=y._query,delete y._url,delete y._query,h=this.apiClient.request({path:_,queryParams:x,body:JSON.stringify(y),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(E=>E.json().then(b=>{const C=b;return C.sdkHttpResponse={headers:E.headers},C})),h.then(E=>{const b=xC(E),C=new Av;return Object.assign(C,b),C})}}async update(t){var o,r,l,f;let h,_="",x={};if(this.apiClient.isVertexAI()){const y=qC(this.apiClient,t);return _=de("{name}",y._url),x=y._query,delete y._url,delete y._query,h=this.apiClient.request({path:_,queryParams:x,body:JSON.stringify(y),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(E=>E.json()),h.then(E=>E)}else{const y=VC(this.apiClient,t);return _=de("{name}",y._url),x=y._query,delete y._url,delete y._query,h=this.apiClient.request({path:_,queryParams:x,body:JSON.stringify(y),httpMethod:"PATCH",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(E=>E.json()),h.then(E=>E)}}async listInternal(t){var o,r,l,f;let h,_="",x={};if(this.apiClient.isVertexAI()){const y=DC(t);return _=de("cachedContents",y._url),x=y._query,delete y._url,delete y._query,h=this.apiClient.request({path:_,queryParams:x,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(E=>E.json().then(b=>{const C=b;return C.sdkHttpResponse={headers:E.headers},C})),h.then(E=>{const b=kC(E),C=new Mv;return Object.assign(C,b),C})}else{const y=LC(t);return _=de("cachedContents",y._url),x=y._query,delete y._url,delete y._query,h=this.apiClient.request({path:_,queryParams:x,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(E=>E.json().then(b=>{const C=b;return C.sdkHttpResponse={headers:E.headers},C})),h.then(E=>{const b=PC(E),C=new Mv;return Object.assign(C,b),C})}}}function Xu(n,t){var o={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(o[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,r=Object.getOwnPropertySymbols(n);l<r.length;l++)t.indexOf(r[l])<0&&Object.prototype.propertyIsEnumerable.call(n,r[l])&&(o[r[l]]=n[r[l]]);return o}function Uv(n){var t=typeof Symbol=="function"&&Symbol.iterator,o=t&&n[t],r=0;if(o)return o.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ne(n){return this instanceof Ne?(this.v=n,this):new Ne(n)}function $n(n,t,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=o.apply(n,t||[]),l,f=[];return l=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),_("next"),_("throw"),_("return",h),l[Symbol.asyncIterator]=function(){return this},l;function h(R){return function(k){return Promise.resolve(k).then(R,b)}}function _(R,k){r[R]&&(l[R]=function(D){return new Promise(function(I,H){f.push([R,D,I,H])>1||x(R,D)})},k&&(l[R]=k(l[R])))}function x(R,k){try{y(r[R](k))}catch(D){C(f[0][3],D)}}function y(R){R.value instanceof Ne?Promise.resolve(R.value.v).then(E,b):C(f[0][2],R)}function E(R){x("next",R)}function b(R){x("throw",R)}function C(R,k){R(k),f.shift(),f.length&&x(f[0][0],f[0][1])}}function Wn(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=n[Symbol.asyncIterator],o;return t?t.call(n):(n=typeof Uv=="function"?Uv(n):n[Symbol.iterator](),o={},r("next"),r("throw"),r("return"),o[Symbol.asyncIterator]=function(){return this},o);function r(f){o[f]=n[f]&&function(h){return new Promise(function(_,x){h=n[f](h),l(_,x,h.done,h.value)})}}function l(f,h,_,x){Promise.resolve(x).then(function(y){f({value:y,done:_})},h)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ZC(n){var t;if(n.candidates==null||n.candidates.length===0)return!1;const o=(t=n.candidates[0])===null||t===void 0?void 0:t.content;return o===void 0?!1:jy(o)}function jy(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const t of n.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function YC(n){if(n.length!==0){for(const t of n)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function zv(n){if(n===void 0||n.length===0)return[];const t=[],o=n.length;let r=0;for(;r<o;)if(n[r].role==="user")t.push(n[r]),r++;else{const l=[];let f=!0;for(;r<o&&n[r].role==="model";)l.push(n[r]),f&&!jy(n[r])&&(f=!1),r++;f?t.push(...l):t.pop()}return t}class JC{constructor(t,o){this.modelsModule=t,this.apiClient=o}create(t){return new jC(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class jC{constructor(t,o,r,l={},f=[]){this.apiClient=t,this.modelsModule=o,this.model=r,this.config=l,this.history=f,this.sendPromise=Promise.resolve(),YC(f)}async sendMessage(t){var o;await this.sendPromise;const r=Kt(t.message),l=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(o=t.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var f,h,_;const x=await l,y=(h=(f=x.candidates)===null||f===void 0?void 0:f[0])===null||h===void 0?void 0:h.content,E=x.automaticFunctionCallingHistory,b=this.getHistory(!0).length;let C=[];E!=null&&(C=(_=E.slice(b))!==null&&_!==void 0?_:[]);const R=y?[y]:[];this.recordHistory(r,R,C)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),l}async sendMessageStream(t){var o;await this.sendPromise;const r=Kt(t.message),l=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(o=t.config)!==null&&o!==void 0?o:this.config});this.sendPromise=l.then(()=>{}).catch(()=>{});const f=await l;return this.processStreamResponse(f,r)}getHistory(t=!1){const o=t?zv(this.history):this.history;return structuredClone(o)}processStreamResponse(t,o){return $n(this,arguments,function*(){var l,f,h,_,x,y;const E=[];try{for(var b=!0,C=Wn(t),R;R=yield Ne(C.next()),l=R.done,!l;b=!0){_=R.value,b=!1;const k=_;if(ZC(k)){const D=(y=(x=k.candidates)===null||x===void 0?void 0:x[0])===null||y===void 0?void 0:y.content;D!==void 0&&E.push(D)}yield yield Ne(k)}}catch(k){f={error:k}}finally{try{!b&&!l&&(h=C.return)&&(yield Ne(h.call(C)))}finally{if(f)throw f.error}}this.recordHistory(o,E)})}recordHistory(t,o,r){let l=[];o.length>0&&o.every(f=>f.role!==void 0)?l=o:l.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...zv(r)):this.history.push(t),this.history.push(...l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ic extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,ic.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function KC(n){const t={},o=d(n,["file"]);return o!=null&&m(t,["file"],o),t}function XC(n){const t={},o=d(n,["sdkHttpResponse"]);return o!=null&&m(t,["sdkHttpResponse"],o),t}function QC(n){const t={},o=d(n,["name"]);return o!=null&&m(t,["_url","file"],Gy(o)),t}function $C(n){const t={},o=d(n,["sdkHttpResponse"]);return o!=null&&m(t,["sdkHttpResponse"],o),t}function WC(n){const t={},o=d(n,["name"]);return o!=null&&m(t,["_url","file"],Gy(o)),t}function e1(n,t){const o={},r=d(n,["pageSize"]);t!==void 0&&r!=null&&m(t,["_query","pageSize"],r);const l=d(n,["pageToken"]);return t!==void 0&&l!=null&&m(t,["_query","pageToken"],l),o}function t1(n){const t={},o=d(n,["config"]);return o!=null&&e1(o,t),t}function n1(n){const t={},o=d(n,["sdkHttpResponse"]);o!=null&&m(t,["sdkHttpResponse"],o);const r=d(n,["nextPageToken"]);r!=null&&m(t,["nextPageToken"],r);const l=d(n,["files"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(h=>h)),m(t,["files"],f)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class i1 extends Xi{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new Ps(Ki.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(o),o)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(o=>o)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var o,r;let l,f="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const _=t1(t);return f=de("files",_._url),h=_._query,delete _._url,delete _._query,l=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(_),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json().then(y=>{const E=y;return E.sdkHttpResponse={headers:x.headers},E})),l.then(x=>{const y=n1(x),E=new rb;return Object.assign(E,y),E})}}async createInternal(t){var o,r;let l,f="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const _=KC(t);return f=de("upload/v1beta/files",_._url),h=_._query,delete _._url,delete _._query,l=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(_),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),l.then(x=>{const y=XC(x),E=new lb;return Object.assign(E,y),E})}}async get(t){var o,r;let l,f="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const _=WC(t);return f=de("files/{file}",_._url),h=_._query,delete _._url,delete _._query,l=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(_),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),l.then(x=>x)}}async delete(t){var o,r;let l,f="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const _=QC(t);return f=de("files/{file}",_._url),h=_._query,delete _._url,delete _._query,l=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(_),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json().then(y=>{const E=y;return E.sdkHttpResponse={headers:x.headers},E})),l.then(x=>{const y=$C(x),E=new ub;return Object.assign(E,y),E})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Zu(n){const t={},o=d(n,["data"]);if(o!=null&&m(t,["data"],o),d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(n,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function o1(n){const t={},o=d(n,["parts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(f=>x1(f))),m(t,["parts"],l)}const r=d(n,["role"]);return r!=null&&m(t,["role"],r),t}function s1(n){const t={};if(d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=d(n,["fileUri"]);o!=null&&m(t,["fileUri"],o);const r=d(n,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function a1(n){const t={},o=d(n,["id"]);o!=null&&m(t,["id"],o);const r=d(n,["args"]);r!=null&&m(t,["args"],r);const l=d(n,["name"]);if(l!=null&&m(t,["name"],l),d(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function r1(n){const t={};if(d(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=d(n,["description"]);o!=null&&m(t,["description"],o);const r=d(n,["name"]);r!=null&&m(t,["name"],r);const l=d(n,["parameters"]);l!=null&&m(t,["parameters"],l);const f=d(n,["parametersJsonSchema"]);f!=null&&m(t,["parametersJsonSchema"],f);const h=d(n,["response"]);h!=null&&m(t,["response"],h);const _=d(n,["responseJsonSchema"]);return _!=null&&m(t,["responseJsonSchema"],_),t}function l1(n){const t={},o=d(n,["modelSelectionConfig"]);o!=null&&m(t,["modelConfig"],o);const r=d(n,["responseJsonSchema"]);r!=null&&m(t,["responseJsonSchema"],r);const l=d(n,["audioTimestamp"]);l!=null&&m(t,["audioTimestamp"],l);const f=d(n,["candidateCount"]);f!=null&&m(t,["candidateCount"],f);const h=d(n,["enableAffectiveDialog"]);h!=null&&m(t,["enableAffectiveDialog"],h);const _=d(n,["frequencyPenalty"]);_!=null&&m(t,["frequencyPenalty"],_);const x=d(n,["logprobs"]);x!=null&&m(t,["logprobs"],x);const y=d(n,["maxOutputTokens"]);y!=null&&m(t,["maxOutputTokens"],y);const E=d(n,["mediaResolution"]);E!=null&&m(t,["mediaResolution"],E);const b=d(n,["presencePenalty"]);b!=null&&m(t,["presencePenalty"],b);const C=d(n,["responseLogprobs"]);C!=null&&m(t,["responseLogprobs"],C);const R=d(n,["responseMimeType"]);R!=null&&m(t,["responseMimeType"],R);const k=d(n,["responseModalities"]);k!=null&&m(t,["responseModalities"],k);const D=d(n,["responseSchema"]);D!=null&&m(t,["responseSchema"],D);const I=d(n,["routingConfig"]);I!=null&&m(t,["routingConfig"],I);const H=d(n,["seed"]);H!=null&&m(t,["seed"],H);const X=d(n,["speechConfig"]);X!=null&&m(t,["speechConfig"],Ky(X));const O=d(n,["stopSequences"]);O!=null&&m(t,["stopSequences"],O);const ie=d(n,["temperature"]);ie!=null&&m(t,["temperature"],ie);const le=d(n,["thinkingConfig"]);le!=null&&m(t,["thinkingConfig"],le);const pe=d(n,["topK"]);pe!=null&&m(t,["topK"],pe);const oe=d(n,["topP"]);if(oe!=null&&m(t,["topP"],oe),d(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function u1(n){const t={};if(d(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=d(n,["enableWidget"]);return o!=null&&m(t,["enableWidget"],o),t}function c1(n){const t={};if(d(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=d(n,["timeRangeFilter"]);return o!=null&&m(t,["timeRangeFilter"],o),t}function d1(n,t){const o={},r=d(n,["generationConfig"]);t!==void 0&&r!=null&&m(t,["setup","generationConfig"],r);const l=d(n,["responseModalities"]);t!==void 0&&l!=null&&m(t,["setup","generationConfig","responseModalities"],l);const f=d(n,["temperature"]);t!==void 0&&f!=null&&m(t,["setup","generationConfig","temperature"],f);const h=d(n,["topP"]);t!==void 0&&h!=null&&m(t,["setup","generationConfig","topP"],h);const _=d(n,["topK"]);t!==void 0&&_!=null&&m(t,["setup","generationConfig","topK"],_);const x=d(n,["maxOutputTokens"]);t!==void 0&&x!=null&&m(t,["setup","generationConfig","maxOutputTokens"],x);const y=d(n,["mediaResolution"]);t!==void 0&&y!=null&&m(t,["setup","generationConfig","mediaResolution"],y);const E=d(n,["seed"]);t!==void 0&&E!=null&&m(t,["setup","generationConfig","seed"],E);const b=d(n,["speechConfig"]);t!==void 0&&b!=null&&m(t,["setup","generationConfig","speechConfig"],oh(b));const C=d(n,["thinkingConfig"]);t!==void 0&&C!=null&&m(t,["setup","generationConfig","thinkingConfig"],C);const R=d(n,["enableAffectiveDialog"]);t!==void 0&&R!=null&&m(t,["setup","generationConfig","enableAffectiveDialog"],R);const k=d(n,["systemInstruction"]);t!==void 0&&k!=null&&m(t,["setup","systemInstruction"],o1(Kt(k)));const D=d(n,["tools"]);if(t!==void 0&&D!=null){let pe=Oa(D);Array.isArray(pe)&&(pe=pe.map(oe=>T1(Ha(oe)))),m(t,["setup","tools"],pe)}const I=d(n,["sessionResumption"]);t!==void 0&&I!=null&&m(t,["setup","sessionResumption"],S1(I));const H=d(n,["inputAudioTranscription"]);t!==void 0&&H!=null&&m(t,["setup","inputAudioTranscription"],H);const X=d(n,["outputAudioTranscription"]);t!==void 0&&X!=null&&m(t,["setup","outputAudioTranscription"],X);const O=d(n,["realtimeInputConfig"]);t!==void 0&&O!=null&&m(t,["setup","realtimeInputConfig"],O);const ie=d(n,["contextWindowCompression"]);t!==void 0&&ie!=null&&m(t,["setup","contextWindowCompression"],ie);const le=d(n,["proactivity"]);if(t!==void 0&&le!=null&&m(t,["setup","proactivity"],le),d(n,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function f1(n,t){const o={},r=d(n,["generationConfig"]);t!==void 0&&r!=null&&m(t,["setup","generationConfig"],l1(r));const l=d(n,["responseModalities"]);t!==void 0&&l!=null&&m(t,["setup","generationConfig","responseModalities"],l);const f=d(n,["temperature"]);t!==void 0&&f!=null&&m(t,["setup","generationConfig","temperature"],f);const h=d(n,["topP"]);t!==void 0&&h!=null&&m(t,["setup","generationConfig","topP"],h);const _=d(n,["topK"]);t!==void 0&&_!=null&&m(t,["setup","generationConfig","topK"],_);const x=d(n,["maxOutputTokens"]);t!==void 0&&x!=null&&m(t,["setup","generationConfig","maxOutputTokens"],x);const y=d(n,["mediaResolution"]);t!==void 0&&y!=null&&m(t,["setup","generationConfig","mediaResolution"],y);const E=d(n,["seed"]);t!==void 0&&E!=null&&m(t,["setup","generationConfig","seed"],E);const b=d(n,["speechConfig"]);t!==void 0&&b!=null&&m(t,["setup","generationConfig","speechConfig"],Ky(oh(b)));const C=d(n,["thinkingConfig"]);t!==void 0&&C!=null&&m(t,["setup","generationConfig","thinkingConfig"],C);const R=d(n,["enableAffectiveDialog"]);t!==void 0&&R!=null&&m(t,["setup","generationConfig","enableAffectiveDialog"],R);const k=d(n,["systemInstruction"]);t!==void 0&&k!=null&&m(t,["setup","systemInstruction"],Kt(k));const D=d(n,["tools"]);if(t!==void 0&&D!=null){let oe=Oa(D);Array.isArray(oe)&&(oe=oe.map(Ae=>E1(Ha(Ae)))),m(t,["setup","tools"],oe)}const I=d(n,["sessionResumption"]);t!==void 0&&I!=null&&m(t,["setup","sessionResumption"],I);const H=d(n,["inputAudioTranscription"]);t!==void 0&&H!=null&&m(t,["setup","inputAudioTranscription"],H);const X=d(n,["outputAudioTranscription"]);t!==void 0&&X!=null&&m(t,["setup","outputAudioTranscription"],X);const O=d(n,["realtimeInputConfig"]);t!==void 0&&O!=null&&m(t,["setup","realtimeInputConfig"],O);const ie=d(n,["contextWindowCompression"]);t!==void 0&&ie!=null&&m(t,["setup","contextWindowCompression"],ie);const le=d(n,["proactivity"]);t!==void 0&&le!=null&&m(t,["setup","proactivity"],le);const pe=d(n,["explicitVadSignal"]);return t!==void 0&&pe!=null&&m(t,["setup","explicitVadSignal"],pe),o}function h1(n,t){const o={},r=d(t,["model"]);r!=null&&m(o,["setup","model"],Xe(n,r));const l=d(t,["config"]);return l!=null&&m(o,["config"],d1(l,o)),o}function m1(n,t){const o={},r=d(t,["model"]);r!=null&&m(o,["setup","model"],Xe(n,r));const l=d(t,["config"]);return l!=null&&m(o,["config"],f1(l,o)),o}function p1(n){const t={},o=d(n,["musicGenerationConfig"]);return o!=null&&m(t,["musicGenerationConfig"],o),t}function g1(n){const t={},o=d(n,["weightedPrompts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>l)),m(t,["weightedPrompts"],r)}return t}function v1(n){const t={},o=d(n,["media"]);if(o!=null){let y=Uy(o);Array.isArray(y)&&(y=y.map(E=>Zu(E))),m(t,["mediaChunks"],y)}const r=d(n,["audio"]);r!=null&&m(t,["audio"],Zu(By(r)));const l=d(n,["audioStreamEnd"]);l!=null&&m(t,["audioStreamEnd"],l);const f=d(n,["video"]);f!=null&&m(t,["video"],Zu(zy(f)));const h=d(n,["text"]);h!=null&&m(t,["text"],h);const _=d(n,["activityStart"]);_!=null&&m(t,["activityStart"],_);const x=d(n,["activityEnd"]);return x!=null&&m(t,["activityEnd"],x),t}function y1(n){const t={},o=d(n,["media"]);if(o!=null){let y=Uy(o);Array.isArray(y)&&(y=y.map(E=>E)),m(t,["mediaChunks"],y)}const r=d(n,["audio"]);r!=null&&m(t,["audio"],By(r));const l=d(n,["audioStreamEnd"]);l!=null&&m(t,["audioStreamEnd"],l);const f=d(n,["video"]);f!=null&&m(t,["video"],zy(f));const h=d(n,["text"]);h!=null&&m(t,["text"],h);const _=d(n,["activityStart"]);_!=null&&m(t,["activityStart"],_);const x=d(n,["activityEnd"]);return x!=null&&m(t,["activityEnd"],x),t}function _1(n){const t={},o=d(n,["setupComplete"]);o!=null&&m(t,["setupComplete"],o);const r=d(n,["serverContent"]);r!=null&&m(t,["serverContent"],r);const l=d(n,["toolCall"]);l!=null&&m(t,["toolCall"],l);const f=d(n,["toolCallCancellation"]);f!=null&&m(t,["toolCallCancellation"],f);const h=d(n,["usageMetadata"]);h!=null&&m(t,["usageMetadata"],b1(h));const _=d(n,["goAway"]);_!=null&&m(t,["goAway"],_);const x=d(n,["sessionResumptionUpdate"]);x!=null&&m(t,["sessionResumptionUpdate"],x);const y=d(n,["voiceActivityDetectionSignal"]);return y!=null&&m(t,["voiceActivityDetectionSignal"],y),t}function x1(n){const t={},o=d(n,["mediaResolution"]);o!=null&&m(t,["mediaResolution"],o);const r=d(n,["codeExecutionResult"]);r!=null&&m(t,["codeExecutionResult"],r);const l=d(n,["executableCode"]);l!=null&&m(t,["executableCode"],l);const f=d(n,["fileData"]);f!=null&&m(t,["fileData"],s1(f));const h=d(n,["functionCall"]);h!=null&&m(t,["functionCall"],a1(h));const _=d(n,["functionResponse"]);_!=null&&m(t,["functionResponse"],_);const x=d(n,["inlineData"]);x!=null&&m(t,["inlineData"],Zu(x));const y=d(n,["text"]);y!=null&&m(t,["text"],y);const E=d(n,["thought"]);E!=null&&m(t,["thought"],E);const b=d(n,["thoughtSignature"]);b!=null&&m(t,["thoughtSignature"],b);const C=d(n,["videoMetadata"]);return C!=null&&m(t,["videoMetadata"],C),t}function S1(n){const t={},o=d(n,["handle"]);if(o!=null&&m(t,["handle"],o),d(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function Ky(n){const t={},o=d(n,["voiceConfig"]);o!=null&&m(t,["voiceConfig"],o);const r=d(n,["languageCode"]);if(r!=null&&m(t,["languageCode"],r),d(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function T1(n){const t={},o=d(n,["functionDeclarations"]);if(o!=null){let E=o;Array.isArray(E)&&(E=E.map(b=>b)),m(t,["functionDeclarations"],E)}if(d(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(n,["googleSearchRetrieval"]);r!=null&&m(t,["googleSearchRetrieval"],r);const l=d(n,["computerUse"]);l!=null&&m(t,["computerUse"],l);const f=d(n,["fileSearch"]);f!=null&&m(t,["fileSearch"],f);const h=d(n,["codeExecution"]);if(h!=null&&m(t,["codeExecution"],h),d(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const _=d(n,["googleMaps"]);_!=null&&m(t,["googleMaps"],u1(_));const x=d(n,["googleSearch"]);x!=null&&m(t,["googleSearch"],c1(x));const y=d(n,["urlContext"]);return y!=null&&m(t,["urlContext"],y),t}function E1(n){const t={},o=d(n,["functionDeclarations"]);if(o!=null){let b=o;Array.isArray(b)&&(b=b.map(C=>r1(C))),m(t,["functionDeclarations"],b)}const r=d(n,["retrieval"]);r!=null&&m(t,["retrieval"],r);const l=d(n,["googleSearchRetrieval"]);l!=null&&m(t,["googleSearchRetrieval"],l);const f=d(n,["computerUse"]);if(f!=null&&m(t,["computerUse"],f),d(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const h=d(n,["codeExecution"]);h!=null&&m(t,["codeExecution"],h);const _=d(n,["enterpriseWebSearch"]);_!=null&&m(t,["enterpriseWebSearch"],_);const x=d(n,["googleMaps"]);x!=null&&m(t,["googleMaps"],x);const y=d(n,["googleSearch"]);y!=null&&m(t,["googleSearch"],y);const E=d(n,["urlContext"]);return E!=null&&m(t,["urlContext"],E),t}function b1(n){const t={},o=d(n,["promptTokenCount"]);o!=null&&m(t,["promptTokenCount"],o);const r=d(n,["cachedContentTokenCount"]);r!=null&&m(t,["cachedContentTokenCount"],r);const l=d(n,["candidatesTokenCount"]);l!=null&&m(t,["responseTokenCount"],l);const f=d(n,["toolUsePromptTokenCount"]);f!=null&&m(t,["toolUsePromptTokenCount"],f);const h=d(n,["thoughtsTokenCount"]);h!=null&&m(t,["thoughtsTokenCount"],h);const _=d(n,["totalTokenCount"]);_!=null&&m(t,["totalTokenCount"],_);const x=d(n,["promptTokensDetails"]);if(x!=null){let R=x;Array.isArray(R)&&(R=R.map(k=>k)),m(t,["promptTokensDetails"],R)}const y=d(n,["cacheTokensDetails"]);if(y!=null){let R=y;Array.isArray(R)&&(R=R.map(k=>k)),m(t,["cacheTokensDetails"],R)}const E=d(n,["candidatesTokensDetails"]);if(E!=null){let R=E;Array.isArray(R)&&(R=R.map(k=>k)),m(t,["responseTokensDetails"],R)}const b=d(n,["toolUsePromptTokensDetails"]);if(b!=null){let R=b;Array.isArray(R)&&(R=R.map(k=>k)),m(t,["toolUsePromptTokensDetails"],R)}const C=d(n,["trafficType"]);return C!=null&&m(t,["trafficType"],C),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function C1(n){const t={},o=d(n,["data"]);if(o!=null&&m(t,["data"],o),d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(n,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function w1(n){const t={},o=d(n,["content"]);o!=null&&m(t,["content"],o);const r=d(n,["citationMetadata"]);r!=null&&m(t,["citationMetadata"],N1(r));const l=d(n,["tokenCount"]);l!=null&&m(t,["tokenCount"],l);const f=d(n,["finishReason"]);f!=null&&m(t,["finishReason"],f);const h=d(n,["avgLogprobs"]);h!=null&&m(t,["avgLogprobs"],h);const _=d(n,["groundingMetadata"]);_!=null&&m(t,["groundingMetadata"],_);const x=d(n,["index"]);x!=null&&m(t,["index"],x);const y=d(n,["logprobsResult"]);y!=null&&m(t,["logprobsResult"],y);const E=d(n,["safetyRatings"]);if(E!=null){let C=E;Array.isArray(C)&&(C=C.map(R=>R)),m(t,["safetyRatings"],C)}const b=d(n,["urlContextMetadata"]);return b!=null&&m(t,["urlContextMetadata"],b),t}function N1(n){const t={},o=d(n,["citationSources"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>l)),m(t,["citations"],r)}return t}function A1(n,t){const o={},r=d(t,["model"]);r!=null&&m(o,["_url","model"],Xe(n,r));const l=d(t,["contents"]);if(l!=null){let f=zn(l);Array.isArray(f)&&(f=f.map(h=>h)),m(o,["contents"],f)}return o}function M1(n){const t={},o=d(n,["sdkHttpResponse"]);o!=null&&m(t,["sdkHttpResponse"],o);const r=d(n,["tokensInfo"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(f=>f)),m(t,["tokensInfo"],l)}return t}function R1(n){const t={},o=d(n,["values"]);o!=null&&m(t,["values"],o);const r=d(n,["statistics"]);return r!=null&&m(t,["statistics"],I1(r)),t}function I1(n){const t={},o=d(n,["truncated"]);o!=null&&m(t,["truncated"],o);const r=d(n,["token_count"]);return r!=null&&m(t,["tokenCount"],r),t}function oc(n){const t={},o=d(n,["parts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(f=>Ow(f))),m(t,["parts"],l)}const r=d(n,["role"]);return r!=null&&m(t,["role"],r),t}function L1(n){const t={},o=d(n,["controlType"]);o!=null&&m(t,["controlType"],o);const r=d(n,["enableControlImageComputation"]);return r!=null&&m(t,["computeControl"],r),t}function D1(n){const t={};if(d(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(d(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(d(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function P1(n,t){const o={},r=d(n,["systemInstruction"]);t!==void 0&&r!=null&&m(t,["systemInstruction"],Kt(r));const l=d(n,["tools"]);if(t!==void 0&&l!=null){let h=l;Array.isArray(h)&&(h=h.map(_=>e0(_))),m(t,["tools"],h)}const f=d(n,["generationConfig"]);return t!==void 0&&f!=null&&m(t,["generationConfig"],Cw(f)),o}function k1(n,t){const o={},r=d(t,["model"]);r!=null&&m(o,["_url","model"],Xe(n,r));const l=d(t,["contents"]);if(l!=null){let h=zn(l);Array.isArray(h)&&(h=h.map(_=>oc(_))),m(o,["contents"],h)}const f=d(t,["config"]);return f!=null&&D1(f),o}function U1(n,t){const o={},r=d(t,["model"]);r!=null&&m(o,["_url","model"],Xe(n,r));const l=d(t,["contents"]);if(l!=null){let h=zn(l);Array.isArray(h)&&(h=h.map(_=>_)),m(o,["contents"],h)}const f=d(t,["config"]);return f!=null&&P1(f,o),o}function z1(n){const t={},o=d(n,["sdkHttpResponse"]);o!=null&&m(t,["sdkHttpResponse"],o);const r=d(n,["totalTokens"]);r!=null&&m(t,["totalTokens"],r);const l=d(n,["cachedContentTokenCount"]);return l!=null&&m(t,["cachedContentTokenCount"],l),t}function B1(n){const t={},o=d(n,["sdkHttpResponse"]);o!=null&&m(t,["sdkHttpResponse"],o);const r=d(n,["totalTokens"]);return r!=null&&m(t,["totalTokens"],r),t}function H1(n,t){const o={},r=d(t,["model"]);return r!=null&&m(o,["_url","name"],Xe(n,r)),o}function O1(n,t){const o={},r=d(t,["model"]);return r!=null&&m(o,["_url","name"],Xe(n,r)),o}function G1(n){const t={},o=d(n,["sdkHttpResponse"]);return o!=null&&m(t,["sdkHttpResponse"],o),t}function V1(n){const t={},o=d(n,["sdkHttpResponse"]);return o!=null&&m(t,["sdkHttpResponse"],o),t}function q1(n,t){const o={},r=d(n,["outputGcsUri"]);t!==void 0&&r!=null&&m(t,["parameters","storageUri"],r);const l=d(n,["negativePrompt"]);t!==void 0&&l!=null&&m(t,["parameters","negativePrompt"],l);const f=d(n,["numberOfImages"]);t!==void 0&&f!=null&&m(t,["parameters","sampleCount"],f);const h=d(n,["aspectRatio"]);t!==void 0&&h!=null&&m(t,["parameters","aspectRatio"],h);const _=d(n,["guidanceScale"]);t!==void 0&&_!=null&&m(t,["parameters","guidanceScale"],_);const x=d(n,["seed"]);t!==void 0&&x!=null&&m(t,["parameters","seed"],x);const y=d(n,["safetyFilterLevel"]);t!==void 0&&y!=null&&m(t,["parameters","safetySetting"],y);const E=d(n,["personGeneration"]);t!==void 0&&E!=null&&m(t,["parameters","personGeneration"],E);const b=d(n,["includeSafetyAttributes"]);t!==void 0&&b!=null&&m(t,["parameters","includeSafetyAttributes"],b);const C=d(n,["includeRaiReason"]);t!==void 0&&C!=null&&m(t,["parameters","includeRaiReason"],C);const R=d(n,["language"]);t!==void 0&&R!=null&&m(t,["parameters","language"],R);const k=d(n,["outputMimeType"]);t!==void 0&&k!=null&&m(t,["parameters","outputOptions","mimeType"],k);const D=d(n,["outputCompressionQuality"]);t!==void 0&&D!=null&&m(t,["parameters","outputOptions","compressionQuality"],D);const I=d(n,["addWatermark"]);t!==void 0&&I!=null&&m(t,["parameters","addWatermark"],I);const H=d(n,["labels"]);t!==void 0&&H!=null&&m(t,["labels"],H);const X=d(n,["editMode"]);t!==void 0&&X!=null&&m(t,["parameters","editMode"],X);const O=d(n,["baseSteps"]);return t!==void 0&&O!=null&&m(t,["parameters","editConfig","baseSteps"],O),o}function F1(n,t){const o={},r=d(t,["model"]);r!=null&&m(o,["_url","model"],Xe(n,r));const l=d(t,["prompt"]);l!=null&&m(o,["instances[0]","prompt"],l);const f=d(t,["referenceImages"]);if(f!=null){let _=f;Array.isArray(_)&&(_=_.map(x=>Yw(x))),m(o,["instances[0]","referenceImages"],_)}const h=d(t,["config"]);return h!=null&&q1(h,o),o}function Z1(n){const t={},o=d(n,["sdkHttpResponse"]);o!=null&&m(t,["sdkHttpResponse"],o);const r=d(n,["predictions"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(f=>sc(f))),m(t,["generatedImages"],l)}return t}function Y1(n,t){const o={},r=d(n,["taskType"]);t!==void 0&&r!=null&&m(t,["requests[]","taskType"],r);const l=d(n,["title"]);t!==void 0&&l!=null&&m(t,["requests[]","title"],l);const f=d(n,["outputDimensionality"]);if(t!==void 0&&f!=null&&m(t,["requests[]","outputDimensionality"],f),d(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function J1(n,t){const o={},r=d(n,["taskType"]);t!==void 0&&r!=null&&m(t,["instances[]","task_type"],r);const l=d(n,["title"]);t!==void 0&&l!=null&&m(t,["instances[]","title"],l);const f=d(n,["outputDimensionality"]);t!==void 0&&f!=null&&m(t,["parameters","outputDimensionality"],f);const h=d(n,["mimeType"]);t!==void 0&&h!=null&&m(t,["instances[]","mimeType"],h);const _=d(n,["autoTruncate"]);return t!==void 0&&_!=null&&m(t,["parameters","autoTruncate"],_),o}function j1(n,t){const o={},r=d(t,["model"]);r!=null&&m(o,["_url","model"],Xe(n,r));const l=d(t,["contents"]);if(l!=null){let _=th(n,l);Array.isArray(_)&&(_=_.map(x=>x)),m(o,["requests[]","content"],_)}const f=d(t,["config"]);f!=null&&Y1(f,o);const h=d(t,["model"]);return h!==void 0&&m(o,["requests[]","model"],Xe(n,h)),o}function K1(n,t){const o={},r=d(t,["model"]);r!=null&&m(o,["_url","model"],Xe(n,r));const l=d(t,["contents"]);if(l!=null){let h=th(n,l);Array.isArray(h)&&(h=h.map(_=>_)),m(o,["instances[]","content"],h)}const f=d(t,["config"]);return f!=null&&J1(f,o),o}function X1(n){const t={},o=d(n,["sdkHttpResponse"]);o!=null&&m(t,["sdkHttpResponse"],o);const r=d(n,["embeddings"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(h=>h)),m(t,["embeddings"],f)}const l=d(n,["metadata"]);return l!=null&&m(t,["metadata"],l),t}function Q1(n){const t={},o=d(n,["sdkHttpResponse"]);o!=null&&m(t,["sdkHttpResponse"],o);const r=d(n,["predictions[]","embeddings"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(h=>R1(h))),m(t,["embeddings"],f)}const l=d(n,["metadata"]);return l!=null&&m(t,["metadata"],l),t}function $1(n){const t={},o=d(n,["endpoint"]);o!=null&&m(t,["name"],o);const r=d(n,["deployedModelId"]);return r!=null&&m(t,["deployedModelId"],r),t}function W1(n){const t={};if(d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=d(n,["fileUri"]);o!=null&&m(t,["fileUri"],o);const r=d(n,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function ew(n){const t={},o=d(n,["id"]);o!=null&&m(t,["id"],o);const r=d(n,["args"]);r!=null&&m(t,["args"],r);const l=d(n,["name"]);if(l!=null&&m(t,["name"],l),d(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function tw(n){const t={},o=d(n,["mode"]);o!=null&&m(t,["mode"],o);const r=d(n,["allowedFunctionNames"]);if(r!=null&&m(t,["allowedFunctionNames"],r),d(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function nw(n){const t={};if(d(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=d(n,["description"]);o!=null&&m(t,["description"],o);const r=d(n,["name"]);r!=null&&m(t,["name"],r);const l=d(n,["parameters"]);l!=null&&m(t,["parameters"],l);const f=d(n,["parametersJsonSchema"]);f!=null&&m(t,["parametersJsonSchema"],f);const h=d(n,["response"]);h!=null&&m(t,["response"],h);const _=d(n,["responseJsonSchema"]);return _!=null&&m(t,["responseJsonSchema"],_),t}function iw(n,t,o){const r={},l=d(t,["systemInstruction"]);o!==void 0&&l!=null&&m(o,["systemInstruction"],oc(Kt(l)));const f=d(t,["temperature"]);f!=null&&m(r,["temperature"],f);const h=d(t,["topP"]);h!=null&&m(r,["topP"],h);const _=d(t,["topK"]);_!=null&&m(r,["topK"],_);const x=d(t,["candidateCount"]);x!=null&&m(r,["candidateCount"],x);const y=d(t,["maxOutputTokens"]);y!=null&&m(r,["maxOutputTokens"],y);const E=d(t,["stopSequences"]);E!=null&&m(r,["stopSequences"],E);const b=d(t,["responseLogprobs"]);b!=null&&m(r,["responseLogprobs"],b);const C=d(t,["logprobs"]);C!=null&&m(r,["logprobs"],C);const R=d(t,["presencePenalty"]);R!=null&&m(r,["presencePenalty"],R);const k=d(t,["frequencyPenalty"]);k!=null&&m(r,["frequencyPenalty"],k);const D=d(t,["seed"]);D!=null&&m(r,["seed"],D);const I=d(t,["responseMimeType"]);I!=null&&m(r,["responseMimeType"],I);const H=d(t,["responseSchema"]);H!=null&&m(r,["responseSchema"],nh(H));const X=d(t,["responseJsonSchema"]);if(X!=null&&m(r,["responseJsonSchema"],X),d(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const O=d(t,["safetySettings"]);if(o!==void 0&&O!=null){let ze=O;Array.isArray(ze)&&(ze=ze.map(ee=>Jw(ee))),m(o,["safetySettings"],ze)}const ie=d(t,["tools"]);if(o!==void 0&&ie!=null){let ze=Oa(ie);Array.isArray(ze)&&(ze=ze.map(ee=>eN(Ha(ee)))),m(o,["tools"],ze)}const le=d(t,["toolConfig"]);if(o!==void 0&&le!=null&&m(o,["toolConfig"],Ww(le)),d(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const pe=d(t,["cachedContent"]);o!==void 0&&pe!=null&&m(o,["cachedContent"],Qi(n,pe));const oe=d(t,["responseModalities"]);oe!=null&&m(r,["responseModalities"],oe);const Ae=d(t,["mediaResolution"]);Ae!=null&&m(r,["mediaResolution"],Ae);const fe=d(t,["speechConfig"]);if(fe!=null&&m(r,["speechConfig"],ih(fe)),d(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Ee=d(t,["thinkingConfig"]);Ee!=null&&m(r,["thinkingConfig"],Ee);const be=d(t,["imageConfig"]);be!=null&&m(r,["imageConfig"],Rw(be));const Le=d(t,["enableEnhancedCivicAnswers"]);return Le!=null&&m(r,["enableEnhancedCivicAnswers"],Le),r}function ow(n,t,o){const r={},l=d(t,["systemInstruction"]);o!==void 0&&l!=null&&m(o,["systemInstruction"],Kt(l));const f=d(t,["temperature"]);f!=null&&m(r,["temperature"],f);const h=d(t,["topP"]);h!=null&&m(r,["topP"],h);const _=d(t,["topK"]);_!=null&&m(r,["topK"],_);const x=d(t,["candidateCount"]);x!=null&&m(r,["candidateCount"],x);const y=d(t,["maxOutputTokens"]);y!=null&&m(r,["maxOutputTokens"],y);const E=d(t,["stopSequences"]);E!=null&&m(r,["stopSequences"],E);const b=d(t,["responseLogprobs"]);b!=null&&m(r,["responseLogprobs"],b);const C=d(t,["logprobs"]);C!=null&&m(r,["logprobs"],C);const R=d(t,["presencePenalty"]);R!=null&&m(r,["presencePenalty"],R);const k=d(t,["frequencyPenalty"]);k!=null&&m(r,["frequencyPenalty"],k);const D=d(t,["seed"]);D!=null&&m(r,["seed"],D);const I=d(t,["responseMimeType"]);I!=null&&m(r,["responseMimeType"],I);const H=d(t,["responseSchema"]);H!=null&&m(r,["responseSchema"],nh(H));const X=d(t,["responseJsonSchema"]);X!=null&&m(r,["responseJsonSchema"],X);const O=d(t,["routingConfig"]);O!=null&&m(r,["routingConfig"],O);const ie=d(t,["modelSelectionConfig"]);ie!=null&&m(r,["modelConfig"],ie);const le=d(t,["safetySettings"]);if(o!==void 0&&le!=null){let j=le;Array.isArray(j)&&(j=j.map(ae=>ae)),m(o,["safetySettings"],j)}const pe=d(t,["tools"]);if(o!==void 0&&pe!=null){let j=Oa(pe);Array.isArray(j)&&(j=j.map(ae=>e0(Ha(ae)))),m(o,["tools"],j)}const oe=d(t,["toolConfig"]);o!==void 0&&oe!=null&&m(o,["toolConfig"],oe);const Ae=d(t,["labels"]);o!==void 0&&Ae!=null&&m(o,["labels"],Ae);const fe=d(t,["cachedContent"]);o!==void 0&&fe!=null&&m(o,["cachedContent"],Qi(n,fe));const Ee=d(t,["responseModalities"]);Ee!=null&&m(r,["responseModalities"],Ee);const be=d(t,["mediaResolution"]);be!=null&&m(r,["mediaResolution"],be);const Le=d(t,["speechConfig"]);Le!=null&&m(r,["speechConfig"],Wy(ih(Le)));const ze=d(t,["audioTimestamp"]);ze!=null&&m(r,["audioTimestamp"],ze);const ee=d(t,["thinkingConfig"]);ee!=null&&m(r,["thinkingConfig"],ee);const Qe=d(t,["imageConfig"]);if(Qe!=null&&m(r,["imageConfig"],Iw(Qe)),d(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return r}function Bv(n,t){const o={},r=d(t,["model"]);r!=null&&m(o,["_url","model"],Xe(n,r));const l=d(t,["contents"]);if(l!=null){let h=zn(l);Array.isArray(h)&&(h=h.map(_=>oc(_))),m(o,["contents"],h)}const f=d(t,["config"]);return f!=null&&m(o,["generationConfig"],iw(n,f,o)),o}function Hv(n,t){const o={},r=d(t,["model"]);r!=null&&m(o,["_url","model"],Xe(n,r));const l=d(t,["contents"]);if(l!=null){let h=zn(l);Array.isArray(h)&&(h=h.map(_=>_)),m(o,["contents"],h)}const f=d(t,["config"]);return f!=null&&m(o,["generationConfig"],ow(n,f,o)),o}function Ov(n){const t={},o=d(n,["sdkHttpResponse"]);o!=null&&m(t,["sdkHttpResponse"],o);const r=d(n,["candidates"]);if(r!=null){let x=r;Array.isArray(x)&&(x=x.map(y=>w1(y))),m(t,["candidates"],x)}const l=d(n,["modelVersion"]);l!=null&&m(t,["modelVersion"],l);const f=d(n,["promptFeedback"]);f!=null&&m(t,["promptFeedback"],f);const h=d(n,["responseId"]);h!=null&&m(t,["responseId"],h);const _=d(n,["usageMetadata"]);return _!=null&&m(t,["usageMetadata"],_),t}function Gv(n){const t={},o=d(n,["sdkHttpResponse"]);o!=null&&m(t,["sdkHttpResponse"],o);const r=d(n,["candidates"]);if(r!=null){let y=r;Array.isArray(y)&&(y=y.map(E=>E)),m(t,["candidates"],y)}const l=d(n,["createTime"]);l!=null&&m(t,["createTime"],l);const f=d(n,["modelVersion"]);f!=null&&m(t,["modelVersion"],f);const h=d(n,["promptFeedback"]);h!=null&&m(t,["promptFeedback"],h);const _=d(n,["responseId"]);_!=null&&m(t,["responseId"],_);const x=d(n,["usageMetadata"]);return x!=null&&m(t,["usageMetadata"],x),t}function sw(n,t){const o={};if(d(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=d(n,["numberOfImages"]);t!==void 0&&r!=null&&m(t,["parameters","sampleCount"],r);const l=d(n,["aspectRatio"]);t!==void 0&&l!=null&&m(t,["parameters","aspectRatio"],l);const f=d(n,["guidanceScale"]);if(t!==void 0&&f!=null&&m(t,["parameters","guidanceScale"],f),d(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const h=d(n,["safetyFilterLevel"]);t!==void 0&&h!=null&&m(t,["parameters","safetySetting"],h);const _=d(n,["personGeneration"]);t!==void 0&&_!=null&&m(t,["parameters","personGeneration"],_);const x=d(n,["includeSafetyAttributes"]);t!==void 0&&x!=null&&m(t,["parameters","includeSafetyAttributes"],x);const y=d(n,["includeRaiReason"]);t!==void 0&&y!=null&&m(t,["parameters","includeRaiReason"],y);const E=d(n,["language"]);t!==void 0&&E!=null&&m(t,["parameters","language"],E);const b=d(n,["outputMimeType"]);t!==void 0&&b!=null&&m(t,["parameters","outputOptions","mimeType"],b);const C=d(n,["outputCompressionQuality"]);if(t!==void 0&&C!=null&&m(t,["parameters","outputOptions","compressionQuality"],C),d(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(d(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const R=d(n,["imageSize"]);if(t!==void 0&&R!=null&&m(t,["parameters","sampleImageSize"],R),d(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function aw(n,t){const o={},r=d(n,["outputGcsUri"]);t!==void 0&&r!=null&&m(t,["parameters","storageUri"],r);const l=d(n,["negativePrompt"]);t!==void 0&&l!=null&&m(t,["parameters","negativePrompt"],l);const f=d(n,["numberOfImages"]);t!==void 0&&f!=null&&m(t,["parameters","sampleCount"],f);const h=d(n,["aspectRatio"]);t!==void 0&&h!=null&&m(t,["parameters","aspectRatio"],h);const _=d(n,["guidanceScale"]);t!==void 0&&_!=null&&m(t,["parameters","guidanceScale"],_);const x=d(n,["seed"]);t!==void 0&&x!=null&&m(t,["parameters","seed"],x);const y=d(n,["safetyFilterLevel"]);t!==void 0&&y!=null&&m(t,["parameters","safetySetting"],y);const E=d(n,["personGeneration"]);t!==void 0&&E!=null&&m(t,["parameters","personGeneration"],E);const b=d(n,["includeSafetyAttributes"]);t!==void 0&&b!=null&&m(t,["parameters","includeSafetyAttributes"],b);const C=d(n,["includeRaiReason"]);t!==void 0&&C!=null&&m(t,["parameters","includeRaiReason"],C);const R=d(n,["language"]);t!==void 0&&R!=null&&m(t,["parameters","language"],R);const k=d(n,["outputMimeType"]);t!==void 0&&k!=null&&m(t,["parameters","outputOptions","mimeType"],k);const D=d(n,["outputCompressionQuality"]);t!==void 0&&D!=null&&m(t,["parameters","outputOptions","compressionQuality"],D);const I=d(n,["addWatermark"]);t!==void 0&&I!=null&&m(t,["parameters","addWatermark"],I);const H=d(n,["labels"]);t!==void 0&&H!=null&&m(t,["labels"],H);const X=d(n,["imageSize"]);t!==void 0&&X!=null&&m(t,["parameters","sampleImageSize"],X);const O=d(n,["enhancePrompt"]);return t!==void 0&&O!=null&&m(t,["parameters","enhancePrompt"],O),o}function rw(n,t){const o={},r=d(t,["model"]);r!=null&&m(o,["_url","model"],Xe(n,r));const l=d(t,["prompt"]);l!=null&&m(o,["instances[0]","prompt"],l);const f=d(t,["config"]);return f!=null&&sw(f,o),o}function lw(n,t){const o={},r=d(t,["model"]);r!=null&&m(o,["_url","model"],Xe(n,r));const l=d(t,["prompt"]);l!=null&&m(o,["instances[0]","prompt"],l);const f=d(t,["config"]);return f!=null&&aw(f,o),o}function uw(n){const t={},o=d(n,["sdkHttpResponse"]);o!=null&&m(t,["sdkHttpResponse"],o);const r=d(n,["predictions"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(h=>Sw(h))),m(t,["generatedImages"],f)}const l=d(n,["positivePromptSafetyAttributes"]);return l!=null&&m(t,["positivePromptSafetyAttributes"],Qy(l)),t}function cw(n){const t={},o=d(n,["sdkHttpResponse"]);o!=null&&m(t,["sdkHttpResponse"],o);const r=d(n,["predictions"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(h=>sc(h))),m(t,["generatedImages"],f)}const l=d(n,["positivePromptSafetyAttributes"]);return l!=null&&m(t,["positivePromptSafetyAttributes"],$y(l)),t}function dw(n,t){const o={},r=d(n,["numberOfVideos"]);if(t!==void 0&&r!=null&&m(t,["parameters","sampleCount"],r),d(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const l=d(n,["durationSeconds"]);if(t!==void 0&&l!=null&&m(t,["parameters","durationSeconds"],l),d(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const f=d(n,["aspectRatio"]);t!==void 0&&f!=null&&m(t,["parameters","aspectRatio"],f);const h=d(n,["resolution"]);t!==void 0&&h!=null&&m(t,["parameters","resolution"],h);const _=d(n,["personGeneration"]);if(t!==void 0&&_!=null&&m(t,["parameters","personGeneration"],_),d(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const x=d(n,["negativePrompt"]);t!==void 0&&x!=null&&m(t,["parameters","negativePrompt"],x);const y=d(n,["enhancePrompt"]);if(t!==void 0&&y!=null&&m(t,["parameters","enhancePrompt"],y),d(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const E=d(n,["lastFrame"]);t!==void 0&&E!=null&&m(t,["instances[0]","lastFrame"],ac(E));const b=d(n,["referenceImages"]);if(t!==void 0&&b!=null){let C=b;Array.isArray(C)&&(C=C.map(R=>hN(R))),m(t,["instances[0]","referenceImages"],C)}if(d(n,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(d(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return o}function fw(n,t){const o={},r=d(n,["numberOfVideos"]);t!==void 0&&r!=null&&m(t,["parameters","sampleCount"],r);const l=d(n,["outputGcsUri"]);t!==void 0&&l!=null&&m(t,["parameters","storageUri"],l);const f=d(n,["fps"]);t!==void 0&&f!=null&&m(t,["parameters","fps"],f);const h=d(n,["durationSeconds"]);t!==void 0&&h!=null&&m(t,["parameters","durationSeconds"],h);const _=d(n,["seed"]);t!==void 0&&_!=null&&m(t,["parameters","seed"],_);const x=d(n,["aspectRatio"]);t!==void 0&&x!=null&&m(t,["parameters","aspectRatio"],x);const y=d(n,["resolution"]);t!==void 0&&y!=null&&m(t,["parameters","resolution"],y);const E=d(n,["personGeneration"]);t!==void 0&&E!=null&&m(t,["parameters","personGeneration"],E);const b=d(n,["pubsubTopic"]);t!==void 0&&b!=null&&m(t,["parameters","pubsubTopic"],b);const C=d(n,["negativePrompt"]);t!==void 0&&C!=null&&m(t,["parameters","negativePrompt"],C);const R=d(n,["enhancePrompt"]);t!==void 0&&R!=null&&m(t,["parameters","enhancePrompt"],R);const k=d(n,["generateAudio"]);t!==void 0&&k!=null&&m(t,["parameters","generateAudio"],k);const D=d(n,["lastFrame"]);t!==void 0&&D!=null&&m(t,["instances[0]","lastFrame"],ti(D));const I=d(n,["referenceImages"]);if(t!==void 0&&I!=null){let O=I;Array.isArray(O)&&(O=O.map(ie=>mN(ie))),m(t,["instances[0]","referenceImages"],O)}const H=d(n,["mask"]);t!==void 0&&H!=null&&m(t,["instances[0]","mask"],fN(H));const X=d(n,["compressionQuality"]);return t!==void 0&&X!=null&&m(t,["parameters","compressionQuality"],X),o}function hw(n){const t={},o=d(n,["name"]);o!=null&&m(t,["name"],o);const r=d(n,["metadata"]);r!=null&&m(t,["metadata"],r);const l=d(n,["done"]);l!=null&&m(t,["done"],l);const f=d(n,["error"]);f!=null&&m(t,["error"],f);const h=d(n,["response","generateVideoResponse"]);return h!=null&&m(t,["response"],vw(h)),t}function mw(n){const t={},o=d(n,["name"]);o!=null&&m(t,["name"],o);const r=d(n,["metadata"]);r!=null&&m(t,["metadata"],r);const l=d(n,["done"]);l!=null&&m(t,["done"],l);const f=d(n,["error"]);f!=null&&m(t,["error"],f);const h=d(n,["response"]);return h!=null&&m(t,["response"],yw(h)),t}function pw(n,t){const o={},r=d(t,["model"]);r!=null&&m(o,["_url","model"],Xe(n,r));const l=d(t,["prompt"]);l!=null&&m(o,["instances[0]","prompt"],l);const f=d(t,["image"]);f!=null&&m(o,["instances[0]","image"],ac(f));const h=d(t,["video"]);h!=null&&m(o,["instances[0]","video"],t0(h));const _=d(t,["source"]);_!=null&&_w(_,o);const x=d(t,["config"]);return x!=null&&dw(x,o),o}function gw(n,t){const o={},r=d(t,["model"]);r!=null&&m(o,["_url","model"],Xe(n,r));const l=d(t,["prompt"]);l!=null&&m(o,["instances[0]","prompt"],l);const f=d(t,["image"]);f!=null&&m(o,["instances[0]","image"],ti(f));const h=d(t,["video"]);h!=null&&m(o,["instances[0]","video"],n0(h));const _=d(t,["source"]);_!=null&&xw(_,o);const x=d(t,["config"]);return x!=null&&fw(x,o),o}function vw(n){const t={},o=d(n,["generatedSamples"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(h=>Ew(h))),m(t,["generatedVideos"],f)}const r=d(n,["raiMediaFilteredCount"]);r!=null&&m(t,["raiMediaFilteredCount"],r);const l=d(n,["raiMediaFilteredReasons"]);return l!=null&&m(t,["raiMediaFilteredReasons"],l),t}function yw(n){const t={},o=d(n,["videos"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(h=>bw(h))),m(t,["generatedVideos"],f)}const r=d(n,["raiMediaFilteredCount"]);r!=null&&m(t,["raiMediaFilteredCount"],r);const l=d(n,["raiMediaFilteredReasons"]);return l!=null&&m(t,["raiMediaFilteredReasons"],l),t}function _w(n,t){const o={},r=d(n,["prompt"]);t!==void 0&&r!=null&&m(t,["instances[0]","prompt"],r);const l=d(n,["image"]);t!==void 0&&l!=null&&m(t,["instances[0]","image"],ac(l));const f=d(n,["video"]);return t!==void 0&&f!=null&&m(t,["instances[0]","video"],t0(f)),o}function xw(n,t){const o={},r=d(n,["prompt"]);t!==void 0&&r!=null&&m(t,["instances[0]","prompt"],r);const l=d(n,["image"]);t!==void 0&&l!=null&&m(t,["instances[0]","image"],ti(l));const f=d(n,["video"]);return t!==void 0&&f!=null&&m(t,["instances[0]","video"],n0(f)),o}function Sw(n){const t={},o=d(n,["_self"]);o!=null&&m(t,["image"],Lw(o));const r=d(n,["raiFilteredReason"]);r!=null&&m(t,["raiFilteredReason"],r);const l=d(n,["_self"]);return l!=null&&m(t,["safetyAttributes"],Qy(l)),t}function sc(n){const t={},o=d(n,["_self"]);o!=null&&m(t,["image"],Xy(o));const r=d(n,["raiFilteredReason"]);r!=null&&m(t,["raiFilteredReason"],r);const l=d(n,["_self"]);l!=null&&m(t,["safetyAttributes"],$y(l));const f=d(n,["prompt"]);return f!=null&&m(t,["enhancedPrompt"],f),t}function Tw(n){const t={},o=d(n,["_self"]);o!=null&&m(t,["mask"],Xy(o));const r=d(n,["labels"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(f=>f)),m(t,["labels"],l)}return t}function Ew(n){const t={},o=d(n,["video"]);return o!=null&&m(t,["video"],cN(o)),t}function bw(n){const t={},o=d(n,["_self"]);return o!=null&&m(t,["video"],dN(o)),t}function Cw(n){const t={},o=d(n,["modelSelectionConfig"]);o!=null&&m(t,["modelConfig"],o);const r=d(n,["responseJsonSchema"]);r!=null&&m(t,["responseJsonSchema"],r);const l=d(n,["audioTimestamp"]);l!=null&&m(t,["audioTimestamp"],l);const f=d(n,["candidateCount"]);f!=null&&m(t,["candidateCount"],f);const h=d(n,["enableAffectiveDialog"]);h!=null&&m(t,["enableAffectiveDialog"],h);const _=d(n,["frequencyPenalty"]);_!=null&&m(t,["frequencyPenalty"],_);const x=d(n,["logprobs"]);x!=null&&m(t,["logprobs"],x);const y=d(n,["maxOutputTokens"]);y!=null&&m(t,["maxOutputTokens"],y);const E=d(n,["mediaResolution"]);E!=null&&m(t,["mediaResolution"],E);const b=d(n,["presencePenalty"]);b!=null&&m(t,["presencePenalty"],b);const C=d(n,["responseLogprobs"]);C!=null&&m(t,["responseLogprobs"],C);const R=d(n,["responseMimeType"]);R!=null&&m(t,["responseMimeType"],R);const k=d(n,["responseModalities"]);k!=null&&m(t,["responseModalities"],k);const D=d(n,["responseSchema"]);D!=null&&m(t,["responseSchema"],D);const I=d(n,["routingConfig"]);I!=null&&m(t,["routingConfig"],I);const H=d(n,["seed"]);H!=null&&m(t,["seed"],H);const X=d(n,["speechConfig"]);X!=null&&m(t,["speechConfig"],Wy(X));const O=d(n,["stopSequences"]);O!=null&&m(t,["stopSequences"],O);const ie=d(n,["temperature"]);ie!=null&&m(t,["temperature"],ie);const le=d(n,["thinkingConfig"]);le!=null&&m(t,["thinkingConfig"],le);const pe=d(n,["topK"]);pe!=null&&m(t,["topK"],pe);const oe=d(n,["topP"]);if(oe!=null&&m(t,["topP"],oe),d(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function ww(n,t){const o={},r=d(t,["model"]);return r!=null&&m(o,["_url","name"],Xe(n,r)),o}function Nw(n,t){const o={},r=d(t,["model"]);return r!=null&&m(o,["_url","name"],Xe(n,r)),o}function Aw(n){const t={};if(d(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=d(n,["enableWidget"]);return o!=null&&m(t,["enableWidget"],o),t}function Mw(n){const t={};if(d(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=d(n,["timeRangeFilter"]);return o!=null&&m(t,["timeRangeFilter"],o),t}function Rw(n){const t={},o=d(n,["aspectRatio"]);o!=null&&m(t,["aspectRatio"],o);const r=d(n,["imageSize"]);if(r!=null&&m(t,["imageSize"],r),d(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(d(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function Iw(n){const t={},o=d(n,["aspectRatio"]);o!=null&&m(t,["aspectRatio"],o);const r=d(n,["imageSize"]);r!=null&&m(t,["imageSize"],r);const l=d(n,["outputMimeType"]);l!=null&&m(t,["imageOutputOptions","mimeType"],l);const f=d(n,["outputCompressionQuality"]);return f!=null&&m(t,["imageOutputOptions","compressionQuality"],f),t}function Lw(n){const t={},o=d(n,["bytesBase64Encoded"]);o!=null&&m(t,["imageBytes"],Oo(o));const r=d(n,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function Xy(n){const t={},o=d(n,["gcsUri"]);o!=null&&m(t,["gcsUri"],o);const r=d(n,["bytesBase64Encoded"]);r!=null&&m(t,["imageBytes"],Oo(r));const l=d(n,["mimeType"]);return l!=null&&m(t,["mimeType"],l),t}function ac(n){const t={};if(d(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=d(n,["imageBytes"]);o!=null&&m(t,["bytesBase64Encoded"],Oo(o));const r=d(n,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function ti(n){const t={},o=d(n,["gcsUri"]);o!=null&&m(t,["gcsUri"],o);const r=d(n,["imageBytes"]);r!=null&&m(t,["bytesBase64Encoded"],Oo(r));const l=d(n,["mimeType"]);return l!=null&&m(t,["mimeType"],l),t}function Dw(n,t,o){const r={},l=d(t,["pageSize"]);o!==void 0&&l!=null&&m(o,["_query","pageSize"],l);const f=d(t,["pageToken"]);o!==void 0&&f!=null&&m(o,["_query","pageToken"],f);const h=d(t,["filter"]);o!==void 0&&h!=null&&m(o,["_query","filter"],h);const _=d(t,["queryBase"]);return o!==void 0&&_!=null&&m(o,["_url","models_url"],Vy(n,_)),r}function Pw(n,t,o){const r={},l=d(t,["pageSize"]);o!==void 0&&l!=null&&m(o,["_query","pageSize"],l);const f=d(t,["pageToken"]);o!==void 0&&f!=null&&m(o,["_query","pageToken"],f);const h=d(t,["filter"]);o!==void 0&&h!=null&&m(o,["_query","filter"],h);const _=d(t,["queryBase"]);return o!==void 0&&_!=null&&m(o,["_url","models_url"],Vy(n,_)),r}function kw(n,t){const o={},r=d(t,["config"]);return r!=null&&Dw(n,r,o),o}function Uw(n,t){const o={},r=d(t,["config"]);return r!=null&&Pw(n,r,o),o}function zw(n){const t={},o=d(n,["sdkHttpResponse"]);o!=null&&m(t,["sdkHttpResponse"],o);const r=d(n,["nextPageToken"]);r!=null&&m(t,["nextPageToken"],r);const l=d(n,["_self"]);if(l!=null){let f=qy(l);Array.isArray(f)&&(f=f.map(h=>If(h))),m(t,["models"],f)}return t}function Bw(n){const t={},o=d(n,["sdkHttpResponse"]);o!=null&&m(t,["sdkHttpResponse"],o);const r=d(n,["nextPageToken"]);r!=null&&m(t,["nextPageToken"],r);const l=d(n,["_self"]);if(l!=null){let f=qy(l);Array.isArray(f)&&(f=f.map(h=>Lf(h))),m(t,["models"],f)}return t}function Hw(n){const t={},o=d(n,["maskMode"]);o!=null&&m(t,["maskMode"],o);const r=d(n,["segmentationClasses"]);r!=null&&m(t,["maskClasses"],r);const l=d(n,["maskDilation"]);return l!=null&&m(t,["dilation"],l),t}function If(n){const t={},o=d(n,["name"]);o!=null&&m(t,["name"],o);const r=d(n,["displayName"]);r!=null&&m(t,["displayName"],r);const l=d(n,["description"]);l!=null&&m(t,["description"],l);const f=d(n,["version"]);f!=null&&m(t,["version"],f);const h=d(n,["_self"]);h!=null&&m(t,["tunedModelInfo"],tN(h));const _=d(n,["inputTokenLimit"]);_!=null&&m(t,["inputTokenLimit"],_);const x=d(n,["outputTokenLimit"]);x!=null&&m(t,["outputTokenLimit"],x);const y=d(n,["supportedGenerationMethods"]);y!=null&&m(t,["supportedActions"],y);const E=d(n,["temperature"]);E!=null&&m(t,["temperature"],E);const b=d(n,["maxTemperature"]);b!=null&&m(t,["maxTemperature"],b);const C=d(n,["topP"]);C!=null&&m(t,["topP"],C);const R=d(n,["topK"]);R!=null&&m(t,["topK"],R);const k=d(n,["thinking"]);return k!=null&&m(t,["thinking"],k),t}function Lf(n){const t={},o=d(n,["name"]);o!=null&&m(t,["name"],o);const r=d(n,["displayName"]);r!=null&&m(t,["displayName"],r);const l=d(n,["description"]);l!=null&&m(t,["description"],l);const f=d(n,["versionId"]);f!=null&&m(t,["version"],f);const h=d(n,["deployedModels"]);if(h!=null){let b=h;Array.isArray(b)&&(b=b.map(C=>$1(C))),m(t,["endpoints"],b)}const _=d(n,["labels"]);_!=null&&m(t,["labels"],_);const x=d(n,["_self"]);x!=null&&m(t,["tunedModelInfo"],nN(x));const y=d(n,["defaultCheckpointId"]);y!=null&&m(t,["defaultCheckpointId"],y);const E=d(n,["checkpoints"]);if(E!=null){let b=E;Array.isArray(b)&&(b=b.map(C=>C)),m(t,["checkpoints"],b)}return t}function Ow(n){const t={},o=d(n,["mediaResolution"]);o!=null&&m(t,["mediaResolution"],o);const r=d(n,["codeExecutionResult"]);r!=null&&m(t,["codeExecutionResult"],r);const l=d(n,["executableCode"]);l!=null&&m(t,["executableCode"],l);const f=d(n,["fileData"]);f!=null&&m(t,["fileData"],W1(f));const h=d(n,["functionCall"]);h!=null&&m(t,["functionCall"],ew(h));const _=d(n,["functionResponse"]);_!=null&&m(t,["functionResponse"],_);const x=d(n,["inlineData"]);x!=null&&m(t,["inlineData"],C1(x));const y=d(n,["text"]);y!=null&&m(t,["text"],y);const E=d(n,["thought"]);E!=null&&m(t,["thought"],E);const b=d(n,["thoughtSignature"]);b!=null&&m(t,["thoughtSignature"],b);const C=d(n,["videoMetadata"]);return C!=null&&m(t,["videoMetadata"],C),t}function Gw(n){const t={},o=d(n,["productImage"]);return o!=null&&m(t,["image"],ti(o)),t}function Vw(n,t){const o={},r=d(n,["numberOfImages"]);t!==void 0&&r!=null&&m(t,["parameters","sampleCount"],r);const l=d(n,["baseSteps"]);t!==void 0&&l!=null&&m(t,["parameters","baseSteps"],l);const f=d(n,["outputGcsUri"]);t!==void 0&&f!=null&&m(t,["parameters","storageUri"],f);const h=d(n,["seed"]);t!==void 0&&h!=null&&m(t,["parameters","seed"],h);const _=d(n,["safetyFilterLevel"]);t!==void 0&&_!=null&&m(t,["parameters","safetySetting"],_);const x=d(n,["personGeneration"]);t!==void 0&&x!=null&&m(t,["parameters","personGeneration"],x);const y=d(n,["addWatermark"]);t!==void 0&&y!=null&&m(t,["parameters","addWatermark"],y);const E=d(n,["outputMimeType"]);t!==void 0&&E!=null&&m(t,["parameters","outputOptions","mimeType"],E);const b=d(n,["outputCompressionQuality"]);t!==void 0&&b!=null&&m(t,["parameters","outputOptions","compressionQuality"],b);const C=d(n,["enhancePrompt"]);t!==void 0&&C!=null&&m(t,["parameters","enhancePrompt"],C);const R=d(n,["labels"]);return t!==void 0&&R!=null&&m(t,["labels"],R),o}function qw(n,t){const o={},r=d(t,["model"]);r!=null&&m(o,["_url","model"],Xe(n,r));const l=d(t,["source"]);l!=null&&Zw(l,o);const f=d(t,["config"]);return f!=null&&Vw(f,o),o}function Fw(n){const t={},o=d(n,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>sc(l))),m(t,["generatedImages"],r)}return t}function Zw(n,t){const o={},r=d(n,["prompt"]);t!==void 0&&r!=null&&m(t,["instances[0]","prompt"],r);const l=d(n,["personImage"]);t!==void 0&&l!=null&&m(t,["instances[0]","personImage","image"],ti(l));const f=d(n,["productImages"]);if(t!==void 0&&f!=null){let h=f;Array.isArray(h)&&(h=h.map(_=>Gw(_))),m(t,["instances[0]","productImages"],h)}return o}function Yw(n){const t={},o=d(n,["referenceImage"]);o!=null&&m(t,["referenceImage"],ti(o));const r=d(n,["referenceId"]);r!=null&&m(t,["referenceId"],r);const l=d(n,["referenceType"]);l!=null&&m(t,["referenceType"],l);const f=d(n,["maskImageConfig"]);f!=null&&m(t,["maskImageConfig"],Hw(f));const h=d(n,["controlImageConfig"]);h!=null&&m(t,["controlImageConfig"],L1(h));const _=d(n,["styleImageConfig"]);_!=null&&m(t,["styleImageConfig"],_);const x=d(n,["subjectImageConfig"]);return x!=null&&m(t,["subjectImageConfig"],x),t}function Qy(n){const t={},o=d(n,["safetyAttributes","categories"]);o!=null&&m(t,["categories"],o);const r=d(n,["safetyAttributes","scores"]);r!=null&&m(t,["scores"],r);const l=d(n,["contentType"]);return l!=null&&m(t,["contentType"],l),t}function $y(n){const t={},o=d(n,["safetyAttributes","categories"]);o!=null&&m(t,["categories"],o);const r=d(n,["safetyAttributes","scores"]);r!=null&&m(t,["scores"],r);const l=d(n,["contentType"]);return l!=null&&m(t,["contentType"],l),t}function Jw(n){const t={},o=d(n,["category"]);if(o!=null&&m(t,["category"],o),d(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=d(n,["threshold"]);return r!=null&&m(t,["threshold"],r),t}function jw(n){const t={},o=d(n,["image"]);return o!=null&&m(t,["image"],ti(o)),t}function Kw(n,t){const o={},r=d(n,["mode"]);t!==void 0&&r!=null&&m(t,["parameters","mode"],r);const l=d(n,["maxPredictions"]);t!==void 0&&l!=null&&m(t,["parameters","maxPredictions"],l);const f=d(n,["confidenceThreshold"]);t!==void 0&&f!=null&&m(t,["parameters","confidenceThreshold"],f);const h=d(n,["maskDilation"]);t!==void 0&&h!=null&&m(t,["parameters","maskDilation"],h);const _=d(n,["binaryColorThreshold"]);t!==void 0&&_!=null&&m(t,["parameters","binaryColorThreshold"],_);const x=d(n,["labels"]);return t!==void 0&&x!=null&&m(t,["labels"],x),o}function Xw(n,t){const o={},r=d(t,["model"]);r!=null&&m(o,["_url","model"],Xe(n,r));const l=d(t,["source"]);l!=null&&$w(l,o);const f=d(t,["config"]);return f!=null&&Kw(f,o),o}function Qw(n){const t={},o=d(n,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>Tw(l))),m(t,["generatedMasks"],r)}return t}function $w(n,t){const o={},r=d(n,["prompt"]);t!==void 0&&r!=null&&m(t,["instances[0]","prompt"],r);const l=d(n,["image"]);t!==void 0&&l!=null&&m(t,["instances[0]","image"],ti(l));const f=d(n,["scribbleImage"]);return t!==void 0&&f!=null&&m(t,["instances[0]","scribble"],jw(f)),o}function Wy(n){const t={},o=d(n,["voiceConfig"]);o!=null&&m(t,["voiceConfig"],o);const r=d(n,["languageCode"]);if(r!=null&&m(t,["languageCode"],r),d(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function Ww(n){const t={},o=d(n,["functionCallingConfig"]);o!=null&&m(t,["functionCallingConfig"],tw(o));const r=d(n,["retrievalConfig"]);return r!=null&&m(t,["retrievalConfig"],r),t}function eN(n){const t={},o=d(n,["functionDeclarations"]);if(o!=null){let E=o;Array.isArray(E)&&(E=E.map(b=>b)),m(t,["functionDeclarations"],E)}if(d(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(n,["googleSearchRetrieval"]);r!=null&&m(t,["googleSearchRetrieval"],r);const l=d(n,["computerUse"]);l!=null&&m(t,["computerUse"],l);const f=d(n,["fileSearch"]);f!=null&&m(t,["fileSearch"],f);const h=d(n,["codeExecution"]);if(h!=null&&m(t,["codeExecution"],h),d(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const _=d(n,["googleMaps"]);_!=null&&m(t,["googleMaps"],Aw(_));const x=d(n,["googleSearch"]);x!=null&&m(t,["googleSearch"],Mw(x));const y=d(n,["urlContext"]);return y!=null&&m(t,["urlContext"],y),t}function e0(n){const t={},o=d(n,["functionDeclarations"]);if(o!=null){let b=o;Array.isArray(b)&&(b=b.map(C=>nw(C))),m(t,["functionDeclarations"],b)}const r=d(n,["retrieval"]);r!=null&&m(t,["retrieval"],r);const l=d(n,["googleSearchRetrieval"]);l!=null&&m(t,["googleSearchRetrieval"],l);const f=d(n,["computerUse"]);if(f!=null&&m(t,["computerUse"],f),d(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const h=d(n,["codeExecution"]);h!=null&&m(t,["codeExecution"],h);const _=d(n,["enterpriseWebSearch"]);_!=null&&m(t,["enterpriseWebSearch"],_);const x=d(n,["googleMaps"]);x!=null&&m(t,["googleMaps"],x);const y=d(n,["googleSearch"]);y!=null&&m(t,["googleSearch"],y);const E=d(n,["urlContext"]);return E!=null&&m(t,["urlContext"],E),t}function tN(n){const t={},o=d(n,["baseModel"]);o!=null&&m(t,["baseModel"],o);const r=d(n,["createTime"]);r!=null&&m(t,["createTime"],r);const l=d(n,["updateTime"]);return l!=null&&m(t,["updateTime"],l),t}function nN(n){const t={},o=d(n,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&m(t,["baseModel"],o);const r=d(n,["createTime"]);r!=null&&m(t,["createTime"],r);const l=d(n,["updateTime"]);return l!=null&&m(t,["updateTime"],l),t}function iN(n,t){const o={},r=d(n,["displayName"]);t!==void 0&&r!=null&&m(t,["displayName"],r);const l=d(n,["description"]);t!==void 0&&l!=null&&m(t,["description"],l);const f=d(n,["defaultCheckpointId"]);return t!==void 0&&f!=null&&m(t,["defaultCheckpointId"],f),o}function oN(n,t){const o={},r=d(n,["displayName"]);t!==void 0&&r!=null&&m(t,["displayName"],r);const l=d(n,["description"]);t!==void 0&&l!=null&&m(t,["description"],l);const f=d(n,["defaultCheckpointId"]);return t!==void 0&&f!=null&&m(t,["defaultCheckpointId"],f),o}function sN(n,t){const o={},r=d(t,["model"]);r!=null&&m(o,["_url","name"],Xe(n,r));const l=d(t,["config"]);return l!=null&&iN(l,o),o}function aN(n,t){const o={},r=d(t,["model"]);r!=null&&m(o,["_url","model"],Xe(n,r));const l=d(t,["config"]);return l!=null&&oN(l,o),o}function rN(n,t){const o={},r=d(n,["outputGcsUri"]);t!==void 0&&r!=null&&m(t,["parameters","storageUri"],r);const l=d(n,["safetyFilterLevel"]);t!==void 0&&l!=null&&m(t,["parameters","safetySetting"],l);const f=d(n,["personGeneration"]);t!==void 0&&f!=null&&m(t,["parameters","personGeneration"],f);const h=d(n,["includeRaiReason"]);t!==void 0&&h!=null&&m(t,["parameters","includeRaiReason"],h);const _=d(n,["outputMimeType"]);t!==void 0&&_!=null&&m(t,["parameters","outputOptions","mimeType"],_);const x=d(n,["outputCompressionQuality"]);t!==void 0&&x!=null&&m(t,["parameters","outputOptions","compressionQuality"],x);const y=d(n,["enhanceInputImage"]);t!==void 0&&y!=null&&m(t,["parameters","upscaleConfig","enhanceInputImage"],y);const E=d(n,["imagePreservationFactor"]);t!==void 0&&E!=null&&m(t,["parameters","upscaleConfig","imagePreservationFactor"],E);const b=d(n,["labels"]);t!==void 0&&b!=null&&m(t,["labels"],b);const C=d(n,["numberOfImages"]);t!==void 0&&C!=null&&m(t,["parameters","sampleCount"],C);const R=d(n,["mode"]);return t!==void 0&&R!=null&&m(t,["parameters","mode"],R),o}function lN(n,t){const o={},r=d(t,["model"]);r!=null&&m(o,["_url","model"],Xe(n,r));const l=d(t,["image"]);l!=null&&m(o,["instances[0]","image"],ti(l));const f=d(t,["upscaleFactor"]);f!=null&&m(o,["parameters","upscaleConfig","upscaleFactor"],f);const h=d(t,["config"]);return h!=null&&rN(h,o),o}function uN(n){const t={},o=d(n,["sdkHttpResponse"]);o!=null&&m(t,["sdkHttpResponse"],o);const r=d(n,["predictions"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(f=>sc(f))),m(t,["generatedImages"],l)}return t}function cN(n){const t={},o=d(n,["uri"]);o!=null&&m(t,["uri"],o);const r=d(n,["encodedVideo"]);r!=null&&m(t,["videoBytes"],Oo(r));const l=d(n,["encoding"]);return l!=null&&m(t,["mimeType"],l),t}function dN(n){const t={},o=d(n,["gcsUri"]);o!=null&&m(t,["uri"],o);const r=d(n,["bytesBase64Encoded"]);r!=null&&m(t,["videoBytes"],Oo(r));const l=d(n,["mimeType"]);return l!=null&&m(t,["mimeType"],l),t}function fN(n){const t={},o=d(n,["image"]);o!=null&&m(t,["_self"],ti(o));const r=d(n,["maskMode"]);return r!=null&&m(t,["maskMode"],r),t}function hN(n){const t={},o=d(n,["image"]);o!=null&&m(t,["image"],ac(o));const r=d(n,["referenceType"]);return r!=null&&m(t,["referenceType"],r),t}function mN(n){const t={},o=d(n,["image"]);o!=null&&m(t,["image"],ti(o));const r=d(n,["referenceType"]);return r!=null&&m(t,["referenceType"],r),t}function t0(n){const t={},o=d(n,["uri"]);o!=null&&m(t,["uri"],o);const r=d(n,["videoBytes"]);r!=null&&m(t,["encodedVideo"],Oo(r));const l=d(n,["mimeType"]);return l!=null&&m(t,["encoding"],l),t}function n0(n){const t={},o=d(n,["uri"]);o!=null&&m(t,["gcsUri"],o);const r=d(n,["videoBytes"]);r!=null&&m(t,["bytesBase64Encoded"],Oo(r));const l=d(n,["mimeType"]);return l!=null&&m(t,["mimeType"],l),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pN(n,t){const o={},r=d(n,["displayName"]);return t!==void 0&&r!=null&&m(t,["displayName"],r),o}function gN(n){const t={},o=d(n,["config"]);return o!=null&&pN(o,t),t}function vN(n,t){const o={},r=d(n,["force"]);return t!==void 0&&r!=null&&m(t,["_query","force"],r),o}function yN(n){const t={},o=d(n,["name"]);o!=null&&m(t,["_url","name"],o);const r=d(n,["config"]);return r!=null&&vN(r,t),t}function _N(n){const t={},o=d(n,["name"]);return o!=null&&m(t,["_url","name"],o),t}function xN(n,t){const o={},r=d(n,["customMetadata"]);if(t!==void 0&&r!=null){let f=r;Array.isArray(f)&&(f=f.map(h=>h)),m(t,["customMetadata"],f)}const l=d(n,["chunkingConfig"]);return t!==void 0&&l!=null&&m(t,["chunkingConfig"],l),o}function SN(n){const t={},o=d(n,["name"]);o!=null&&m(t,["name"],o);const r=d(n,["metadata"]);r!=null&&m(t,["metadata"],r);const l=d(n,["done"]);l!=null&&m(t,["done"],l);const f=d(n,["error"]);f!=null&&m(t,["error"],f);const h=d(n,["response"]);return h!=null&&m(t,["response"],EN(h)),t}function TN(n){const t={},o=d(n,["fileSearchStoreName"]);o!=null&&m(t,["_url","file_search_store_name"],o);const r=d(n,["fileName"]);r!=null&&m(t,["fileName"],r);const l=d(n,["config"]);return l!=null&&xN(l,t),t}function EN(n){const t={},o=d(n,["sdkHttpResponse"]);o!=null&&m(t,["sdkHttpResponse"],o);const r=d(n,["parent"]);r!=null&&m(t,["parent"],r);const l=d(n,["documentName"]);return l!=null&&m(t,["documentName"],l),t}function bN(n,t){const o={},r=d(n,["pageSize"]);t!==void 0&&r!=null&&m(t,["_query","pageSize"],r);const l=d(n,["pageToken"]);return t!==void 0&&l!=null&&m(t,["_query","pageToken"],l),o}function CN(n){const t={},o=d(n,["config"]);return o!=null&&bN(o,t),t}function wN(n){const t={},o=d(n,["sdkHttpResponse"]);o!=null&&m(t,["sdkHttpResponse"],o);const r=d(n,["nextPageToken"]);r!=null&&m(t,["nextPageToken"],r);const l=d(n,["fileSearchStores"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(h=>h)),m(t,["fileSearchStores"],f)}return t}function i0(n,t){const o={},r=d(n,["mimeType"]);t!==void 0&&r!=null&&m(t,["mimeType"],r);const l=d(n,["displayName"]);t!==void 0&&l!=null&&m(t,["displayName"],l);const f=d(n,["customMetadata"]);if(t!==void 0&&f!=null){let _=f;Array.isArray(_)&&(_=_.map(x=>x)),m(t,["customMetadata"],_)}const h=d(n,["chunkingConfig"]);return t!==void 0&&h!=null&&m(t,["chunkingConfig"],h),o}function NN(n){const t={},o=d(n,["fileSearchStoreName"]);o!=null&&m(t,["_url","file_search_store_name"],o);const r=d(n,["config"]);return r!=null&&i0(r,t),t}function AN(n){const t={},o=d(n,["sdkHttpResponse"]);return o!=null&&m(t,["sdkHttpResponse"],o),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const MN="Content-Type",RN="X-Server-Timeout",IN="User-Agent",Df="x-goog-api-client",LN="1.33.0",DN=`google-genai-sdk/${LN}`,PN="v1beta1",kN="v1beta";class UN{constructor(t){var o,r;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const l={};this.clientOptions.vertexai?(l.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:PN,l.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(l.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:kN,l.baseUrl="https://generativelanguage.googleapis.com/"),l.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=l,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(l,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&r.push(t.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),o=new URL(t);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,o,r){const l=[this.getRequestUrlInternal(o)];return r&&l.push(this.getBaseResourcePath()),t!==""&&l.push(t),new URL(`${l.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let o=this.clientOptions.httpOptions;t.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t),l=this.constructUrl(t.path,o,r);if(t.queryParams)for(const[h,_]of Object.entries(t.queryParams))l.searchParams.append(h,String(_));let f={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else f.body=t.body;return f=await this.includeExtraHttpOptionsToRequestInit(f,o,l.toString(),t.abortSignal),this.unaryApiCall(l,f,t.httpMethod)}patchHttpOptions(t,o){const r=JSON.parse(JSON.stringify(t));for(const[l,f]of Object.entries(o))typeof f=="object"?r[l]=Object.assign(Object.assign({},r[l]),f):f!==void 0&&(r[l]=f);return r}async requestStream(t){let o=this.clientOptions.httpOptions;t.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t),l=this.constructUrl(t.path,o,r);(!l.searchParams.has("alt")||l.searchParams.get("alt")!=="sse")&&l.searchParams.set("alt","sse");let f={};return f.body=t.body,f=await this.includeExtraHttpOptionsToRequestInit(f,o,l.toString(),t.abortSignal),this.streamApiCall(l,f,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,o,r,l){if(o&&o.timeout||l){const f=new AbortController,h=f.signal;if(o.timeout&&(o==null?void 0:o.timeout)>0){const _=setTimeout(()=>f.abort(),o.timeout);_&&typeof _.unref=="function"&&_.unref()}l&&l.addEventListener("abort",()=>{f.abort()}),t.signal=h}return o&&o.extraBody!==null&&zN(t,o.extraBody),t.headers=await this.getHeadersInternal(o,r),t}async unaryApiCall(t,o,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},o),{method:r})).then(async l=>(await Vv(l),new Af(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}async streamApiCall(t,o,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},o),{method:r})).then(async l=>(await Vv(l),this.processStreamResponse(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}processStreamResponse(t){return $n(this,arguments,function*(){var r;const l=(r=t==null?void 0:t.body)===null||r===void 0?void 0:r.getReader(),f=new TextDecoder("utf-8");if(!l)throw new Error("Response body is empty");try{let h="";const _="data:",x=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:y,value:E}=yield Ne(l.read());if(y){if(h.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const b=f.decode(E,{stream:!0});try{const k=JSON.parse(b);if("error"in k){const D=JSON.parse(JSON.stringify(k.error)),I=D.status,H=D.code,X=`got status: ${I}. ${JSON.stringify(k)}`;if(H>=400&&H<600)throw new ic({message:X,status:H})}}catch(k){if(k.name==="ApiError")throw k}h+=b;let C=-1,R=0;for(;;){C=-1,R=0;for(const I of x){const H=h.indexOf(I);H!==-1&&(C===-1||H<C)&&(C=H,R=I.length)}if(C===-1)break;const k=h.substring(0,C);h=h.substring(C+R);const D=k.trim();if(D.startsWith(_)){const I=D.substring(_.length).trim();try{const H=new Response(I,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield Ne(new Af(H))}catch(H){throw new Error(`exception parsing stream chunk ${I}. ${H}`)}}}}}finally{l.releaseLock()}})}async apiCall(t,o){return fetch(t,o).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const t={},o=DN+" "+this.clientOptions.userAgentExtra;return t[IN]=o,t[Df]=o,t[MN]="application/json",t}async getHeadersInternal(t,o){const r=new Headers;if(t&&t.headers){for(const[l,f]of Object.entries(t.headers))r.append(l,f);t.timeout&&t.timeout>0&&r.append(RN,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,o),r}getFileName(t){var o;let r="";return typeof t=="string"&&(r=t.replace(/[/\\]+$/,""),r=(o=r.split(/[/\\]/).pop())!==null&&o!==void 0?o:""),r}async uploadFile(t,o){var r;const l={};o!=null&&(l.mimeType=o.mimeType,l.name=o.name,l.displayName=o.displayName),l.name&&!l.name.startsWith("files/")&&(l.name=`files/${l.name}`);const f=this.clientOptions.uploader,h=await f.stat(t);l.sizeBytes=String(h.size);const _=(r=o==null?void 0:o.mimeType)!==null&&r!==void 0?r:h.type;if(_===void 0||_==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");l.mimeType=_;const x={file:l},y=this.getFileName(t),E=de("upload/v1beta/files",x._url),b=await this.fetchUploadUrl(E,l.sizeBytes,l.mimeType,y,x,o==null?void 0:o.httpOptions);return f.upload(t,b,this)}async uploadFileToFileSearchStore(t,o,r){var l;const f=this.clientOptions.uploader,h=await f.stat(o),_=String(h.size),x=(l=r==null?void 0:r.mimeType)!==null&&l!==void 0?l:h.type;if(x===void 0||x==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const y=`upload/v1beta/${t}:uploadToFileSearchStore`,E=this.getFileName(o),b={};r!=null&&i0(r,b);const C=await this.fetchUploadUrl(y,_,x,E,b,r==null?void 0:r.httpOptions);return f.uploadToFileSearchStore(o,C,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,o,r,l,f,h){var _;let x={};h?x=h:x={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${o}`,"X-Goog-Upload-Header-Content-Type":`${r}`},l?{"X-Goog-Upload-File-Name":l}:{})};const y=await this.request({path:t,body:JSON.stringify(f),httpMethod:"POST",httpOptions:x});if(!y||!(y!=null&&y.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const E=(_=y==null?void 0:y.headers)===null||_===void 0?void 0:_["x-goog-upload-url"];if(E===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return E}}async function Vv(n){var t;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const o=n.status;let r;!((t=n.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?r=await n.json():r={error:{message:await n.text(),code:n.status,status:n.statusText}};const l=JSON.stringify(r);throw o>=400&&o<600?new ic({message:l,status:o}):new Error(l)}}function zN(n,t){if(!t||Object.keys(t).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof n.body=="string"&&n.body.length>0)try{const f=JSON.parse(n.body);if(typeof f=="object"&&f!==null&&!Array.isArray(f))o=f;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(f,h){const _=Object.assign({},f);for(const x in h)if(Object.prototype.hasOwnProperty.call(h,x)){const y=h[x],E=_[x];y&&typeof y=="object"&&!Array.isArray(y)&&E&&typeof E=="object"&&!Array.isArray(E)?_[x]=r(E,y):(E&&y&&typeof E!=typeof y&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${x}". Original type: ${typeof E}, New type: ${typeof y}. Overwriting.`),_[x]=y)}return _}const l=r(o,t);n.body=JSON.stringify(l)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const BN="mcp_used/unknown";let HN=!1;function o0(n){for(const t of n)if(ON(t)||typeof t=="object"&&"inputSchema"in t)return!0;return HN}function s0(n){var t;const o=(t=n[Df])!==null&&t!==void 0?t:"";n[Df]=(o+` ${BN}`).trimStart()}function ON(n){return n!==null&&typeof n=="object"&&n instanceof sh}function GN(n){return $n(this,arguments,function*(o,r=100){let l,f=0;for(;f<r;){const h=yield Ne(o.listTools({cursor:l}));for(const _ of h.tools)yield yield Ne(_),f++;if(!h.nextCursor)break;l=h.nextCursor}})}class sh{constructor(t=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=o}static create(t,o){return new sh(t,o)}async initialize(){var t,o,r,l;if(this.mcpTools.length>0)return;const f={},h=[];for(const E of this.mcpClients)try{for(var _=!0,x=(o=void 0,Wn(GN(E))),y;y=await x.next(),t=y.done,!t;_=!0){l=y.value,_=!1;const b=l;h.push(b);const C=b.name;if(f[C])throw new Error(`Duplicate function name ${C} found in MCP tools. Please ensure function names are unique.`);f[C]=E}}catch(b){o={error:b}}finally{try{!_&&!t&&(r=x.return)&&await r.call(x)}finally{if(o)throw o.error}}this.mcpTools=h,this.functionNameToMcpClient=f}async tool(){return await this.initialize(),_b(this.mcpTools,this.config)}async callTool(t){await this.initialize();const o=[];for(const r of t)if(r.name in this.functionNameToMcpClient){const l=this.functionNameToMcpClient[r.name];let f;this.config.timeout&&(f={timeout:this.config.timeout});const h=await l.callTool({name:r.name,arguments:r.args},void 0,f);o.push({functionResponse:{name:r.name,response:h.isError?{error:h}:h}})}return o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function VN(n,t,o){const r=new db;let l;o.data instanceof Blob?l=JSON.parse(await o.data.text()):l=JSON.parse(o.data),Object.assign(r,l),t(r)}class qN{constructor(t,o,r){this.apiClient=t,this.auth=o,this.webSocketFactory=r}async connect(t){var o,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const l=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion(),h=YN(this.apiClient.getDefaultHeaders()),_=this.apiClient.getApiKey(),x=`${l}/ws/google.ai.generativelanguage.${f}.GenerativeService.BidiGenerateMusic?key=${_}`;let y=()=>{};const E=new Promise(O=>{y=O}),b=t.callbacks,C=function(){y({})},R=this.apiClient,k={onopen:C,onmessage:O=>{VN(R,b.onmessage,O)},onerror:(o=b==null?void 0:b.onerror)!==null&&o!==void 0?o:function(O){},onclose:(r=b==null?void 0:b.onclose)!==null&&r!==void 0?r:function(O){}},D=this.webSocketFactory.create(x,ZN(h),k);D.connect(),await E;const X={setup:{model:Xe(this.apiClient,t.model)}};return D.send(JSON.stringify(X)),new FN(D,this.apiClient)}}class FN{constructor(t,o){this.conn=t,this.apiClient=o}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=g1(t);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const o=p1(t);this.conn.send(JSON.stringify(o))}sendPlaybackControl(t){const o={playbackControl:t};this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl(Ma.PLAY)}pause(){this.sendPlaybackControl(Ma.PAUSE)}stop(){this.sendPlaybackControl(Ma.STOP)}resetContext(){this.sendPlaybackControl(Ma.RESET_CONTEXT)}close(){this.conn.close()}}function ZN(n){const t={};return n.forEach((o,r)=>{t[r]=o}),t}function YN(n){const t=new Headers;for(const[o,r]of Object.entries(n))t.append(o,r);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const JN="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function jN(n,t,o){const r=new cb;let l;o.data instanceof Blob?l=await o.data.text():o.data instanceof ArrayBuffer?l=new TextDecoder().decode(o.data):l=o.data;const f=JSON.parse(l);if(n.isVertexAI()){const h=_1(f);Object.assign(r,h)}else Object.assign(r,f);t(r)}class KN{constructor(t,o,r){this.apiClient=t,this.auth=o,this.webSocketFactory=r,this.music=new qN(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var o,r,l,f,h,_;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const x=this.apiClient.getWebsocketBaseUrl(),y=this.apiClient.getApiVersion();let E;const b=this.apiClient.getHeaders();t.config&&t.config.tools&&o0(t.config.tools)&&s0(b);const C=WN(b);if(this.apiClient.isVertexAI())E=`${x}/ws/google.cloud.aiplatform.${y}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(C,E);else{const fe=this.apiClient.getApiKey();let Ee="BidiGenerateContent",be="key";fe!=null&&fe.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),y!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),Ee="BidiGenerateContentConstrained",be="access_token"),E=`${x}/ws/google.ai.generativelanguage.${y}.GenerativeService.${Ee}?${be}=${fe}`}let R=()=>{};const k=new Promise(fe=>{R=fe}),D=t.callbacks,I=function(){var fe;(fe=D==null?void 0:D.onopen)===null||fe===void 0||fe.call(D),R({})},H=this.apiClient,X={onopen:I,onmessage:fe=>{jN(H,D.onmessage,fe)},onerror:(o=D==null?void 0:D.onerror)!==null&&o!==void 0?o:function(fe){},onclose:(r=D==null?void 0:D.onclose)!==null&&r!==void 0?r:function(fe){}},O=this.webSocketFactory.create(E,$N(C),X);O.connect(),await k;let ie=Xe(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&ie.startsWith("publishers/")){const fe=this.apiClient.getProject(),Ee=this.apiClient.getLocation();ie=`projects/${fe}/locations/${Ee}/`+ie}let le={};this.apiClient.isVertexAI()&&((l=t.config)===null||l===void 0?void 0:l.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[Ju.AUDIO]}:t.config.responseModalities=[Ju.AUDIO]),!((f=t.config)===null||f===void 0)&&f.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const pe=(_=(h=t.config)===null||h===void 0?void 0:h.tools)!==null&&_!==void 0?_:[],oe=[];for(const fe of pe)if(this.isCallableTool(fe)){const Ee=fe;oe.push(await Ee.tool())}else oe.push(fe);oe.length>0&&(t.config.tools=oe);const Ae={model:ie,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?le=m1(this.apiClient,Ae):le=h1(this.apiClient,Ae),delete le.config,O.send(JSON.stringify(le)),new QN(O,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const XN={turnComplete:!0};class QN{constructor(t,o){this.conn=t,this.apiClient=o}tLiveClientContent(t,o){if(o.turns!==null&&o.turns!==void 0){let r=[];try{r=zn(o.turns),t.isVertexAI()||(r=r.map(l=>oc(l)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:r,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(t,o){let r=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?r=o.functionResponses:r=[o.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const f of r){if(typeof f!="object"||f===null||!("name"in f)||!("response"in f))throw new Error(`Could not parse function response, type '${typeof f}'.`);if(!t.isVertexAI()&&!("id"in f))throw new Error(JN)}return{toolResponse:{functionResponses:r}}}sendClientContent(t){t=Object.assign(Object.assign({},XN),t);const o=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(o))}sendRealtimeInput(t){let o={};this.apiClient.isVertexAI()?o={realtimeInput:y1(t)}:o={realtimeInput:v1(t)},this.conn.send(JSON.stringify(o))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function $N(n){const t={};return n.forEach((o,r)=>{t[r]=o}),t}function WN(n){const t=new Headers;for(const[o,r]of Object.entries(n))t.append(o,r);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qv=10;function Fv(n){var t,o,r;if(!((t=n==null?void 0:n.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let l=!1;for(const h of(o=n==null?void 0:n.tools)!==null&&o!==void 0?o:[])if(Da(h)){l=!0;break}if(!l)return!0;const f=(r=n==null?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return f&&(f<0||!Number.isInteger(f))||f==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",f),!0):!1}function Da(n){return"callTool"in n&&typeof n.callTool=="function"}function eA(n){var t,o,r;return(r=(o=(t=n.config)===null||t===void 0?void 0:t.tools)===null||o===void 0?void 0:o.some(l=>Da(l)))!==null&&r!==void 0?r:!1}function Zv(n){var t;const o=[];return!((t=n==null?void 0:n.config)===null||t===void 0)&&t.tools&&n.config.tools.forEach((r,l)=>{if(Da(r))return;const f=r;f.functionDeclarations&&f.functionDeclarations.length>0&&o.push(l)}),o}function Yv(n){var t;return!(!((t=n==null?void 0:n.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tA extends Xi{constructor(t){super(),this.apiClient=t,this.generateContent=async o=>{var r,l,f,h,_;const x=await this.processParamsMaybeAddMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!eA(o)||Fv(o.config))return await this.generateContentInternal(x);const y=Zv(o);if(y.length>0){const D=y.map(I=>`tools[${I}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${D}.`)}let E,b;const C=zn(x.contents),R=(f=(l=(r=x.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls)!==null&&f!==void 0?f:qv;let k=0;for(;k<R&&(E=await this.generateContentInternal(x),!(!E.functionCalls||E.functionCalls.length===0));){const D=E.candidates[0].content,I=[];for(const H of(_=(h=o.config)===null||h===void 0?void 0:h.tools)!==null&&_!==void 0?_:[])if(Da(H)){const O=await H.callTool(E.functionCalls);I.push(...O)}k++,b={role:"user",parts:I},x.contents=zn(x.contents),x.contents.push(D),x.contents.push(b),Yv(x.config)&&(C.push(D),C.push(b))}return Yv(x.config)&&(E.automaticFunctionCallingHistory=C),E},this.generateContentStream=async o=>{var r,l,f,h,_;if(this.maybeMoveToResponseJsonSchem(o),Fv(o.config)){const b=await this.processParamsMaybeAddMcpUsage(o);return await this.generateContentStreamInternal(b)}const x=Zv(o);if(x.length>0){const b=x.map(C=>`tools[${C}]`).join(", ");throw new Error(`Incompatible tools found at ${b}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const y=(f=(l=(r=o==null?void 0:o.config)===null||r===void 0?void 0:r.toolConfig)===null||l===void 0?void 0:l.functionCallingConfig)===null||f===void 0?void 0:f.streamFunctionCallArguments,E=(_=(h=o==null?void 0:o.config)===null||h===void 0?void 0:h.automaticFunctionCalling)===null||_===void 0?void 0:_.disable;if(y&&!E)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(r=>{var l;let f;const h=[];if(r!=null&&r.generatedImages)for(const x of r.generatedImages)x&&(x!=null&&x.safetyAttributes)&&((l=x==null?void 0:x.safetyAttributes)===null||l===void 0?void 0:l.contentType)==="Positive Prompt"?f=x==null?void 0:x.safetyAttributes:h.push(x);let _;return f?_={generatedImages:h,positivePromptSafetyAttributes:f,sdkHttpResponse:r.sdkHttpResponse}:_={generatedImages:h,sdkHttpResponse:r.sdkHttpResponse},_}),this.list=async o=>{var r;const h={config:Object.assign(Object.assign({},{queryBase:!0}),o==null?void 0:o.config)};if(this.apiClient.isVertexAI()&&!h.config.queryBase){if(!((r=h.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");h.config.filter="labels.tune-type:*"}return new Ps(Ki.PAGED_ITEM_MODELS,_=>this.listInternal(_),await this.listInternal(h),h)},this.editImage=async o=>{const r={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(r.referenceImages=o.referenceImages.map(l=>l.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async o=>{let r={numberOfImages:1,mode:"upscale"};o.config&&(r=Object.assign(Object.assign({},r),o.config));const l={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:r};return await this.upscaleImageInternal(l)},this.generateVideos=async o=>{var r,l,f,h,_,x;if((o.prompt||o.image||o.video)&&o.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=o.video)===null||r===void 0)&&r.uri&&(!((l=o.video)===null||l===void 0)&&l.videoBytes)?o.video={uri:o.video.uri,mimeType:o.video.mimeType}:!((h=(f=o.source)===null||f===void 0?void 0:f.video)===null||h===void 0)&&h.uri&&(!((x=(_=o.source)===null||_===void 0?void 0:_.video)===null||x===void 0)&&x.videoBytes)&&(o.source.video={uri:o.source.video.uri,mimeType:o.source.video.mimeType})),await this.generateVideosInternal(o)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var o,r,l;const f=(o=t.config)===null||o===void 0?void 0:o.tools;if(!f)return t;const h=await Promise.all(f.map(async x=>Da(x)?await x.tool():x)),_={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:h})};if(_.config.tools=h,t.config&&t.config.tools&&o0(t.config.tools)){const x=(l=(r=t.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&l!==void 0?l:{};let y=Object.assign({},x);Object.keys(y).length===0&&(y=this.apiClient.getDefaultHeaders()),s0(y),_.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:y})}return _}async initAfcToolsMap(t){var o,r,l;const f=new Map;for(const h of(r=(o=t.config)===null||o===void 0?void 0:o.tools)!==null&&r!==void 0?r:[])if(Da(h)){const _=h,x=await _.tool();for(const y of(l=x.functionDeclarations)!==null&&l!==void 0?l:[]){if(!y.name)throw new Error("Function declaration name is required.");if(f.has(y.name))throw new Error(`Duplicate tool declaration name: ${y.name}`);f.set(y.name,_)}}return f}async processAfcStream(t){var o,r,l;const f=(l=(r=(o=t.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&l!==void 0?l:qv;let h=!1,_=0;const x=await this.initAfcToolsMap(t);return(function(y,E,b){return $n(this,arguments,function*(){for(var C,R,k,D,I,H;_<f;){h&&(_++,h=!1);const le=yield Ne(y.processParamsMaybeAddMcpUsage(b)),pe=yield Ne(y.generateContentStreamInternal(le)),oe=[],Ae=[];try{for(var X=!0,O=(R=void 0,Wn(pe)),ie;ie=yield Ne(O.next()),C=ie.done,!C;X=!0){D=ie.value,X=!1;const fe=D;if(yield yield Ne(fe),fe.candidates&&(!((I=fe.candidates[0])===null||I===void 0)&&I.content)){Ae.push(fe.candidates[0].content);for(const Ee of(H=fe.candidates[0].content.parts)!==null&&H!==void 0?H:[])if(_<f&&Ee.functionCall){if(!Ee.functionCall.name)throw new Error("Function call name was not returned by the model.");if(E.has(Ee.functionCall.name)){const be=yield Ne(E.get(Ee.functionCall.name).callTool([Ee.functionCall]));oe.push(...be)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${E.keys()}, mising tool: ${Ee.functionCall.name}`)}}}}catch(fe){R={error:fe}}finally{try{!X&&!C&&(k=O.return)&&(yield Ne(k.call(O)))}finally{if(R)throw R.error}}if(oe.length>0){h=!0;const fe=new Qr;fe.candidates=[{content:{role:"user",parts:oe}}],yield yield Ne(fe);const Ee=[];Ee.push(...Ae),Ee.push({role:"user",parts:oe});const be=zn(b.contents).concat(Ee);b.contents=be}else break}})})(this,x,t)}async generateContentInternal(t){var o,r,l,f;let h,_="",x={};if(this.apiClient.isVertexAI()){const y=Hv(this.apiClient,t);return _=de("{model}:generateContent",y._url),x=y._query,delete y._url,delete y._query,h=this.apiClient.request({path:_,queryParams:x,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(E=>E.json().then(b=>{const C=b;return C.sdkHttpResponse={headers:E.headers},C})),h.then(E=>{const b=Gv(E),C=new Qr;return Object.assign(C,b),C})}else{const y=Bv(this.apiClient,t);return _=de("{model}:generateContent",y._url),x=y._query,delete y._url,delete y._query,h=this.apiClient.request({path:_,queryParams:x,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(E=>E.json().then(b=>{const C=b;return C.sdkHttpResponse={headers:E.headers},C})),h.then(E=>{const b=Ov(E),C=new Qr;return Object.assign(C,b),C})}}async generateContentStreamInternal(t){var o,r,l,f;let h,_="",x={};if(this.apiClient.isVertexAI()){const y=Hv(this.apiClient,t);return _=de("{model}:streamGenerateContent?alt=sse",y._url),x=y._query,delete y._url,delete y._query,h=this.apiClient.requestStream({path:_,queryParams:x,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}),h.then(function(b){return $n(this,arguments,function*(){var C,R,k,D;try{for(var I=!0,H=Wn(b),X;X=yield Ne(H.next()),C=X.done,!C;I=!0){D=X.value,I=!1;const O=D,ie=Gv(yield Ne(O.json()));ie.sdkHttpResponse={headers:O.headers};const le=new Qr;Object.assign(le,ie),yield yield Ne(le)}}catch(O){R={error:O}}finally{try{!I&&!C&&(k=H.return)&&(yield Ne(k.call(H)))}finally{if(R)throw R.error}}})})}else{const y=Bv(this.apiClient,t);return _=de("{model}:streamGenerateContent?alt=sse",y._url),x=y._query,delete y._url,delete y._query,h=this.apiClient.requestStream({path:_,queryParams:x,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}),h.then(function(b){return $n(this,arguments,function*(){var C,R,k,D;try{for(var I=!0,H=Wn(b),X;X=yield Ne(H.next()),C=X.done,!C;I=!0){D=X.value,I=!1;const O=D,ie=Ov(yield Ne(O.json()));ie.sdkHttpResponse={headers:O.headers};const le=new Qr;Object.assign(le,ie),yield yield Ne(le)}}catch(O){R={error:O}}finally{try{!I&&!C&&(k=H.return)&&(yield Ne(k.call(H)))}finally{if(R)throw R.error}}})})}}async embedContent(t){var o,r,l,f;let h,_="",x={};if(this.apiClient.isVertexAI()){const y=K1(this.apiClient,t);return _=de("{model}:predict",y._url),x=y._query,delete y._url,delete y._query,h=this.apiClient.request({path:_,queryParams:x,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(E=>E.json().then(b=>{const C=b;return C.sdkHttpResponse={headers:E.headers},C})),h.then(E=>{const b=Q1(E),C=new Sv;return Object.assign(C,b),C})}else{const y=j1(this.apiClient,t);return _=de("{model}:batchEmbedContents",y._url),x=y._query,delete y._url,delete y._query,h=this.apiClient.request({path:_,queryParams:x,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(E=>E.json().then(b=>{const C=b;return C.sdkHttpResponse={headers:E.headers},C})),h.then(E=>{const b=X1(E),C=new Sv;return Object.assign(C,b),C})}}async generateImagesInternal(t){var o,r,l,f;let h,_="",x={};if(this.apiClient.isVertexAI()){const y=lw(this.apiClient,t);return _=de("{model}:predict",y._url),x=y._query,delete y._url,delete y._query,h=this.apiClient.request({path:_,queryParams:x,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(E=>E.json().then(b=>{const C=b;return C.sdkHttpResponse={headers:E.headers},C})),h.then(E=>{const b=cw(E),C=new Tv;return Object.assign(C,b),C})}else{const y=rw(this.apiClient,t);return _=de("{model}:predict",y._url),x=y._query,delete y._url,delete y._query,h=this.apiClient.request({path:_,queryParams:x,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(E=>E.json().then(b=>{const C=b;return C.sdkHttpResponse={headers:E.headers},C})),h.then(E=>{const b=uw(E),C=new Tv;return Object.assign(C,b),C})}}async editImageInternal(t){var o,r;let l,f="",h={};if(this.apiClient.isVertexAI()){const _=F1(this.apiClient,t);return f=de("{model}:predict",_._url),h=_._query,delete _._url,delete _._query,l=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(_),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json().then(y=>{const E=y;return E.sdkHttpResponse={headers:x.headers},E})),l.then(x=>{const y=Z1(x),E=new WE;return Object.assign(E,y),E})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var o,r;let l,f="",h={};if(this.apiClient.isVertexAI()){const _=lN(this.apiClient,t);return f=de("{model}:predict",_._url),h=_._query,delete _._url,delete _._query,l=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(_),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json().then(y=>{const E=y;return E.sdkHttpResponse={headers:x.headers},E})),l.then(x=>{const y=uN(x),E=new eb;return Object.assign(E,y),E})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var o,r;let l,f="",h={};if(this.apiClient.isVertexAI()){const _=qw(this.apiClient,t);return f=de("{model}:predict",_._url),h=_._query,delete _._url,delete _._query,l=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(_),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),l.then(x=>{const y=Fw(x),E=new tb;return Object.assign(E,y),E})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var o,r;let l,f="",h={};if(this.apiClient.isVertexAI()){const _=Xw(this.apiClient,t);return f=de("{model}:predict",_._url),h=_._query,delete _._url,delete _._query,l=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(_),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),l.then(x=>{const y=Qw(x),E=new nb;return Object.assign(E,y),E})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var o,r,l,f;let h,_="",x={};if(this.apiClient.isVertexAI()){const y=Nw(this.apiClient,t);return _=de("{name}",y._url),x=y._query,delete y._url,delete y._query,h=this.apiClient.request({path:_,queryParams:x,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(E=>E.json()),h.then(E=>Lf(E))}else{const y=ww(this.apiClient,t);return _=de("{name}",y._url),x=y._query,delete y._url,delete y._query,h=this.apiClient.request({path:_,queryParams:x,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(E=>E.json()),h.then(E=>If(E))}}async listInternal(t){var o,r,l,f;let h,_="",x={};if(this.apiClient.isVertexAI()){const y=Uw(this.apiClient,t);return _=de("{models_url}",y._url),x=y._query,delete y._url,delete y._query,h=this.apiClient.request({path:_,queryParams:x,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(E=>E.json().then(b=>{const C=b;return C.sdkHttpResponse={headers:E.headers},C})),h.then(E=>{const b=Bw(E),C=new Ev;return Object.assign(C,b),C})}else{const y=kw(this.apiClient,t);return _=de("{models_url}",y._url),x=y._query,delete y._url,delete y._query,h=this.apiClient.request({path:_,queryParams:x,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(E=>E.json().then(b=>{const C=b;return C.sdkHttpResponse={headers:E.headers},C})),h.then(E=>{const b=zw(E),C=new Ev;return Object.assign(C,b),C})}}async update(t){var o,r,l,f;let h,_="",x={};if(this.apiClient.isVertexAI()){const y=aN(this.apiClient,t);return _=de("{model}",y._url),x=y._query,delete y._url,delete y._query,h=this.apiClient.request({path:_,queryParams:x,body:JSON.stringify(y),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(E=>E.json()),h.then(E=>Lf(E))}else{const y=sN(this.apiClient,t);return _=de("{name}",y._url),x=y._query,delete y._url,delete y._query,h=this.apiClient.request({path:_,queryParams:x,body:JSON.stringify(y),httpMethod:"PATCH",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(E=>E.json()),h.then(E=>If(E))}}async delete(t){var o,r,l,f;let h,_="",x={};if(this.apiClient.isVertexAI()){const y=O1(this.apiClient,t);return _=de("{name}",y._url),x=y._query,delete y._url,delete y._query,h=this.apiClient.request({path:_,queryParams:x,body:JSON.stringify(y),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(E=>E.json().then(b=>{const C=b;return C.sdkHttpResponse={headers:E.headers},C})),h.then(E=>{const b=V1(E),C=new bv;return Object.assign(C,b),C})}else{const y=H1(this.apiClient,t);return _=de("{name}",y._url),x=y._query,delete y._url,delete y._query,h=this.apiClient.request({path:_,queryParams:x,body:JSON.stringify(y),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(E=>E.json().then(b=>{const C=b;return C.sdkHttpResponse={headers:E.headers},C})),h.then(E=>{const b=G1(E),C=new bv;return Object.assign(C,b),C})}}async countTokens(t){var o,r,l,f;let h,_="",x={};if(this.apiClient.isVertexAI()){const y=U1(this.apiClient,t);return _=de("{model}:countTokens",y._url),x=y._query,delete y._url,delete y._query,h=this.apiClient.request({path:_,queryParams:x,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(E=>E.json().then(b=>{const C=b;return C.sdkHttpResponse={headers:E.headers},C})),h.then(E=>{const b=B1(E),C=new Cv;return Object.assign(C,b),C})}else{const y=k1(this.apiClient,t);return _=de("{model}:countTokens",y._url),x=y._query,delete y._url,delete y._query,h=this.apiClient.request({path:_,queryParams:x,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(E=>E.json().then(b=>{const C=b;return C.sdkHttpResponse={headers:E.headers},C})),h.then(E=>{const b=z1(E),C=new Cv;return Object.assign(C,b),C})}}async computeTokens(t){var o,r;let l,f="",h={};if(this.apiClient.isVertexAI()){const _=A1(this.apiClient,t);return f=de("{model}:computeTokens",_._url),h=_._query,delete _._url,delete _._query,l=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(_),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json().then(y=>{const E=y;return E.sdkHttpResponse={headers:x.headers},E})),l.then(x=>{const y=M1(x),E=new ib;return Object.assign(E,y),E})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var o,r,l,f;let h,_="",x={};if(this.apiClient.isVertexAI()){const y=gw(this.apiClient,t);return _=de("{model}:predictLongRunning",y._url),x=y._query,delete y._url,delete y._query,h=this.apiClient.request({path:_,queryParams:x,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(E=>E.json()),h.then(E=>{const b=mw(E),C=new ju;return Object.assign(C,b),C})}else{const y=pw(this.apiClient,t);return _=de("{model}:predictLongRunning",y._url),x=y._query,delete y._url,delete y._query,h=this.apiClient.request({path:_,queryParams:x,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(E=>E.json()),h.then(E=>{const b=hw(E),C=new ju;return Object.assign(C,b),C})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nA extends Xi{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const o=t.operation,r=t.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const l=o.name.split("/operations/")[0];let f;r&&"httpOptions"in r&&(f=r.httpOptions);const h=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:l,config:{httpOptions:f}});return o._fromAPIResponse({apiResponse:h,_isVertexAI:!0})}else{const l=await this.getVideosOperationInternal({operationName:o.name,config:r});return o._fromAPIResponse({apiResponse:l,_isVertexAI:!1})}}async get(t){const o=t.operation,r=t.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const l=o.name.split("/operations/")[0];let f;r&&"httpOptions"in r&&(f=r.httpOptions);const h=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:l,config:{httpOptions:f}});return o._fromAPIResponse({apiResponse:h,_isVertexAI:!0})}else{const l=await this.getVideosOperationInternal({operationName:o.name,config:r});return o._fromAPIResponse({apiResponse:l,_isVertexAI:!1})}}async getVideosOperationInternal(t){var o,r,l,f;let h,_="",x={};if(this.apiClient.isVertexAI()){const y=JE(t);return _=de("{operationName}",y._url),x=y._query,delete y._url,delete y._query,h=this.apiClient.request({path:_,queryParams:x,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(E=>E.json()),h}else{const y=YE(t);return _=de("{operationName}",y._url),x=y._query,delete y._url,delete y._query,h=this.apiClient.request({path:_,queryParams:x,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(E=>E.json()),h}}async fetchPredictVideosOperationInternal(t){var o,r;let l,f="",h={};if(this.apiClient.isVertexAI()){const _=HE(t);return f=de("{resourceName}:fetchPredictOperation",_._url),h=_._query,delete _._url,delete _._query,l=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(_),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),l}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function iA(n){const t={},o=d(n,["data"]);if(o!=null&&m(t,["data"],o),d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(n,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function oA(n){const t={},o=d(n,["parts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(f=>hA(f))),m(t,["parts"],l)}const r=d(n,["role"]);return r!=null&&m(t,["role"],r),t}function sA(n,t,o){const r={},l=d(t,["expireTime"]);o!==void 0&&l!=null&&m(o,["expireTime"],l);const f=d(t,["newSessionExpireTime"]);o!==void 0&&f!=null&&m(o,["newSessionExpireTime"],f);const h=d(t,["uses"]);o!==void 0&&h!=null&&m(o,["uses"],h);const _=d(t,["liveConnectConstraints"]);o!==void 0&&_!=null&&m(o,["bidiGenerateContentSetup"],fA(n,_));const x=d(t,["lockAdditionalFields"]);return o!==void 0&&x!=null&&m(o,["fieldMask"],x),r}function aA(n,t){const o={},r=d(t,["config"]);return r!=null&&m(o,["config"],sA(n,r,o)),o}function rA(n){const t={};if(d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=d(n,["fileUri"]);o!=null&&m(t,["fileUri"],o);const r=d(n,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function lA(n){const t={},o=d(n,["id"]);o!=null&&m(t,["id"],o);const r=d(n,["args"]);r!=null&&m(t,["args"],r);const l=d(n,["name"]);if(l!=null&&m(t,["name"],l),d(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function uA(n){const t={};if(d(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=d(n,["enableWidget"]);return o!=null&&m(t,["enableWidget"],o),t}function cA(n){const t={};if(d(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=d(n,["timeRangeFilter"]);return o!=null&&m(t,["timeRangeFilter"],o),t}function dA(n,t){const o={},r=d(n,["generationConfig"]);t!==void 0&&r!=null&&m(t,["setup","generationConfig"],r);const l=d(n,["responseModalities"]);t!==void 0&&l!=null&&m(t,["setup","generationConfig","responseModalities"],l);const f=d(n,["temperature"]);t!==void 0&&f!=null&&m(t,["setup","generationConfig","temperature"],f);const h=d(n,["topP"]);t!==void 0&&h!=null&&m(t,["setup","generationConfig","topP"],h);const _=d(n,["topK"]);t!==void 0&&_!=null&&m(t,["setup","generationConfig","topK"],_);const x=d(n,["maxOutputTokens"]);t!==void 0&&x!=null&&m(t,["setup","generationConfig","maxOutputTokens"],x);const y=d(n,["mediaResolution"]);t!==void 0&&y!=null&&m(t,["setup","generationConfig","mediaResolution"],y);const E=d(n,["seed"]);t!==void 0&&E!=null&&m(t,["setup","generationConfig","seed"],E);const b=d(n,["speechConfig"]);t!==void 0&&b!=null&&m(t,["setup","generationConfig","speechConfig"],oh(b));const C=d(n,["thinkingConfig"]);t!==void 0&&C!=null&&m(t,["setup","generationConfig","thinkingConfig"],C);const R=d(n,["enableAffectiveDialog"]);t!==void 0&&R!=null&&m(t,["setup","generationConfig","enableAffectiveDialog"],R);const k=d(n,["systemInstruction"]);t!==void 0&&k!=null&&m(t,["setup","systemInstruction"],oA(Kt(k)));const D=d(n,["tools"]);if(t!==void 0&&D!=null){let pe=Oa(D);Array.isArray(pe)&&(pe=pe.map(oe=>pA(Ha(oe)))),m(t,["setup","tools"],pe)}const I=d(n,["sessionResumption"]);t!==void 0&&I!=null&&m(t,["setup","sessionResumption"],mA(I));const H=d(n,["inputAudioTranscription"]);t!==void 0&&H!=null&&m(t,["setup","inputAudioTranscription"],H);const X=d(n,["outputAudioTranscription"]);t!==void 0&&X!=null&&m(t,["setup","outputAudioTranscription"],X);const O=d(n,["realtimeInputConfig"]);t!==void 0&&O!=null&&m(t,["setup","realtimeInputConfig"],O);const ie=d(n,["contextWindowCompression"]);t!==void 0&&ie!=null&&m(t,["setup","contextWindowCompression"],ie);const le=d(n,["proactivity"]);if(t!==void 0&&le!=null&&m(t,["setup","proactivity"],le),d(n,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function fA(n,t){const o={},r=d(t,["model"]);r!=null&&m(o,["setup","model"],Xe(n,r));const l=d(t,["config"]);return l!=null&&m(o,["config"],dA(l,o)),o}function hA(n){const t={},o=d(n,["mediaResolution"]);o!=null&&m(t,["mediaResolution"],o);const r=d(n,["codeExecutionResult"]);r!=null&&m(t,["codeExecutionResult"],r);const l=d(n,["executableCode"]);l!=null&&m(t,["executableCode"],l);const f=d(n,["fileData"]);f!=null&&m(t,["fileData"],rA(f));const h=d(n,["functionCall"]);h!=null&&m(t,["functionCall"],lA(h));const _=d(n,["functionResponse"]);_!=null&&m(t,["functionResponse"],_);const x=d(n,["inlineData"]);x!=null&&m(t,["inlineData"],iA(x));const y=d(n,["text"]);y!=null&&m(t,["text"],y);const E=d(n,["thought"]);E!=null&&m(t,["thought"],E);const b=d(n,["thoughtSignature"]);b!=null&&m(t,["thoughtSignature"],b);const C=d(n,["videoMetadata"]);return C!=null&&m(t,["videoMetadata"],C),t}function mA(n){const t={},o=d(n,["handle"]);if(o!=null&&m(t,["handle"],o),d(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function pA(n){const t={},o=d(n,["functionDeclarations"]);if(o!=null){let E=o;Array.isArray(E)&&(E=E.map(b=>b)),m(t,["functionDeclarations"],E)}if(d(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(n,["googleSearchRetrieval"]);r!=null&&m(t,["googleSearchRetrieval"],r);const l=d(n,["computerUse"]);l!=null&&m(t,["computerUse"],l);const f=d(n,["fileSearch"]);f!=null&&m(t,["fileSearch"],f);const h=d(n,["codeExecution"]);if(h!=null&&m(t,["codeExecution"],h),d(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const _=d(n,["googleMaps"]);_!=null&&m(t,["googleMaps"],uA(_));const x=d(n,["googleSearch"]);x!=null&&m(t,["googleSearch"],cA(x));const y=d(n,["urlContext"]);return y!=null&&m(t,["urlContext"],y),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gA(n){const t=[];for(const o in n)if(Object.prototype.hasOwnProperty.call(n,o)){const r=n[o];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const l=Object.keys(r).map(f=>`${o}.${f}`);t.push(...l)}else t.push(o)}return t.join(",")}function vA(n,t){let o=null;const r=n.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const f=r.setup;typeof f=="object"&&f!==null?(n.bidiGenerateContentSetup=f,o=f):delete n.bidiGenerateContentSetup}else r!==void 0&&delete n.bidiGenerateContentSetup;const l=n.fieldMask;if(o){const f=gA(o);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)f?n.fieldMask=f:delete n.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&l!==null&&Array.isArray(l)&&l.length>0){const h=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let _=[];l.length>0&&(_=l.map(y=>h.includes(y)?`generationConfig.${y}`:y));const x=[];f&&x.push(f),_.length>0&&x.push(..._),x.length>0?n.fieldMask=x.join(","):delete n.fieldMask}else delete n.fieldMask}else l!==null&&Array.isArray(l)&&l.length>0?n.fieldMask=l.join(","):delete n.fieldMask;return n}class yA extends Xi{constructor(t){super(),this.apiClient=t}async create(t){var o,r;let l,f="",h={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const _=aA(this.apiClient,t);f=de("auth_tokens",_._url),h=_._query,delete _.config,delete _._url,delete _._query;const x=vA(_,t.config);return l=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),l.then(y=>y)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _A(n,t){const o={},r=d(n,["force"]);return t!==void 0&&r!=null&&m(t,["_query","force"],r),o}function xA(n){const t={},o=d(n,["name"]);o!=null&&m(t,["_url","name"],o);const r=d(n,["config"]);return r!=null&&_A(r,t),t}function SA(n){const t={},o=d(n,["name"]);return o!=null&&m(t,["_url","name"],o),t}function TA(n,t){const o={},r=d(n,["pageSize"]);t!==void 0&&r!=null&&m(t,["_query","pageSize"],r);const l=d(n,["pageToken"]);return t!==void 0&&l!=null&&m(t,["_query","pageToken"],l),o}function EA(n){const t={},o=d(n,["parent"]);o!=null&&m(t,["_url","parent"],o);const r=d(n,["config"]);return r!=null&&TA(r,t),t}function bA(n){const t={},o=d(n,["sdkHttpResponse"]);o!=null&&m(t,["sdkHttpResponse"],o);const r=d(n,["nextPageToken"]);r!=null&&m(t,["nextPageToken"],r);const l=d(n,["documents"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(h=>h)),m(t,["documents"],f)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class CA extends Xi{constructor(t){super(),this.apiClient=t,this.list=async o=>new Ps(Ki.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:o.parent,config:r.config}),await this.listInternal(o),o)}async get(t){var o,r;let l,f="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const _=SA(t);return f=de("{name}",_._url),h=_._query,delete _._url,delete _._query,l=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(_),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),l.then(x=>x)}}async delete(t){var o,r;let l="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=xA(t);l=de("{name}",h._url),f=h._query,delete h._url,delete h._query,await this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(t){var o,r;let l,f="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const _=EA(t);return f=de("{parent}/documents",_._url),h=_._query,delete _._url,delete _._query,l=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(_),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),l.then(x=>{const y=bA(x),E=new ob;return Object.assign(E,y),E})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wA extends Xi{constructor(t,o=new CA(t)){super(),this.apiClient=t,this.documents=o,this.list=async(r={})=>new Ps(Ki.PAGED_ITEM_FILE_SEARCH_STORES,l=>this.listInternal(l),await this.listInternal(r),r)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var o,r;let l,f="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const _=gN(t);return f=de("fileSearchStores",_._url),h=_._query,delete _._url,delete _._query,l=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(_),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),l.then(x=>x)}}async get(t){var o,r;let l,f="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const _=_N(t);return f=de("{name}",_._url),h=_._query,delete _._url,delete _._query,l=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(_),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),l.then(x=>x)}}async delete(t){var o,r;let l="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=yN(t);l=de("{name}",h._url),f=h._query,delete h._url,delete h._query,await this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(t){var o,r;let l,f="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const _=CN(t);return f=de("fileSearchStores",_._url),h=_._query,delete _._url,delete _._query,l=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(_),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),l.then(x=>{const y=wN(x),E=new sb;return Object.assign(E,y),E})}}async uploadToFileSearchStoreInternal(t){var o,r;let l,f="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const _=NN(t);return f=de("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",_._url),h=_._query,delete _._url,delete _._query,l=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(_),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),l.then(x=>{const y=AN(x),E=new ab;return Object.assign(E,y),E})}}async importFile(t){var o,r;let l,f="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const _=TN(t);return f=de("{file_search_store_name}:importFile",_._url),h=_._query,delete _._url,delete _._query,l=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(_),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),l.then(x=>{const y=SN(x),E=new Wf;return Object.assign(E,y),E})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let a0=function(){const{crypto:n}=globalThis;if(n!=null&&n.randomUUID)return a0=n.randomUUID.bind(n),n.randomUUID();const t=new Uint8Array(1),o=n?()=>n.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^o()&15>>+r/4).toString(16))};const NA=()=>a0();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Pf(n){return typeof n=="object"&&n!==null&&("name"in n&&n.name==="AbortError"||"message"in n&&String(n.message).includes("FetchRequestCanceledException"))}const kf=n=>{if(n instanceof Error)return n;if(typeof n=="object"&&n!==null){try{if(Object.prototype.toString.call(n)==="[object Error]"){const t=new Error(n.message,n.cause?{cause:n.cause}:{});return n.stack&&(t.stack=n.stack),n.cause&&!t.cause&&(t.cause=n.cause),n.name&&(t.name=n.name),t}}catch{}try{return new Error(JSON.stringify(n))}catch{}}return new Error(n)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Bn extends Error{}class nn extends Bn{constructor(t,o,r,l){super(`${nn.makeMessage(t,o,r)}`),this.status=t,this.headers=l,this.error=o}static makeMessage(t,o,r){const l=o!=null&&o.message?typeof o.message=="string"?o.message:JSON.stringify(o.message):o?JSON.stringify(o):r;return t&&l?`${t} ${l}`:t?`${t} status code (no body)`:l||"(no status code or body)"}static generate(t,o,r,l){if(!t||!l)return new rc({message:r,cause:kf(o)});const f=o;return t===400?new l0(t,f,r,l):t===401?new u0(t,f,r,l):t===403?new c0(t,f,r,l):t===404?new d0(t,f,r,l):t===409?new f0(t,f,r,l):t===422?new h0(t,f,r,l):t===429?new m0(t,f,r,l):t>=500?new p0(t,f,r,l):new nn(t,f,r,l)}}class Uf extends nn{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class rc extends nn{constructor({message:t,cause:o}){super(void 0,void 0,t||"Connection error.",void 0),o&&(this.cause=o)}}class r0 extends rc{constructor({message:t}={}){super({message:t??"Request timed out."})}}class l0 extends nn{}class u0 extends nn{}class c0 extends nn{}class d0 extends nn{}class f0 extends nn{}class h0 extends nn{}class m0 extends nn{}class p0 extends nn{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const AA=/^[a-z][a-z0-9+.-]*:/i,MA=n=>AA.test(n);let zf=n=>(zf=Array.isArray,zf(n));const RA=zf;let IA=RA;const Jv=IA;function LA(n){if(!n)return!0;for(const t in n)return!1;return!0}function DA(n,t){return Object.prototype.hasOwnProperty.call(n,t)}const PA=(n,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new Bn(`${n} must be an integer`);if(t<0)throw new Bn(`${n} must be a positive integer`);return t},kA=n=>{try{return JSON.parse(n)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const UA=n=>new Promise(t=>setTimeout(t,n));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Aa="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zA(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const BA=()=>{var n,t,o,r,l;const f=zA();if(f==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Aa,"X-Stainless-OS":Kv(Deno.build.os),"X-Stainless-Arch":jv(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(n=Deno.version)===null||n===void 0?void 0:n.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Aa,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(f==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Aa,"X-Stainless-OS":Kv((o=globalThis.process.platform)!==null&&o!==void 0?o:"unknown"),"X-Stainless-Arch":jv((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(l=globalThis.process.version)!==null&&l!==void 0?l:"unknown"};const h=HA();return h?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Aa,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${h.browser}`,"X-Stainless-Runtime-Version":h.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Aa,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function HA(){if(typeof navigator>"u"||!navigator)return null;const n=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:o}of n){const r=o.exec(navigator.userAgent);if(r){const l=r[1]||0,f=r[2]||0,h=r[3]||0;return{browser:t,version:`${l}.${f}.${h}`}}}return null}const jv=n=>n==="x32"?"x32":n==="x86_64"||n==="x64"?"x64":n==="arm"?"arm":n==="aarch64"||n==="arm64"?"arm64":n?`other:${n}`:"unknown",Kv=n=>(n=n.toLowerCase(),n.includes("ios")?"iOS":n==="android"?"Android":n==="darwin"?"MacOS":n==="win32"?"Windows":n==="freebsd"?"FreeBSD":n==="openbsd"?"OpenBSD":n==="linux"?"Linux":n?`Other:${n}`:"Unknown");let Uu;const OA=()=>Uu??(Uu=BA());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function GA(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function g0(...n){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...n)}function VA(n){let t=Symbol.asyncIterator in n?n[Symbol.asyncIterator]():n[Symbol.iterator]();return g0({start(){},async pull(o){const{done:r,value:l}=await t.next();r?o.close():o.enqueue(l)},async cancel(){var o;await((o=t.return)===null||o===void 0?void 0:o.call(t))}})}function v0(n){if(n[Symbol.asyncIterator])return n;const t=n.getReader();return{async next(){try{const o=await t.read();return o!=null&&o.done&&t.releaseLock(),o}catch(o){throw t.releaseLock(),o}},async return(){const o=t.cancel();return t.releaseLock(),await o,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function qA(n){var t,o;if(n===null||typeof n!="object")return;if(n[Symbol.asyncIterator]){await((o=(t=n[Symbol.asyncIterator]()).return)===null||o===void 0?void 0:o.call(t));return}const r=n.getReader(),l=r.cancel();r.releaseLock(),await l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const FA=({headers:n,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const y0=()=>{var n;if(typeof File>"u"){const{process:t}=globalThis,o=typeof((n=t==null?void 0:t.versions)===null||n===void 0?void 0:n.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(o?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function vf(n,t,o){return y0(),new File(n,t??"unknown_file",o)}function ZA(n){return(typeof n=="object"&&n!==null&&("name"in n&&n.name&&String(n.name)||"url"in n&&n.url&&String(n.url)||"filename"in n&&n.filename&&String(n.filename)||"path"in n&&n.path&&String(n.path))||"").split(/[\\/]/).pop()||void 0}const YA=n=>n!=null&&typeof n=="object"&&typeof n[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _0=n=>n!=null&&typeof n=="object"&&typeof n.size=="number"&&typeof n.type=="string"&&typeof n.text=="function"&&typeof n.slice=="function"&&typeof n.arrayBuffer=="function",JA=n=>n!=null&&typeof n=="object"&&typeof n.name=="string"&&typeof n.lastModified=="number"&&_0(n),jA=n=>n!=null&&typeof n=="object"&&typeof n.url=="string"&&typeof n.blob=="function";async function KA(n,t,o){if(y0(),n=await n,JA(n))return n instanceof File?n:vf([await n.arrayBuffer()],n.name);if(jA(n)){const l=await n.blob();return t||(t=new URL(n.url).pathname.split(/[\\/]/).pop()),vf(await Bf(l),t,o)}const r=await Bf(n);if(t||(t=ZA(n)),!(o!=null&&o.type)){const l=r.find(f=>typeof f=="object"&&"type"in f&&f.type);typeof l=="string"&&(o=Object.assign(Object.assign({},o),{type:l}))}return vf(r,t,o)}async function Bf(n){var t,o,r,l,f;let h=[];if(typeof n=="string"||ArrayBuffer.isView(n)||n instanceof ArrayBuffer)h.push(n);else if(_0(n))h.push(n instanceof Blob?n:await n.arrayBuffer());else if(YA(n))try{for(var _=!0,x=Wn(n),y;y=await x.next(),t=y.done,!t;_=!0){l=y.value,_=!1;const E=l;h.push(...await Bf(E))}}catch(E){o={error:E}}finally{try{!_&&!t&&(r=x.return)&&await r.call(x)}finally{if(o)throw o.error}}else{const E=(f=n==null?void 0:n.constructor)===null||f===void 0?void 0:f.name;throw new Error(`Unexpected data type: ${typeof n}${E?`; constructor: ${E}`:""}${XA(n)}`)}return h}function XA(n){return typeof n!="object"||n===null?"":`; props: [${Object.getOwnPropertyNames(n).map(o=>`"${o}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class x0{constructor(t){this._client=t}}x0._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function S0(n){return n.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Xv=Object.freeze(Object.create(null)),QA=(n=S0)=>(function(o,...r){if(o.length===1)return o[0];let l=!1;const f=[],h=o.reduce((E,b,C)=>{var R,k,D;/[?#]/.test(b)&&(l=!0);const I=r[C];let H=(l?encodeURIComponent:n)(""+I);return C!==r.length&&(I==null||typeof I=="object"&&I.toString===((D=Object.getPrototypeOf((k=Object.getPrototypeOf((R=I.hasOwnProperty)!==null&&R!==void 0?R:Xv))!==null&&k!==void 0?k:Xv))===null||D===void 0?void 0:D.toString))&&(H=I+"",f.push({start:E.length+b.length,length:H.length,error:`Value of type ${Object.prototype.toString.call(I).slice(8,-1)} is not a valid path parameter`})),E+b+(C===r.length?"":H)},""),_=h.split(/[?#]/,1)[0],x=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let y;for(;(y=x.exec(_))!==null;)f.push({start:y.index,length:y[0].length,error:`Value "${y[0]}" can't be safely passed as a path parameter`});if(f.sort((E,b)=>E.start-b.start),f.length>0){let E=0;const b=f.reduce((C,R)=>{const k=" ".repeat(R.start-E),D="^".repeat(R.length);return E=R.start+R.length,C+k+D},"");throw new Bn(`Path parameters result in path with invalid segments:
${f.map(C=>C.error).join(`
`)}
${h}
${b}`)}return h}),zu=QA(S0);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class T0 extends x0{create(t,o){var r;const{api_version:l=this._client.apiVersion}=t,f=Xu(t,["api_version"]);if("model"in f&&"agent_config"in f)throw new Bn("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in f&&"generation_config"in f)throw new Bn("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(zu`/${l}/interactions`,Object.assign(Object.assign({body:f},o),{stream:(r=t.stream)!==null&&r!==void 0?r:!1}))}delete(t,o={},r){const{api_version:l=this._client.apiVersion}=o??{};return this._client.delete(zu`/${l}/interactions/${t}`,r)}cancel(t,o={},r){const{api_version:l=this._client.apiVersion}=o??{};return this._client.post(zu`/${l}/interactions/${t}/cancel`,r)}get(t,o={},r){var l;const f=o??{},{api_version:h=this._client.apiVersion}=f,_=Xu(f,["api_version"]);return this._client.get(zu`/${h}/interactions/${t}`,Object.assign(Object.assign({query:_},r),{stream:(l=o==null?void 0:o.stream)!==null&&l!==void 0?l:!1}))}}T0._key=Object.freeze(["interactions"]);class E0 extends T0{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $A(n){let t=0;for(const l of n)t+=l.length;const o=new Uint8Array(t);let r=0;for(const l of n)o.set(l,r),r+=l.length;return o}let Bu;function ah(n){let t;return(Bu??(t=new globalThis.TextEncoder,Bu=t.encode.bind(t)))(n)}let Hu;function Qv(n){let t;return(Hu??(t=new globalThis.TextDecoder,Hu=t.decode.bind(t)))(n)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lc{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const o=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?ah(t):t;this.buffer=$A([this.buffer,o]);const r=[];let l;for(;(l=WA(this.buffer,this.carriageReturnIndex))!=null;){if(l.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=l.index;continue}if(this.carriageReturnIndex!=null&&(l.index!==this.carriageReturnIndex+1||l.carriage)){r.push(Qv(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const f=this.carriageReturnIndex!==null?l.preceding-1:l.preceding,h=Qv(this.buffer.subarray(0,f));r.push(h),this.buffer=this.buffer.subarray(l.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}lc.NEWLINE_CHARS=new Set([`
`,"\r"]);lc.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function WA(n,t){for(let l=t??0;l<n.length;l++){if(n[l]===10)return{preceding:l,index:l+1,carriage:!1};if(n[l]===13)return{preceding:l,index:l+1,carriage:!0}}return null}function e2(n){for(let r=0;r<n.length-1;r++){if(n[r]===10&&n[r+1]===10||n[r]===13&&n[r+1]===13)return r+2;if(n[r]===13&&n[r+1]===10&&r+3<n.length&&n[r+2]===13&&n[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Qu={off:0,error:200,warn:300,info:400,debug:500},$v=(n,t,o)=>{if(n){if(DA(Qu,n))return n;tn(o).warn(`${t} was set to ${JSON.stringify(n)}, expected one of ${JSON.stringify(Object.keys(Qu))}`)}};function Wr(){}function Ou(n,t,o){return!t||Qu[n]>Qu[o]?Wr:t[n].bind(t)}const t2={error:Wr,warn:Wr,info:Wr,debug:Wr};let Wv=new WeakMap;function tn(n){var t;const o=n.logger,r=(t=n.logLevel)!==null&&t!==void 0?t:"off";if(!o)return t2;const l=Wv.get(o);if(l&&l[0]===r)return l[1];const f={error:Ou("error",o,r),warn:Ou("warn",o,r),info:Ou("info",o,r),debug:Ou("debug",o,r)};return Wv.set(o,[r,f]),f}const Is=n=>(n.options&&(n.options=Object.assign({},n.options),delete n.options.headers),n.headers&&(n.headers=Object.fromEntries((n.headers instanceof Headers?[...n.headers]:Object.entries(n.headers)).map(([t,o])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":o]))),"retryOfRequestLogID"in n&&(n.retryOfRequestLogID&&(n.retryOf=n.retryOfRequestLogID),delete n.retryOfRequestLogID),n);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ra{constructor(t,o,r){this.iterator=t,this.controller=o,this.client=r}static fromSSEResponse(t,o,r){let l=!1;const f=r?tn(r):console;function h(){return $n(this,arguments,function*(){var x,y,E,b;if(l)throw new Bn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");l=!0;let C=!1;try{try{for(var R=!0,k=Wn(n2(t,o)),D;D=yield Ne(k.next()),x=D.done,!x;R=!0){b=D.value,R=!1;const I=b;if(!C)if(I.data.startsWith("[DONE]")){C=!0;continue}else try{yield yield Ne(JSON.parse(I.data))}catch(H){throw f.error("Could not parse message into JSON:",I.data),f.error("From chunk:",I.raw),H}}}catch(I){y={error:I}}finally{try{!R&&!x&&(E=k.return)&&(yield Ne(E.call(k)))}finally{if(y)throw y.error}}C=!0}catch(I){if(Pf(I))return yield Ne(void 0);throw I}finally{C||o.abort()}})}return new Ra(h,o,r)}static fromReadableStream(t,o,r){let l=!1;function f(){return $n(this,arguments,function*(){var x,y,E,b;const C=new lc,R=v0(t);try{for(var k=!0,D=Wn(R),I;I=yield Ne(D.next()),x=I.done,!x;k=!0){b=I.value,k=!1;const H=b;for(const X of C.decode(H))yield yield Ne(X)}}catch(H){y={error:H}}finally{try{!k&&!x&&(E=D.return)&&(yield Ne(E.call(D)))}finally{if(y)throw y.error}}for(const H of C.flush())yield yield Ne(H)})}function h(){return $n(this,arguments,function*(){var x,y,E,b;if(l)throw new Bn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");l=!0;let C=!1;try{try{for(var R=!0,k=Wn(f()),D;D=yield Ne(k.next()),x=D.done,!x;R=!0){b=D.value,R=!1;const I=b;C||I&&(yield yield Ne(JSON.parse(I)))}}catch(I){y={error:I}}finally{try{!R&&!x&&(E=k.return)&&(yield Ne(E.call(k)))}finally{if(y)throw y.error}}C=!0}catch(I){if(Pf(I))return yield Ne(void 0);throw I}finally{C||o.abort()}})}return new Ra(h,o,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],o=[],r=this.iterator(),l=f=>({next:()=>{if(f.length===0){const h=r.next();t.push(h),o.push(h)}return f.shift()}});return[new Ra(()=>l(t),this.controller,this.client),new Ra(()=>l(o),this.controller,this.client)]}toReadableStream(){const t=this;let o;return g0({async start(){o=t[Symbol.asyncIterator]()},async pull(r){try{const{value:l,done:f}=await o.next();if(f)return r.close();const h=ah(JSON.stringify(l)+`
`);r.enqueue(h)}catch(l){r.error(l)}},async cancel(){var r;await((r=o.return)===null||r===void 0?void 0:r.call(o))}})}}function n2(n,t){return $n(this,arguments,function*(){var r,l,f,h;if(!n.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Bn("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Bn("Attempted to iterate over a response with no body");const _=new o2,x=new lc,y=v0(n.body);try{for(var E=!0,b=Wn(i2(y)),C;C=yield Ne(b.next()),r=C.done,!r;E=!0){h=C.value,E=!1;const R=h;for(const k of x.decode(R)){const D=_.decode(k);D&&(yield yield Ne(D))}}}catch(R){l={error:R}}finally{try{!E&&!r&&(f=b.return)&&(yield Ne(f.call(b)))}finally{if(l)throw l.error}}for(const R of x.flush()){const k=_.decode(R);k&&(yield yield Ne(k))}})}function i2(n){return $n(this,arguments,function*(){var o,r,l,f;let h=new Uint8Array;try{for(var _=!0,x=Wn(n),y;y=yield Ne(x.next()),o=y.done,!o;_=!0){f=y.value,_=!1;const E=f;if(E==null)continue;const b=E instanceof ArrayBuffer?new Uint8Array(E):typeof E=="string"?ah(E):E;let C=new Uint8Array(h.length+b.length);C.set(h),C.set(b,h.length),h=C;let R;for(;(R=e2(h))!==-1;)yield yield Ne(h.slice(0,R)),h=h.slice(R)}}catch(E){r={error:E}}finally{try{!_&&!o&&(l=x.return)&&(yield Ne(l.call(x)))}finally{if(r)throw r.error}}h.length>0&&(yield yield Ne(h))})}class o2{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const f={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],f}if(this.chunks.push(t),t.startsWith(":"))return null;let[o,r,l]=s2(t,":");return l.startsWith(" ")&&(l=l.substring(1)),o==="event"?this.event=l:o==="data"&&this.data.push(l),null}}function s2(n,t){const o=n.indexOf(t);return o!==-1?[n.substring(0,o),t,n.substring(o+t.length)]:[n,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function a2(n,t){const{response:o,requestLogID:r,retryOfRequestLogID:l,startTime:f}=t,h=await(async()=>{var _;if(t.options.stream)return tn(n).debug("response",o.status,o.url,o.headers,o.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(o,t.controller,n):Ra.fromSSEResponse(o,t.controller,n);if(o.status===204)return null;if(t.options.__binaryResponse)return o;const x=o.headers.get("content-type"),y=(_=x==null?void 0:x.split(";")[0])===null||_===void 0?void 0:_.trim();return(y==null?void 0:y.includes("application/json"))||(y==null?void 0:y.endsWith("+json"))?await o.json():await o.text()})();return tn(n).debug(`[${r}] response parsed`,Is({retryOfRequestLogID:l,url:o.url,status:o.status,body:h,durationMs:Date.now()-f})),h}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rh extends Promise{constructor(t,o,r=a2){super(l=>{l(null)}),this.responsePromise=o,this.parseResponse=r,this.client=t}_thenUnwrap(t){return new rh(this.client,this.responsePromise,async(o,r)=>t(await this.parseResponse(o,r),r))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,o]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:o}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,o){return this.parse().then(t,o)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const b0=Symbol("brand.privateNullableHeaders");function*r2(n){if(!n)return;if(b0 in n){const{values:r,nulls:l}=n;yield*r.entries();for(const f of l)yield[f,null];return}let t=!1,o;n instanceof Headers?o=n.entries():Jv(n)?o=n:(t=!0,o=Object.entries(n??{}));for(let r of o){const l=r[0];if(typeof l!="string")throw new TypeError("expected header name to be a string");const f=Jv(r[1])?r[1]:[r[1]];let h=!1;for(const _ of f)_!==void 0&&(t&&!h&&(h=!0,yield[l,null]),yield[l,_])}}const yf=n=>{const t=new Headers,o=new Set;for(const r of n){const l=new Set;for(const[f,h]of r2(r)){const _=f.toLowerCase();l.has(_)||(t.delete(f),l.add(_)),h===null?(t.delete(f),o.add(_)):(t.append(f,h),o.delete(_))}}return{[b0]:!0,values:t,nulls:o}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _f=n=>{var t,o,r,l,f,h;if(typeof globalThis.process<"u")return(r=(o=(t=DE)===null||t===void 0?void 0:t[n])===null||o===void 0?void 0:o.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(h=(f=(l=globalThis.Deno.env)===null||l===void 0?void 0:l.get)===null||f===void 0?void 0:f.call(l,n))===null||h===void 0?void 0:h.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var C0;class uc{constructor(t){var o,r,l,f,h,_,x,y=t===void 0?{}:t,{baseURL:E=_f("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:b=(o=_f("GEMINI_API_KEY"))!==null&&o!==void 0?o:null,apiVersion:C="v1beta"}=y,R=Xu(y,["baseURL","apiKey","apiVersion"]);const k=Object.assign(Object.assign({apiKey:b,apiVersion:C},R),{baseURL:E||"https://generativelanguage.googleapis.com"});this.baseURL=k.baseURL,this.timeout=(r=k.timeout)!==null&&r!==void 0?r:uc.DEFAULT_TIMEOUT,this.logger=(l=k.logger)!==null&&l!==void 0?l:console;const D="warn";this.logLevel=D,this.logLevel=(h=(f=$v(k.logLevel,"ClientOptions.logLevel",this))!==null&&f!==void 0?f:$v(_f("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&h!==void 0?h:D,this.fetchOptions=k.fetchOptions,this.maxRetries=(_=k.maxRetries)!==null&&_!==void 0?_:2,this.fetch=(x=k.fetch)!==null&&x!==void 0?x:GA(),this.encoder=FA,this._options=k,this.apiKey=b,this.apiVersion=C}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:o}){if(!(this.apiKey&&t.get("x-goog-api-key"))&&!o.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){if(this.apiKey!=null)return yf([{"x-goog-api-key":this.apiKey}])}stringifyQuery(t){return Object.entries(t).filter(([o,r])=>typeof r<"u").map(([o,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(o)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(o)}=`;throw new Bn(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Aa}`}defaultIdempotencyKey(){return`stainless-node-retry-${NA()}`}makeStatusError(t,o,r,l){return nn.generate(t,o,r,l)}buildURL(t,o,r){const l=!this.baseURLOverridden()&&r||this.baseURL,f=MA(t)?new URL(t):new URL(l+(l.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),h=this.defaultQuery();return LA(h)||(o=Object.assign(Object.assign({},h),o)),typeof o=="object"&&o&&!Array.isArray(o)&&(f.search=this.stringifyQuery(o)),f.toString()}async prepareOptions(t){}async prepareRequest(t,{url:o,options:r}){}get(t,o){return this.methodRequest("get",t,o)}post(t,o){return this.methodRequest("post",t,o)}patch(t,o){return this.methodRequest("patch",t,o)}put(t,o){return this.methodRequest("put",t,o)}delete(t,o){return this.methodRequest("delete",t,o)}methodRequest(t,o,r){return this.request(Promise.resolve(r).then(l=>Object.assign({method:t,path:o},l)))}request(t,o=null){return new rh(this,this.makeRequest(t,o,void 0))}async makeRequest(t,o,r){var l,f,h;const _=await t,x=(l=_.maxRetries)!==null&&l!==void 0?l:this.maxRetries;o==null&&(o=x),await this.prepareOptions(_);const{req:y,url:E,timeout:b}=await this.buildRequest(_,{retryCount:x-o});await this.prepareRequest(y,{url:E,options:_});const C="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),R=r===void 0?"":`, retryOf: ${r}`,k=Date.now();if(tn(this).debug(`[${C}] sending request`,Is({retryOfRequestLogID:r,method:_.method,url:E,options:_,headers:y.headers})),!((f=_.signal)===null||f===void 0)&&f.aborted)throw new Uf;const D=new AbortController,I=await this.fetchWithTimeout(E,y,b,D).catch(kf),H=Date.now();if(I instanceof globalThis.Error){const O=`retrying, ${o} attempts remaining`;if(!((h=_.signal)===null||h===void 0)&&h.aborted)throw new Uf;const ie=Pf(I)||/timed? ?out/i.test(String(I)+("cause"in I?String(I.cause):""));if(o)return tn(this).info(`[${C}] connection ${ie?"timed out":"failed"} - ${O}`),tn(this).debug(`[${C}] connection ${ie?"timed out":"failed"} (${O})`,Is({retryOfRequestLogID:r,url:E,durationMs:H-k,message:I.message})),this.retryRequest(_,o,r??C);throw tn(this).info(`[${C}] connection ${ie?"timed out":"failed"} - error; no more retries left`),tn(this).debug(`[${C}] connection ${ie?"timed out":"failed"} (error; no more retries left)`,Is({retryOfRequestLogID:r,url:E,durationMs:H-k,message:I.message})),ie?new r0:new rc({cause:I})}const X=`[${C}${R}] ${y.method} ${E} ${I.ok?"succeeded":"failed"} with status ${I.status} in ${H-k}ms`;if(!I.ok){const O=await this.shouldRetry(I);if(o&&O){const fe=`retrying, ${o} attempts remaining`;return await qA(I.body),tn(this).info(`${X} - ${fe}`),tn(this).debug(`[${C}] response error (${fe})`,Is({retryOfRequestLogID:r,url:I.url,status:I.status,headers:I.headers,durationMs:H-k})),this.retryRequest(_,o,r??C,I.headers)}const ie=O?"error; no more retries left":"error; not retryable";tn(this).info(`${X} - ${ie}`);const le=await I.text().catch(fe=>kf(fe).message),pe=kA(le),oe=pe?void 0:le;throw tn(this).debug(`[${C}] response error (${ie})`,Is({retryOfRequestLogID:r,url:I.url,status:I.status,headers:I.headers,message:oe,durationMs:Date.now()-k})),this.makeStatusError(I.status,pe,oe,I.headers)}return tn(this).info(X),tn(this).debug(`[${C}] response start`,Is({retryOfRequestLogID:r,url:I.url,status:I.status,headers:I.headers,durationMs:H-k})),{response:I,options:_,controller:D,requestLogID:C,retryOfRequestLogID:r,startTime:k}}async fetchWithTimeout(t,o,r,l){const f=o||{},{signal:h,method:_}=f,x=Xu(f,["signal","method"]);h&&h.addEventListener("abort",()=>l.abort());const y=setTimeout(()=>l.abort(),r),E=globalThis.ReadableStream&&x.body instanceof globalThis.ReadableStream||typeof x.body=="object"&&x.body!==null&&Symbol.asyncIterator in x.body,b=Object.assign(Object.assign(Object.assign({signal:l.signal},E?{duplex:"half"}:{}),{method:"GET"}),x);_&&(b.method=_.toUpperCase());try{return await this.fetch.call(void 0,t,b)}finally{clearTimeout(y)}}async shouldRetry(t){const o=t.headers.get("x-should-retry");return o==="true"?!0:o==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,o,r,l){var f;let h;const _=l==null?void 0:l.get("retry-after-ms");if(_){const y=parseFloat(_);Number.isNaN(y)||(h=y)}const x=l==null?void 0:l.get("retry-after");if(x&&!h){const y=parseFloat(x);Number.isNaN(y)?h=Date.parse(x)-Date.now():h=y*1e3}if(!(h&&0<=h&&h<60*1e3)){const y=(f=t.maxRetries)!==null&&f!==void 0?f:this.maxRetries;h=this.calculateDefaultRetryTimeoutMillis(o,y)}return await UA(h),this.makeRequest(t,o-1,r)}calculateDefaultRetryTimeoutMillis(t,o){const f=o-t,h=Math.min(.5*Math.pow(2,f),8),_=1-Math.random()*.25;return h*_*1e3}async buildRequest(t,{retryCount:o=0}={}){var r,l,f;const h=Object.assign({},t),{method:_,path:x,query:y,defaultBaseURL:E}=h,b=this.buildURL(x,y,E);"timeout"in h&&PA("timeout",h.timeout),h.timeout=(r=h.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:C,body:R}=this.buildBody({options:h}),k=await this.buildHeaders({options:t,method:_,bodyHeaders:C,retryCount:o});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:_,headers:k},h.signal&&{signal:h.signal}),globalThis.ReadableStream&&R instanceof globalThis.ReadableStream&&{duplex:"half"}),R&&{body:R}),(l=this.fetchOptions)!==null&&l!==void 0?l:{}),(f=h.fetchOptions)!==null&&f!==void 0?f:{}),url:b,timeout:h.timeout}}async buildHeaders({options:t,method:o,bodyHeaders:r,retryCount:l}){let f={};this.idempotencyHeader&&o!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),f[this.idempotencyHeader]=t.idempotencyKey);const h=yf([f,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(l)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),OA()),await this.authHeaders(t),this._options.defaultHeaders,r,t.headers]);return this.validateHeaders(h),h.values}buildBody({options:{body:t,headers:o}}){if(!t)return{bodyHeaders:void 0,body:void 0};const r=yf([o]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&r.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:VA(t)}:this.encoder({body:t,headers:r})}}uc.DEFAULT_TIMEOUT=6e4;class Ot extends uc{constructor(){super(...arguments),this.interactions=new E0(this)}}C0=Ot;Ot.GeminiNextGenAPIClient=C0;Ot.GeminiNextGenAPIClientError=Bn;Ot.APIError=nn;Ot.APIConnectionError=rc;Ot.APIConnectionTimeoutError=r0;Ot.APIUserAbortError=Uf;Ot.NotFoundError=d0;Ot.ConflictError=f0;Ot.RateLimitError=m0;Ot.BadRequestError=l0;Ot.AuthenticationError=u0;Ot.InternalServerError=p0;Ot.PermissionDeniedError=c0;Ot.UnprocessableEntityError=h0;Ot.toFile=KA;Ot.Interactions=E0;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function l2(n,t){const o={},r=d(n,["name"]);return r!=null&&m(o,["_url","name"],r),o}function u2(n,t){const o={},r=d(n,["name"]);return r!=null&&m(o,["_url","name"],r),o}function c2(n,t){const o={},r=d(n,["sdkHttpResponse"]);return r!=null&&m(o,["sdkHttpResponse"],r),o}function d2(n,t){const o={},r=d(n,["sdkHttpResponse"]);return r!=null&&m(o,["sdkHttpResponse"],r),o}function f2(n,t,o){const r={};if(d(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const l=d(n,["tunedModelDisplayName"]);if(t!==void 0&&l!=null&&m(t,["displayName"],l),d(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const f=d(n,["epochCount"]);t!==void 0&&f!=null&&m(t,["tuningTask","hyperparameters","epochCount"],f);const h=d(n,["learningRateMultiplier"]);if(h!=null&&m(r,["tuningTask","hyperparameters","learningRateMultiplier"],h),d(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(d(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(d(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const _=d(n,["batchSize"]);t!==void 0&&_!=null&&m(t,["tuningTask","hyperparameters","batchSize"],_);const x=d(n,["learningRate"]);if(t!==void 0&&x!=null&&m(t,["tuningTask","hyperparameters","learningRate"],x),d(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(d(n,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function h2(n,t,o){const r={};let l=d(o,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const R=d(n,["validationDataset"]);t!==void 0&&R!=null&&m(t,["supervisedTuningSpec"],ey(R))}else if(l==="PREFERENCE_TUNING"){const R=d(n,["validationDataset"]);t!==void 0&&R!=null&&m(t,["preferenceOptimizationSpec"],ey(R))}const f=d(n,["tunedModelDisplayName"]);t!==void 0&&f!=null&&m(t,["tunedModelDisplayName"],f);const h=d(n,["description"]);t!==void 0&&h!=null&&m(t,["description"],h);let _=d(o,["config","method"]);if(_===void 0&&(_="SUPERVISED_FINE_TUNING"),_==="SUPERVISED_FINE_TUNING"){const R=d(n,["epochCount"]);t!==void 0&&R!=null&&m(t,["supervisedTuningSpec","hyperParameters","epochCount"],R)}else if(_==="PREFERENCE_TUNING"){const R=d(n,["epochCount"]);t!==void 0&&R!=null&&m(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],R)}let x=d(o,["config","method"]);if(x===void 0&&(x="SUPERVISED_FINE_TUNING"),x==="SUPERVISED_FINE_TUNING"){const R=d(n,["learningRateMultiplier"]);t!==void 0&&R!=null&&m(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],R)}else if(x==="PREFERENCE_TUNING"){const R=d(n,["learningRateMultiplier"]);t!==void 0&&R!=null&&m(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],R)}let y=d(o,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const R=d(n,["exportLastCheckpointOnly"]);t!==void 0&&R!=null&&m(t,["supervisedTuningSpec","exportLastCheckpointOnly"],R)}else if(y==="PREFERENCE_TUNING"){const R=d(n,["exportLastCheckpointOnly"]);t!==void 0&&R!=null&&m(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],R)}let E=d(o,["config","method"]);if(E===void 0&&(E="SUPERVISED_FINE_TUNING"),E==="SUPERVISED_FINE_TUNING"){const R=d(n,["adapterSize"]);t!==void 0&&R!=null&&m(t,["supervisedTuningSpec","hyperParameters","adapterSize"],R)}else if(E==="PREFERENCE_TUNING"){const R=d(n,["adapterSize"]);t!==void 0&&R!=null&&m(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],R)}if(d(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(d(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const b=d(n,["labels"]);t!==void 0&&b!=null&&m(t,["labels"],b);const C=d(n,["beta"]);return t!==void 0&&C!=null&&m(t,["preferenceOptimizationSpec","hyperParameters","beta"],C),r}function m2(n,t){const o={},r=d(n,["baseModel"]);r!=null&&m(o,["baseModel"],r);const l=d(n,["preTunedModel"]);l!=null&&m(o,["preTunedModel"],l);const f=d(n,["trainingDataset"]);f!=null&&C2(f);const h=d(n,["config"]);return h!=null&&f2(h,o),o}function p2(n,t){const o={},r=d(n,["baseModel"]);r!=null&&m(o,["baseModel"],r);const l=d(n,["preTunedModel"]);l!=null&&m(o,["preTunedModel"],l);const f=d(n,["trainingDataset"]);f!=null&&w2(f,o,t);const h=d(n,["config"]);return h!=null&&h2(h,o,t),o}function g2(n,t){const o={},r=d(n,["name"]);return r!=null&&m(o,["_url","name"],r),o}function v2(n,t){const o={},r=d(n,["name"]);return r!=null&&m(o,["_url","name"],r),o}function y2(n,t,o){const r={},l=d(n,["pageSize"]);t!==void 0&&l!=null&&m(t,["_query","pageSize"],l);const f=d(n,["pageToken"]);t!==void 0&&f!=null&&m(t,["_query","pageToken"],f);const h=d(n,["filter"]);return t!==void 0&&h!=null&&m(t,["_query","filter"],h),r}function _2(n,t,o){const r={},l=d(n,["pageSize"]);t!==void 0&&l!=null&&m(t,["_query","pageSize"],l);const f=d(n,["pageToken"]);t!==void 0&&f!=null&&m(t,["_query","pageToken"],f);const h=d(n,["filter"]);return t!==void 0&&h!=null&&m(t,["_query","filter"],h),r}function x2(n,t){const o={},r=d(n,["config"]);return r!=null&&y2(r,o),o}function S2(n,t){const o={},r=d(n,["config"]);return r!=null&&_2(r,o),o}function T2(n,t){const o={},r=d(n,["sdkHttpResponse"]);r!=null&&m(o,["sdkHttpResponse"],r);const l=d(n,["nextPageToken"]);l!=null&&m(o,["nextPageToken"],l);const f=d(n,["tunedModels"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(_=>w0(_))),m(o,["tuningJobs"],h)}return o}function E2(n,t){const o={},r=d(n,["sdkHttpResponse"]);r!=null&&m(o,["sdkHttpResponse"],r);const l=d(n,["nextPageToken"]);l!=null&&m(o,["nextPageToken"],l);const f=d(n,["tuningJobs"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(_=>Hf(_))),m(o,["tuningJobs"],h)}return o}function b2(n,t){const o={},r=d(n,["name"]);r!=null&&m(o,["model"],r);const l=d(n,["name"]);return l!=null&&m(o,["endpoint"],l),o}function C2(n,t){const o={};if(d(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=d(n,["examples"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(f=>f)),m(o,["examples","examples"],l)}return o}function w2(n,t,o){const r={};let l=d(o,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const h=d(n,["gcsUri"]);t!==void 0&&h!=null&&m(t,["supervisedTuningSpec","trainingDatasetUri"],h)}else if(l==="PREFERENCE_TUNING"){const h=d(n,["gcsUri"]);t!==void 0&&h!=null&&m(t,["preferenceOptimizationSpec","trainingDatasetUri"],h)}let f=d(o,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const h=d(n,["vertexDatasetResource"]);t!==void 0&&h!=null&&m(t,["supervisedTuningSpec","trainingDatasetUri"],h)}else if(f==="PREFERENCE_TUNING"){const h=d(n,["vertexDatasetResource"]);t!==void 0&&h!=null&&m(t,["preferenceOptimizationSpec","trainingDatasetUri"],h)}if(d(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function w0(n,t){const o={},r=d(n,["sdkHttpResponse"]);r!=null&&m(o,["sdkHttpResponse"],r);const l=d(n,["name"]);l!=null&&m(o,["name"],l);const f=d(n,["state"]);f!=null&&m(o,["state"],Oy(f));const h=d(n,["createTime"]);h!=null&&m(o,["createTime"],h);const _=d(n,["tuningTask","startTime"]);_!=null&&m(o,["startTime"],_);const x=d(n,["tuningTask","completeTime"]);x!=null&&m(o,["endTime"],x);const y=d(n,["updateTime"]);y!=null&&m(o,["updateTime"],y);const E=d(n,["description"]);E!=null&&m(o,["description"],E);const b=d(n,["baseModel"]);b!=null&&m(o,["baseModel"],b);const C=d(n,["_self"]);return C!=null&&m(o,["tunedModel"],b2(C)),o}function Hf(n,t){const o={},r=d(n,["sdkHttpResponse"]);r!=null&&m(o,["sdkHttpResponse"],r);const l=d(n,["name"]);l!=null&&m(o,["name"],l);const f=d(n,["state"]);f!=null&&m(o,["state"],Oy(f));const h=d(n,["createTime"]);h!=null&&m(o,["createTime"],h);const _=d(n,["startTime"]);_!=null&&m(o,["startTime"],_);const x=d(n,["endTime"]);x!=null&&m(o,["endTime"],x);const y=d(n,["updateTime"]);y!=null&&m(o,["updateTime"],y);const E=d(n,["error"]);E!=null&&m(o,["error"],E);const b=d(n,["description"]);b!=null&&m(o,["description"],b);const C=d(n,["baseModel"]);C!=null&&m(o,["baseModel"],C);const R=d(n,["tunedModel"]);R!=null&&m(o,["tunedModel"],R);const k=d(n,["preTunedModel"]);k!=null&&m(o,["preTunedModel"],k);const D=d(n,["supervisedTuningSpec"]);D!=null&&m(o,["supervisedTuningSpec"],D);const I=d(n,["preferenceOptimizationSpec"]);I!=null&&m(o,["preferenceOptimizationSpec"],I);const H=d(n,["tuningDataStats"]);H!=null&&m(o,["tuningDataStats"],H);const X=d(n,["encryptionSpec"]);X!=null&&m(o,["encryptionSpec"],X);const O=d(n,["partnerModelTuningSpec"]);O!=null&&m(o,["partnerModelTuningSpec"],O);const ie=d(n,["customBaseModel"]);ie!=null&&m(o,["customBaseModel"],ie);const le=d(n,["experiment"]);le!=null&&m(o,["experiment"],le);const pe=d(n,["labels"]);pe!=null&&m(o,["labels"],pe);const oe=d(n,["outputUri"]);oe!=null&&m(o,["outputUri"],oe);const Ae=d(n,["pipelineJob"]);Ae!=null&&m(o,["pipelineJob"],Ae);const fe=d(n,["serviceAccount"]);fe!=null&&m(o,["serviceAccount"],fe);const Ee=d(n,["tunedModelDisplayName"]);Ee!=null&&m(o,["tunedModelDisplayName"],Ee);const be=d(n,["veoTuningSpec"]);return be!=null&&m(o,["veoTuningSpec"],be),o}function N2(n,t){const o={},r=d(n,["sdkHttpResponse"]);r!=null&&m(o,["sdkHttpResponse"],r);const l=d(n,["name"]);l!=null&&m(o,["name"],l);const f=d(n,["metadata"]);f!=null&&m(o,["metadata"],f);const h=d(n,["done"]);h!=null&&m(o,["done"],h);const _=d(n,["error"]);return _!=null&&m(o,["error"],_),o}function ey(n,t){const o={},r=d(n,["gcsUri"]);r!=null&&m(o,["validationDatasetUri"],r);const l=d(n,["vertexDatasetResource"]);return l!=null&&m(o,["validationDatasetUri"],l),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class A2 extends Xi{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new Ps(Ki.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(o),o),this.get=async o=>await this.getInternal(o),this.tune=async o=>{var r;if(this.apiClient.isVertexAI())if(o.baseModel.startsWith("projects/")){const l={tunedModelName:o.baseModel};!((r=o.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(l.checkpointId=o.config.preTunedModelCheckpointId);const f=Object.assign(Object.assign({},o),{preTunedModel:l});return f.baseModel=void 0,await this.tuneInternal(f)}else{const l=Object.assign({},o);return await this.tuneInternal(l)}else{const l=Object.assign({},o),f=await this.tuneMldevInternal(l);let h="";return f.metadata!==void 0&&f.metadata.tunedModel!==void 0?h=f.metadata.tunedModel:f.name!==void 0&&f.name.includes("/operations/")&&(h=f.name.split("/operations/")[0]),{name:h,state:Nf.JOB_STATE_QUEUED}}}}async getInternal(t){var o,r,l,f;let h,_="",x={};if(this.apiClient.isVertexAI()){const y=v2(t);return _=de("{name}",y._url),x=y._query,delete y._url,delete y._query,h=this.apiClient.request({path:_,queryParams:x,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(E=>E.json().then(b=>{const C=b;return C.sdkHttpResponse={headers:E.headers},C})),h.then(E=>Hf(E))}else{const y=g2(t);return _=de("{name}",y._url),x=y._query,delete y._url,delete y._query,h=this.apiClient.request({path:_,queryParams:x,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(E=>E.json().then(b=>{const C=b;return C.sdkHttpResponse={headers:E.headers},C})),h.then(E=>w0(E))}}async listInternal(t){var o,r,l,f;let h,_="",x={};if(this.apiClient.isVertexAI()){const y=S2(t);return _=de("tuningJobs",y._url),x=y._query,delete y._url,delete y._query,h=this.apiClient.request({path:_,queryParams:x,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(E=>E.json().then(b=>{const C=b;return C.sdkHttpResponse={headers:E.headers},C})),h.then(E=>{const b=E2(E),C=new wv;return Object.assign(C,b),C})}else{const y=x2(t);return _=de("tunedModels",y._url),x=y._query,delete y._url,delete y._query,h=this.apiClient.request({path:_,queryParams:x,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(E=>E.json().then(b=>{const C=b;return C.sdkHttpResponse={headers:E.headers},C})),h.then(E=>{const b=T2(E),C=new wv;return Object.assign(C,b),C})}}async cancel(t){var o,r,l,f;let h,_="",x={};if(this.apiClient.isVertexAI()){const y=u2(t);return _=de("{name}:cancel",y._url),x=y._query,delete y._url,delete y._query,h=this.apiClient.request({path:_,queryParams:x,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(E=>E.json().then(b=>{const C=b;return C.sdkHttpResponse={headers:E.headers},C})),h.then(E=>{const b=d2(E),C=new Nv;return Object.assign(C,b),C})}else{const y=l2(t);return _=de("{name}:cancel",y._url),x=y._query,delete y._url,delete y._query,h=this.apiClient.request({path:_,queryParams:x,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(E=>E.json().then(b=>{const C=b;return C.sdkHttpResponse={headers:E.headers},C})),h.then(E=>{const b=c2(E),C=new Nv;return Object.assign(C,b),C})}}async tuneInternal(t){var o,r;let l,f="",h={};if(this.apiClient.isVertexAI()){const _=p2(t,t);return f=de("tuningJobs",_._url),h=_._query,delete _._url,delete _._query,l=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(_),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json().then(y=>{const E=y;return E.sdkHttpResponse={headers:x.headers},E})),l.then(x=>Hf(x))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var o,r;let l,f="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const _=m2(t);return f=de("tunedModels",_._url),h=_._query,delete _._url,delete _._query,l=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(_),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json().then(y=>{const E=y;return E.sdkHttpResponse={headers:x.headers},E})),l.then(x=>N2(x))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class M2{async download(t,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const R2=1024*1024*8,I2=3,L2=1e3,D2=2,$u="x-goog-upload-status";async function P2(n,t,o){var r;const l=await N0(n,t,o),f=await(l==null?void 0:l.json());if(((r=l==null?void 0:l.headers)===null||r===void 0?void 0:r[$u])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return f.file}async function k2(n,t,o){var r;const l=await N0(n,t,o),f=await(l==null?void 0:l.json());if(((r=l==null?void 0:l.headers)===null||r===void 0?void 0:r[$u])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const h=Py(f),_=new eh;return Object.assign(_,h),_}async function N0(n,t,o){var r,l;let f=0,h=0,_=new Af(new Response),x="upload";for(f=n.size;h<f;){const y=Math.min(R2,f-h),E=n.slice(h,h+y);h+y>=f&&(x+=", finalize");let b=0,C=L2;for(;b<I2&&(_=await o.request({path:"",body:E,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":x,"X-Goog-Upload-Offset":String(h),"Content-Length":String(y)}}}),!(!((r=_==null?void 0:_.headers)===null||r===void 0)&&r[$u]));)b++,await z2(C),C=C*D2;if(h+=y,((l=_==null?void 0:_.headers)===null||l===void 0?void 0:l[$u])!=="active")break;if(f<=h)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return _}async function U2(n){return{size:n.size,type:n.type}}function z2(n){return new Promise(t=>setTimeout(t,n))}class B2{async upload(t,o,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await P2(t,o,r)}async uploadToFileSearchStore(t,o,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await k2(t,o,r)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await U2(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class H2{create(t,o,r){return new O2(t,o,r)}}class O2{constructor(t,o,r){this.url=t,this.headers=o,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ty="x-goog-api-key";class G2{constructor(t){this.apiKey=t}async addAuthHeaders(t,o){if(t.get(ty)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(ty,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const V2="gl-node/";class q2{get interactions(){if(this._interactions!==void 0)return this._interactions;if(console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions."),this.vertexai)throw new Error("This version of the GenAI SDK does not support Vertex AI API for interactions.");const t=this.httpOptions;t!=null&&t.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const o=new Ot({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:t==null?void 0:t.timeout});return this._interactions=o.interactions,this._interactions}constructor(t){var o;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=t.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=t.apiKey;const r=zE(t.httpOptions,t.vertexai,void 0,void 0);r&&(t.httpOptions?t.httpOptions.baseUrl=r:t.httpOptions={baseUrl:r}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const l=new G2(this.apiKey);this.apiClient=new UN({auth:l,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:V2+"web",uploader:new B2,downloader:new M2}),this.models=new tA(this.apiClient),this.live=new KN(this.apiClient,l,new H2),this.batches=new fC(this.apiClient),this.chats=new JC(this.models,this.apiClient),this.caches=new FC(this.apiClient),this.files=new i1(this.apiClient),this.operations=new nA(this.apiClient),this.authTokens=new yA(this.apiClient),this.tunings=new A2(this.apiClient),this.fileSearchStores=new wA(this.apiClient)}}var F2={};const Z2=async n=>{const t=F2.API_KEY;if(!t)return console.warn("API_KEY is missing in environment variables"),"I'm sorry, I cannot connect to the AI service right now. Please check the configuration.";try{return(await new q2({apiKey:t}).models.generateContent({model:"gemini-2.5-flash",contents:n,config:{systemInstruction:`
      You are an expert concierge and local guide for Dahab, Egypt. 
      The user is using the "AmakenDahab" app.
      Your tone should be relaxed, friendly, and helpful (the "Dahab vibe").
      
      You can help with:
      1. Recommending types of events (Parties, Diving, Hikes, Yoga).
      2. Suggesting local areas (Lighthouse, Mashraba, Laguna, Assalah).
      3. Explaining how to pay with Vodafone Cash or Instapay in Egypt.
      4. Giving tips on wind conditions for kitesurfing.
      
      Keep answers concise and formatted nicely. Do not make up specific phone numbers, but you can suggest general places.
    `}})).text||"I'm having a bit of trouble hearing the waves. Can you ask that again?"}catch(o){return console.error("Gemini Error:",o),"Sorry, I'm taking a break by the sea. Please try again later."}},Y2=()=>{const[n,t]=z.useState(!1),[o,r]=z.useState(""),[l,f]=z.useState([{role:"ai",text:"Hi! I am your Dahab concierge. Ask me about events, where to find a driver, or the best spot for dinner!"}]),[h,_]=z.useState(!1),x=z.useRef(null),y=()=>{var b;(b=x.current)==null||b.scrollIntoView({behavior:"smooth"})};z.useEffect(y,[l]);const E=async()=>{if(!o.trim())return;const b=o;r(""),f(R=>[...R,{role:"user",text:b}]),_(!0);const C=await Z2(b);f(R=>[...R,{role:"ai",text:C}]),_(!1)};return v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:()=>t(!0),className:`fixed bottom-20 md:bottom-10 right-4 md:right-10 bg-gradient-to-r from-dahab-teal to-blue-500 text-white p-4 rounded-full shadow-xl hover:shadow-2xl transition-all transform hover:scale-110 z-40 ${n?"hidden":"flex"}`,children:v.jsx(Cf,{size:24})}),n&&v.jsxs("div",{className:"fixed bottom-0 md:bottom-24 right-0 md:right-10 w-full md:w-96 h-[80vh] md:h-[500px] bg-white md:rounded-2xl shadow-2xl flex flex-col z-50 border border-gray-100",children:[v.jsxs("div",{className:"bg-gradient-to-r from-dahab-teal to-blue-500 p-4 text-white flex justify-between items-center md:rounded-t-2xl",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(Cf,{size:18}),v.jsx("h3",{className:"font-bold",children:"Dahab Concierge"})]}),v.jsx("button",{onClick:()=>t(!1),className:"hover:bg-white/20 p-1 rounded",children:v.jsx(Ji,{size:20})})]}),v.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-slate-50",children:[l.map((b,C)=>v.jsx("div",{className:`flex ${b.role==="user"?"justify-end":"justify-start"}`,children:v.jsx("div",{className:`max-w-[80%] p-3 rounded-2xl text-sm ${b.role==="user"?"bg-dahab-teal text-white rounded-br-none":"bg-white text-gray-800 shadow-sm border border-gray-100 rounded-bl-none"}`,children:b.text})},C)),h&&v.jsx("div",{className:"flex justify-start",children:v.jsx("div",{className:"bg-white p-3 rounded-2xl rounded-bl-none shadow-sm border border-gray-100",children:v.jsxs("div",{className:"flex gap-1",children:[v.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),v.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce delay-75"}),v.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce delay-150"})]})})}),v.jsx("div",{ref:x})]}),v.jsxs("div",{className:"p-3 border-t bg-white flex gap-2",children:[v.jsx("input",{type:"text",value:o,onChange:b=>r(b.target.value),onKeyDown:b=>b.key==="Enter"&&E(),placeholder:"Ask about Dahab...",className:"flex-1 border rounded-full px-4 py-2 focus:outline-none focus:ring-2 focus:ring-dahab-teal/50 text-sm"}),v.jsx("button",{onClick:E,disabled:h||!o.trim(),className:"bg-dahab-teal text-white p-2 rounded-full hover:bg-teal-700 disabled:opacity-50",children:v.jsx(tc,{size:18})})]})]})]})},J2=()=>{const[n,t]=z.useState(!1);return z.useEffect(()=>{const o=window.navigator.userAgent.toLowerCase(),r=/iphone|ipad|ipod/.test(o),l=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone;if(r&&!l){const f=setTimeout(()=>t(!0),3e3);return()=>clearTimeout(f)}},[]),n?v.jsx("div",{className:"fixed bottom-4 left-4 right-4 z-[60] animate-in slide-in-from-bottom duration-700",children:v.jsxs("div",{className:"bg-white/95 backdrop-blur-md rounded-2xl shadow-2xl p-5 border border-gray-200 relative max-w-md mx-auto",children:[v.jsx("button",{onClick:()=>t(!1),className:"absolute top-2 right-2 p-1 text-gray-400 hover:text-gray-600",children:v.jsx(Ji,{size:20})}),v.jsxs("div",{className:"flex gap-4 items-start",children:[v.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-xl flex items-center justify-center text-2xl shadow-sm",children:""}),v.jsxs("div",{className:"flex-1",children:[v.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Install App"}),v.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Install AmakenDahab on your iPhone for the best experience."}),v.jsxs("div",{className:"text-sm flex flex-col gap-2 text-gray-800",children:[v.jsxs("div",{className:"flex items-center gap-2",children:["1. Tap the ",v.jsx(GT,{size:16,className:"text-blue-500"})," ",v.jsx("span",{className:"font-bold",children:"Share"})," button"]}),v.jsxs("div",{className:"flex items-center gap-2",children:["2. Scroll down and tap ",v.jsx("span",{className:"font-bold bg-gray-100 px-2 py-0.5 rounded border",children:"Add to Home Screen"})]})]})]})]}),v.jsx("div",{className:"absolute -bottom-2 left-1/2 -translate-x-1/2 w-4 h-4 bg-white/95 rotate-45 border-b border-r border-gray-200"})]})}):null},j2=()=>{const[n,t]=z.useState(null),{settings:o}=nc(),[r,l]=z.useState(null),h=o.backgroundStyle.includes("#0f172a")||o.backgroundStyle.includes("#000000")?"text-gray-100":"text-gray-800";z.useEffect(()=>{const b=localStorage.getItem("dahab_user");b&&t(JSON.parse(b))},[]),z.useEffect(()=>{const b=C=>{C.preventDefault(),l(C)};return window.addEventListener("beforeinstallprompt",b),()=>window.removeEventListener("beforeinstallprompt",b)},[]);const _=async()=>{if(!r)return;r.prompt();const{outcome:b}=await r.userChoice;b==="accepted"&&(console.log("User accepted the install prompt"),l(null))};z.useEffect(()=>{if(n&&n.role===vt.PROVIDER&&n.providerStatus==="pending"){const b=setInterval(async()=>{const C=await Ue.getUser(n.id);C&&C.providerStatus!==n.providerStatus&&(t(C),localStorage.setItem("dahab_user",JSON.stringify(C)))},5e3);return()=>clearInterval(b)}},[n]);const x=b=>{t(b),localStorage.setItem("dahab_user",JSON.stringify(b))},y=()=>{t(null),localStorage.removeItem("dahab_user")},E=async b=>{var D;if(!n){alert("Please login to save events.");return}const R=((D=n.savedEventIds)==null?void 0:D.includes(b))?n.savedEventIds.filter(I=>I!==b):[...n.savedEventIds||[],b],k={...n,savedEventIds:R};t(k),localStorage.setItem("dahab_user",JSON.stringify(k)),await Ue.toggleSavedEvent(n.id,b)};return v.jsx(_S,{children:v.jsxs("div",{className:`min-h-screen pb-20 md:pb-0 md:pt-20 pt-safe ${h} transition-all duration-500 ease-in-out`,style:{backgroundImage:o.backgroundStyle,backgroundAttachment:"fixed",backgroundSize:"cover",backgroundRepeat:"no-repeat"},children:[v.jsx(mE,{userRole:(n==null?void 0:n.role)||null,onLogout:y,installPrompt:r,onInstall:_}),(n==null?void 0:n.role)===vt.PROVIDER&&(n==null?void 0:n.providerStatus)==="pending"&&v.jsxs("div",{className:"bg-yellow-500 text-white px-4 py-2 text-center text-sm font-bold shadow-md flex items-center justify-center gap-2",children:[v.jsx(Xf,{size:16}),v.jsx("span",{children:"Your provider account is pending admin verification. You can browse as a user until approved."})]}),v.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:v.jsxs(Kx,{children:[v.jsx(Qn,{path:"/",element:v.jsx(pE,{})}),v.jsx(Qn,{path:"/events",element:v.jsx(SE,{user:n,onToggleSave:E})}),v.jsx(Qn,{path:"/services",element:v.jsx(TE,{user:n})}),v.jsx(Qn,{path:"/community",element:v.jsx(ME,{user:n})}),v.jsx(Qn,{path:"/more",element:v.jsx(IE,{})}),v.jsx(Qn,{path:"/login",element:v.jsx(wE,{onLogin:x})}),v.jsx(Qn,{path:"/book/:type/:id",element:n?v.jsx(NE,{user:n}):v.jsx(Pu,{to:"/login"})}),v.jsx(Qn,{path:"/profile",element:n?v.jsx(AE,{user:n,onToggleSave:E}):v.jsx(Pu,{to:"/login"})}),v.jsx(Qn,{path:"/provider-dashboard",element:(n==null?void 0:n.role)===vt.PROVIDER?v.jsx(LE,{}):v.jsx(Pu,{to:"/login"})}),v.jsx(Qn,{path:"/admin",element:(n==null?void 0:n.role)===vt.ADMIN?v.jsx(CE,{}):v.jsx(Pu,{to:"/login"})})]})}),v.jsx(Y2,{}),v.jsx(J2,{})]})})},K2=()=>v.jsx(hE,{children:v.jsx(j2,{})}),A0=document.getElementById("root");if(!A0)throw new Error("Could not find root element to mount to");const X2=nx.createRoot(A0);X2.render(v.jsx(j_.StrictMode,{children:v.jsx(K2,{})}));
